import{r as _,M as $f,j as d,k as Hl,P as Gf,l as Vf,n as Yf,L as qf,c as Ae,u as Kf,o as Xf,R as He,m as Oe,p as Jf,q as Qf,s as ns,t as em,v as Ul,w as tm,b as nn,_ as nm,W as im,x as lo,y as rm,e as Rt,d as oi,i as $l,B as om,a as sm}from"./main-2c13c5c7.js";import{U as Gl}from"./user-2e4b218b.js";import{u as ve,P as ue,e as am,S as ei,c as J,f as lm,g as Xi,B as he,I as Ie,a as is,L as xe,b as cm,h as um,i as dm}from"./loading-spinner-9c8a626e.js";class hm extends _.Component{getSnapshotBeforeUpdate(n){const i=this.props.childRef.current;if(i&&n.isPresent&&!this.props.isPresent){const s=i.offsetParent,l=s instanceof HTMLElement&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=i.offsetHeight||0,o.width=i.offsetWidth||0,o.top=i.offsetTop,o.left=i.offsetLeft,o.right=l-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fm({children:t,isPresent:n,anchorX:i}){const s=_.useId(),l=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=_.useContext($f);return _.useInsertionEffect(()=>{const{width:u,height:f,top:m,left:g,right:v}=o.current;if(n||!l.current||!u||!f)return;const y=i==="left"?`left: ${g}`:`right: ${v}`;l.current.dataset.motionPopId=s;const x=document.createElement("style");return c&&(x.nonce=c),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),d.jsx(hm,{isPresent:n,childRef:l,sizeRef:o,children:_.cloneElement(t,{ref:l})})}const mm=({children:t,initial:n,isPresent:i,onExitComplete:s,custom:l,presenceAffectsLayout:o,mode:c,anchorX:u})=>{const f=Hl(pm),m=_.useId(),g=_.useCallback(y=>{f.set(y,!0);for(const x of f.values())if(!x)return;s&&s()},[f,s]),v=_.useMemo(()=>({id:m,initial:n,isPresent:i,custom:l,onExitComplete:g,register:y=>(f.set(y,!1),()=>f.delete(y))}),o?[Math.random(),g]:[i,g]);return _.useMemo(()=>{f.forEach((y,x)=>f.set(x,!1))},[i]),_.useEffect(()=>{!i&&!f.size&&s&&s()},[i]),c==="popLayout"&&(t=d.jsx(fm,{isPresent:i,anchorX:u,children:t})),d.jsx(Gf.Provider,{value:v,children:t})};function pm(){return new Map}const Ii=t=>t.key||"";function il(t){const n=[];return _.Children.forEach(t,i=>{_.isValidElement(i)&&n.push(i)}),n}const To=({children:t,custom:n,initial:i=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:o="sync",propagate:c=!1,anchorX:u="left"})=>{const[f,m]=Vf(c),g=_.useMemo(()=>il(t),[t]),v=c&&!f?[]:g.map(Ii),y=_.useRef(!0),x=_.useRef(g),C=Hl(()=>new Map),[b,M]=_.useState(g),[P,S]=_.useState(g);Yf(()=>{y.current=!1,x.current=g;for(let D=0;D<P.length;D++){const I=Ii(P[D]);v.includes(I)?C.delete(I):C.get(I)!==!0&&C.set(I,!1)}},[P,v.length,v.join("-")]);const T=[];if(g!==b){let D=[...g];for(let I=0;I<P.length;I++){const j=P[I],F=Ii(j);v.includes(F)||(D.splice(I,0,j),T.push(j))}o==="wait"&&T.length&&(D=T),S(il(D)),M(g);return}const{forceRender:A}=_.useContext(qf);return d.jsx(d.Fragment,{children:P.map(D=>{const I=Ii(D),j=c&&!f?!1:g===P||v.includes(I),F=()=>{if(C.has(I))C.set(I,!0);else return;let Z=!0;C.forEach(V=>{V||(Z=!1)}),Z&&(A==null||A(),S(x.current),c&&(m==null||m()),s&&s())};return d.jsx(mm,{isPresent:j,initial:!y.current||i?void 0:!1,custom:j?void 0:n,presenceAffectsLayout:l,mode:o,onExitComplete:j?void 0:F,anchorX:u,children:D},I)})})};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vm=Ae("Bell",gm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eo=Ae("Calendar",_m);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xm=Ae("Check",ym);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vl=Ae("ChevronDown",wm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cm=Ae("ChevronLeft",bm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sm=Ae("ChevronRight",Pm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Mm=Ae("ChevronUp",Lm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tm=Ae("Circle",Nm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],km=Ae("Clipboard",Em);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M17.915 22a6 6 0 0 0-12 0",key:"suqz9p"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Dm=Ae("ContactRound",Om);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],jm=Ae("Crosshair",Am);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],ko=Ae("Filter",Rm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Bm=Ae("HardHat",Im);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zm=Ae("Image",Fm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yl=Ae("MapPin",Wm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ji=Ae("Plus",Zm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Um=Ae("Search",Hm);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],si=Ae("X",$m),Gm=[{path:"/orders",icon:km,label:"Orders"},{path:"/job-sites",icon:Bm,label:"Job Sites"},{path:"/notifications",icon:vm,label:"Notifications"},{path:"/profile",icon:Gl,label:"Profile"}];function Vm(){const t=Kf(),n=Xf(),i=He.useMemo(()=>Gm.map(({path:s,icon:l,label:o})=>{const c=n.pathname===s;return d.jsxs("div",{onClick:()=>t(s),className:"relative flex min-w-[50px] flex-col items-center justify-center",children:[d.jsxs(Oe.div,{initial:{scale:1},animate:{scale:c?1.2:1},transition:{type:"spring",stiffness:300,damping:20},className:`relative flex items-center justify-center ${c?"text-primary":"text-muted-foreground"}`,children:[d.jsx(l,{className:"mb-[2px] h-5 w-5 text-[var(--main-color)]"}),c&&d.jsx(Oe.div,{layoutId:"bottomNavIndicator",className:"absolute -bottom-1.5 h-1 w-1 rounded-full bg-[var(--main-color)]",transition:{type:"spring",stiffness:300,damping:30}})]}),d.jsx("span",{className:`mt-[10px] text-xs  text-[var(--main-color)] ${c?"font-medium text-primary":"text-muted-foreground"}`,children:o})]},s)}),[n.pathname]);return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsx("div",{className:"grid h-16 grid-cols-4 px-4",children:i})})}function ie(t,n,{checkForDefaultPrevented:i=!0}={}){return function(l){if(t==null||t(l),i===!1||!l.defaultPrevented)return n==null?void 0:n(l)}}function Ym(t,n){const i=_.createContext(n),s=o=>{const{children:c,...u}=o,f=_.useMemo(()=>u,Object.values(u));return d.jsx(i.Provider,{value:f,children:c})};s.displayName=t+"Provider";function l(o){const c=_.useContext(i);if(c)return c;if(n!==void 0)return n;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[s,l]}function _t(t,n=[]){let i=[];function s(o,c){const u=_.createContext(c),f=i.length;i=[...i,c];const m=v=>{var P;const{scope:y,children:x,...C}=v,b=((P=y==null?void 0:y[t])==null?void 0:P[f])||u,M=_.useMemo(()=>C,Object.values(C));return d.jsx(b.Provider,{value:M,children:x})};m.displayName=o+"Provider";function g(v,y){var b;const x=((b=y==null?void 0:y[t])==null?void 0:b[f])||u,C=_.useContext(x);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[m,g]}const l=()=>{const o=i.map(c=>_.createContext(c));return function(u){const f=(u==null?void 0:u[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return l.scopeName=t,[s,qm(l,...n)]}function qm(...t){const n=t[0];if(t.length===1)return n;const i=()=>{const s=t.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(o){const c=s.reduce((u,{useScope:f,scopeName:m})=>{const v=f(o)[`__scope${m}`];return{...u,...v}},{});return _.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return i.scopeName=n.scopeName,i}var Fe=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Km=Jf["useId".toString()]||(()=>{}),Xm=0;function Ft(t){const[n,i]=_.useState(Km());return Fe(()=>{t||i(s=>s??String(Xm++))},[t]),t||(n?`radix-${n}`:"")}function Be(t){const n=_.useRef(t);return _.useEffect(()=>{n.current=t}),_.useMemo(()=>(...i)=>{var s;return(s=n.current)==null?void 0:s.call(n,...i)},[])}function Pn({prop:t,defaultProp:n,onChange:i=()=>{}}){const[s,l]=Jm({defaultProp:n,onChange:i}),o=t!==void 0,c=o?t:s,u=Be(i),f=_.useCallback(m=>{if(o){const v=typeof m=="function"?m(t):m;v!==t&&u(v)}else l(m)},[o,t,l,u]);return[c,f]}function Jm({defaultProp:t,onChange:n}){const i=_.useState(t),[s]=i,l=_.useRef(s),o=Be(n);return _.useEffect(()=>{l.current!==s&&(o(s),l.current=s)},[s,l,o]),i}function Qm(t,n=globalThis==null?void 0:globalThis.document){const i=Be(t);_.useEffect(()=>{const s=l=>{l.key==="Escape"&&i(l)};return n.addEventListener("keydown",s,{capture:!0}),()=>n.removeEventListener("keydown",s,{capture:!0})},[i,n])}var ep="DismissableLayer",Oo="dismissableLayer.update",tp="dismissableLayer.pointerDownOutside",np="dismissableLayer.focusOutside",rl,ql=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ur=_.forwardRef((t,n)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...f}=t,m=_.useContext(ql),[g,v]=_.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=_.useState({}),C=ve(n,j=>v(j)),b=Array.from(m.layers),[M]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=b.indexOf(M),S=g?b.indexOf(g):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,A=S>=P,D=op(j=>{const F=j.target,Z=[...m.branches].some(V=>V.contains(F));!A||Z||(l==null||l(j),c==null||c(j),j.defaultPrevented||u==null||u())},y),I=sp(j=>{const F=j.target;[...m.branches].some(V=>V.contains(F))||(o==null||o(j),c==null||c(j),j.defaultPrevented||u==null||u())},y);return Qm(j=>{S===m.layers.size-1&&(s==null||s(j),!j.defaultPrevented&&u&&(j.preventDefault(),u()))},y),_.useEffect(()=>{if(g)return i&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(rl=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),ol(),()=>{i&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=rl)}},[g,y,i,m]),_.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),ol())},[g,m]),_.useEffect(()=>{const j=()=>x({});return document.addEventListener(Oo,j),()=>document.removeEventListener(Oo,j)},[]),d.jsx(ue.div,{...f,ref:C,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,I.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,D.onPointerDownCapture)})});ur.displayName=ep;var ip="DismissableLayerBranch",rp=_.forwardRef((t,n)=>{const i=_.useContext(ql),s=_.useRef(null),l=ve(n,s);return _.useEffect(()=>{const o=s.current;if(o)return i.branches.add(o),()=>{i.branches.delete(o)}},[i.branches]),d.jsx(ue.div,{...t,ref:l})});rp.displayName=ip;function op(t,n=globalThis==null?void 0:globalThis.document){const i=Be(t),s=_.useRef(!1),l=_.useRef(()=>{});return _.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let f=function(){Kl(tp,i,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=f,n.addEventListener("click",l.current,{once:!0})):f()}else n.removeEventListener("click",l.current);s.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",o),n.removeEventListener("click",l.current)}},[n,i]),{onPointerDownCapture:()=>s.current=!0}}function sp(t,n=globalThis==null?void 0:globalThis.document){const i=Be(t),s=_.useRef(!1);return _.useEffect(()=>{const l=o=>{o.target&&!s.current&&Kl(np,i,{originalEvent:o},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,i]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ol(){const t=new CustomEvent(Oo);document.dispatchEvent(t)}function Kl(t,n,i,{discrete:s}){const l=i.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});n&&l.addEventListener(t,n,{once:!0}),s?am(l,o):l.dispatchEvent(o)}var co="focusScope.autoFocusOnMount",uo="focusScope.autoFocusOnUnmount",sl={bubbles:!1,cancelable:!0},ap="FocusScope",dr=_.forwardRef((t,n)=>{const{loop:i=!1,trapped:s=!1,onMountAutoFocus:l,onUnmountAutoFocus:o,...c}=t,[u,f]=_.useState(null),m=Be(l),g=Be(o),v=_.useRef(null),y=ve(n,b=>f(b)),x=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let b=function(T){if(x.paused||!u)return;const A=T.target;u.contains(A)?v.current=A:Bt(v.current,{select:!0})},M=function(T){if(x.paused||!u)return;const A=T.relatedTarget;A!==null&&(u.contains(A)||Bt(v.current,{select:!0}))},P=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&Bt(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",M);const S=new MutationObserver(P);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",M),S.disconnect()}}},[s,u,x.paused]),_.useEffect(()=>{if(u){ll.add(x);const b=document.activeElement;if(!u.contains(b)){const P=new CustomEvent(co,sl);u.addEventListener(co,m),u.dispatchEvent(P),P.defaultPrevented||(lp(fp(Xl(u)),{select:!0}),document.activeElement===b&&Bt(u))}return()=>{u.removeEventListener(co,m),setTimeout(()=>{const P=new CustomEvent(uo,sl);u.addEventListener(uo,g),u.dispatchEvent(P),P.defaultPrevented||Bt(b??document.body,{select:!0}),u.removeEventListener(uo,g),ll.remove(x)},0)}}},[u,m,g,x]);const C=_.useCallback(b=>{if(!i&&!s||x.paused)return;const M=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,P=document.activeElement;if(M&&P){const S=b.currentTarget,[T,A]=cp(S);T&&A?!b.shiftKey&&P===A?(b.preventDefault(),i&&Bt(T,{select:!0})):b.shiftKey&&P===T&&(b.preventDefault(),i&&Bt(A,{select:!0})):P===S&&b.preventDefault()}},[i,s,x.paused]);return d.jsx(ue.div,{tabIndex:-1,...c,ref:y,onKeyDown:C})});dr.displayName=ap;function lp(t,{select:n=!1}={}){const i=document.activeElement;for(const s of t)if(Bt(s,{select:n}),document.activeElement!==i)return}function cp(t){const n=Xl(t),i=al(n,t),s=al(n.reverse(),t);return[i,s]}function Xl(t){const n=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n}function al(t,n){for(const i of t)if(!up(i,{upTo:n}))return i}function up(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dp(t){return t instanceof HTMLInputElement&&"select"in t}function Bt(t,{select:n=!1}={}){if(t&&t.focus){const i=document.activeElement;t.focus({preventScroll:!0}),t!==i&&dp(t)&&n&&t.select()}}var ll=hp();function hp(){let t=[];return{add(n){const i=t[0];n!==i&&(i==null||i.pause()),t=cl(t,n),t.unshift(n)},remove(n){var i;t=cl(t,n),(i=t[0])==null||i.resume()}}}function cl(t,n){const i=[...t],s=i.indexOf(n);return s!==-1&&i.splice(s,1),i}function fp(t){return t.filter(n=>n.tagName!=="A")}var mp="Portal",hr=_.forwardRef((t,n)=>{var u;const{container:i,...s}=t,[l,o]=_.useState(!1);Fe(()=>o(!0),[]);const c=i||l&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Qf.createPortal(d.jsx(ue.div,{...s,ref:n}),c):null});hr.displayName=mp;function pp(t,n){return _.useReducer((i,s)=>n[i][s]??i,t)}var st=t=>{const{present:n,children:i}=t,s=gp(n),l=typeof i=="function"?i({present:s.isPresent}):_.Children.only(i),o=ve(s.ref,vp(l));return typeof i=="function"||s.isPresent?_.cloneElement(l,{ref:o}):null};st.displayName="Presence";function gp(t){const[n,i]=_.useState(),s=_.useRef({}),l=_.useRef(t),o=_.useRef("none"),c=t?"mounted":"unmounted",[u,f]=pp(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Bi(s.current);o.current=u==="mounted"?m:"none"},[u]),Fe(()=>{const m=s.current,g=l.current;if(g!==t){const y=o.current,x=Bi(m);t?f("MOUNT"):x==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(g&&y!==x?"ANIMATION_OUT":"UNMOUNT"),l.current=t}},[t,f]),Fe(()=>{if(n){let m;const g=n.ownerDocument.defaultView??window,v=x=>{const b=Bi(s.current).includes(x.animationName);if(x.target===n&&b&&(f("ANIMATION_END"),!l.current)){const M=n.style.animationFillMode;n.style.animationFillMode="forwards",m=g.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=M)})}},y=x=>{x.target===n&&(o.current=Bi(s.current))};return n.addEventListener("animationstart",y),n.addEventListener("animationcancel",v),n.addEventListener("animationend",v),()=>{g.clearTimeout(m),n.removeEventListener("animationstart",y),n.removeEventListener("animationcancel",v),n.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[n,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(m=>{m&&(s.current=getComputedStyle(m)),i(m)},[])}}function Bi(t){return(t==null?void 0:t.animationName)||"none"}function vp(t){var s,l;let n=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?t.ref:(n=(l=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:l.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var ho=0;function rs(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ul()),document.body.insertAdjacentElement("beforeend",t[1]??ul()),ho++,()=>{ho===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),ho--}},[])}function ul(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ht=function(){return ht=Object.assign||function(n){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},ht.apply(this,arguments)};function Jl(t,n){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)n.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i}function _p(t,n,i){if(i||arguments.length===2)for(var s=0,l=n.length,o;s<l;s++)(o||!(s in n))&&(o||(o=Array.prototype.slice.call(n,0,s)),o[s]=n[s]);return t.concat(o||Array.prototype.slice.call(n))}var $i="right-scroll-bar-position",Gi="width-before-scroll-bar",yp="with-scroll-bars-hidden",xp="--removed-body-scroll-bar-size";function fo(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function wp(t,n){var i=_.useState(function(){return{value:t,callback:n,facade:{get current(){return i.value},set current(s){var l=i.value;l!==s&&(i.value=s,i.callback(s,l))}}}})[0];return i.callback=n,i.facade}var bp=typeof window<"u"?_.useLayoutEffect:_.useEffect,dl=new WeakMap;function Cp(t,n){var i=wp(n||null,function(s){return t.forEach(function(l){return fo(l,s)})});return bp(function(){var s=dl.get(i);if(s){var l=new Set(s),o=new Set(t),c=i.current;l.forEach(function(u){o.has(u)||fo(u,null)}),o.forEach(function(u){l.has(u)||fo(u,c)})}dl.set(i,t)},[t]),i}function Pp(t){return t}function Sp(t,n){n===void 0&&(n=Pp);var i=[],s=!1,l={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:t},useMedium:function(o){var c=n(o,s);return i.push(c),function(){i=i.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(s=!0;i.length;){var c=i;i=[],c.forEach(o)}i={push:function(u){return o(u)},filter:function(){return i}}},assignMedium:function(o){s=!0;var c=[];if(i.length){var u=i;i=[],u.forEach(o),c=i}var f=function(){var g=c;c=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),i={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),i}}}};return l}function Lp(t){t===void 0&&(t={});var n=Sp(null);return n.options=ht({async:!0,ssr:!1},t),n}var Ql=function(t){var n=t.sideCar,i=Jl(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,ht({},i))};Ql.isSideCarExport=!0;function Mp(t,n){return t.useMedium(n),Ql}var ec=Lp(),mo=function(){},fr=_.forwardRef(function(t,n){var i=_.useRef(null),s=_.useState({onScrollCapture:mo,onWheelCapture:mo,onTouchMoveCapture:mo}),l=s[0],o=s[1],c=t.forwardProps,u=t.children,f=t.className,m=t.removeScrollBar,g=t.enabled,v=t.shards,y=t.sideCar,x=t.noIsolation,C=t.inert,b=t.allowPinchZoom,M=t.as,P=M===void 0?"div":M,S=t.gapMode,T=Jl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,D=Cp([i,n]),I=ht(ht({},T),l);return _.createElement(_.Fragment,null,g&&_.createElement(A,{sideCar:ec,removeScrollBar:m,shards:v,noIsolation:x,inert:C,setCallbacks:o,allowPinchZoom:!!b,lockRef:i,gapMode:S}),c?_.cloneElement(_.Children.only(u),ht(ht({},I),{ref:D})):_.createElement(P,ht({},I,{className:f,ref:D}),u))});fr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fr.classNames={fullWidth:Gi,zeroRight:$i};var hl,Np=function(){if(hl)return hl;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tp(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=Np();return n&&t.setAttribute("nonce",n),t}function Ep(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function kp(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var Op=function(){var t=0,n=null;return{add:function(i){t==0&&(n=Tp())&&(Ep(n,i),kp(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},Dp=function(){var t=Op();return function(n,i){_.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&i])}},tc=function(){var t=Dp(),n=function(i){var s=i.styles,l=i.dynamic;return t(s,l),null};return n},Ap={left:0,top:0,right:0,gap:0},po=function(t){return parseInt(t||"",10)||0},jp=function(t){var n=window.getComputedStyle(document.body),i=n[t==="padding"?"paddingLeft":"marginLeft"],s=n[t==="padding"?"paddingTop":"marginTop"],l=n[t==="padding"?"paddingRight":"marginRight"];return[po(i),po(s),po(l)]},Rp=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ap;var n=jp(t),i=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-i+n[2]-n[0])}},Ip=tc(),xn="data-scroll-locked",Bp=function(t,n,i,s){var l=t.left,o=t.top,c=t.right,u=t.gap;return i===void 0&&(i="margin"),`
  .`.concat(yp,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(xn,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),i==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),i==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($i,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Gi,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat($i," .").concat($i,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Gi," .").concat(Gi,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(xn,`] {
    `).concat(xp,": ").concat(u,`px;
  }
`)},fl=function(){var t=parseInt(document.body.getAttribute(xn)||"0",10);return isFinite(t)?t:0},Fp=function(){_.useEffect(function(){return document.body.setAttribute(xn,(fl()+1).toString()),function(){var t=fl()-1;t<=0?document.body.removeAttribute(xn):document.body.setAttribute(xn,t.toString())}},[])},zp=function(t){var n=t.noRelative,i=t.noImportant,s=t.gapMode,l=s===void 0?"margin":s;Fp();var o=_.useMemo(function(){return Rp(l)},[l]);return _.createElement(Ip,{styles:Bp(o,!n,l,i?"":"!important")})},Do=!1;if(typeof window<"u")try{var Fi=Object.defineProperty({},"passive",{get:function(){return Do=!0,!0}});window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Do=!1}var pn=Do?{passive:!1}:!1,Wp=function(t){return t.tagName==="TEXTAREA"},nc=function(t,n){if(!(t instanceof Element))return!1;var i=window.getComputedStyle(t);return i[n]!=="hidden"&&!(i.overflowY===i.overflowX&&!Wp(t)&&i[n]==="visible")},Zp=function(t){return nc(t,"overflowY")},Hp=function(t){return nc(t,"overflowX")},ml=function(t,n){var i=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var l=ic(t,s);if(l){var o=rc(t,s),c=o[1],u=o[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==i.body);return!1},Up=function(t){var n=t.scrollTop,i=t.scrollHeight,s=t.clientHeight;return[n,i,s]},$p=function(t){var n=t.scrollLeft,i=t.scrollWidth,s=t.clientWidth;return[n,i,s]},ic=function(t,n){return t==="v"?Zp(n):Hp(n)},rc=function(t,n){return t==="v"?Up(n):$p(n)},Gp=function(t,n){return t==="h"&&n==="rtl"?-1:1},Vp=function(t,n,i,s,l){var o=Gp(t,window.getComputedStyle(n).direction),c=o*s,u=i.target,f=n.contains(u),m=!1,g=c>0,v=0,y=0;do{var x=rc(t,u),C=x[0],b=x[1],M=x[2],P=b-M-o*C;(C||P)&&ic(t,u)&&(v+=P,y+=C),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(n.contains(u)||n===u));return(g&&(l&&Math.abs(v)<1||!l&&c>v)||!g&&(l&&Math.abs(y)<1||!l&&-c>y))&&(m=!0),m},zi=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pl=function(t){return[t.deltaX,t.deltaY]},gl=function(t){return t&&"current"in t?t.current:t},Yp=function(t,n){return t[0]===n[0]&&t[1]===n[1]},qp=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Kp=0,gn=[];function Xp(t){var n=_.useRef([]),i=_.useRef([0,0]),s=_.useRef(),l=_.useState(Kp++)[0],o=_.useState(tc)[0],c=_.useRef(t);_.useEffect(function(){c.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(l));var b=_p([t.lockRef.current],(t.shards||[]).map(gl),!0).filter(Boolean);return b.forEach(function(M){return M.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(l))})}}},[t.inert,t.lockRef.current,t.shards]);var u=_.useCallback(function(b,M){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var P=zi(b),S=i.current,T="deltaX"in b?b.deltaX:S[0]-P[0],A="deltaY"in b?b.deltaY:S[1]-P[1],D,I=b.target,j=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in b&&j==="h"&&I.type==="range")return!1;var F=ml(j,I);if(!F)return!0;if(F?D=j:(D=j==="v"?"h":"v",F=ml(j,I)),!F)return!1;if(!s.current&&"changedTouches"in b&&(T||A)&&(s.current=D),!D)return!0;var Z=s.current||D;return Vp(Z,M,b,Z==="h"?T:A,!0)},[]),f=_.useCallback(function(b){var M=b;if(!(!gn.length||gn[gn.length-1]!==o)){var P="deltaY"in M?pl(M):zi(M),S=n.current.filter(function(D){return D.name===M.type&&(D.target===M.target||M.target===D.shadowParent)&&Yp(D.delta,P)})[0];if(S&&S.should){M.cancelable&&M.preventDefault();return}if(!S){var T=(c.current.shards||[]).map(gl).filter(Boolean).filter(function(D){return D.contains(M.target)}),A=T.length>0?u(M,T[0]):!c.current.noIsolation;A&&M.cancelable&&M.preventDefault()}}},[]),m=_.useCallback(function(b,M,P,S){var T={name:b,delta:M,target:P,should:S,shadowParent:Jp(P)};n.current.push(T),setTimeout(function(){n.current=n.current.filter(function(A){return A!==T})},1)},[]),g=_.useCallback(function(b){i.current=zi(b),s.current=void 0},[]),v=_.useCallback(function(b){m(b.type,pl(b),b.target,u(b,t.lockRef.current))},[]),y=_.useCallback(function(b){m(b.type,zi(b),b.target,u(b,t.lockRef.current))},[]);_.useEffect(function(){return gn.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",f,pn),document.addEventListener("touchmove",f,pn),document.addEventListener("touchstart",g,pn),function(){gn=gn.filter(function(b){return b!==o}),document.removeEventListener("wheel",f,pn),document.removeEventListener("touchmove",f,pn),document.removeEventListener("touchstart",g,pn)}},[]);var x=t.removeScrollBar,C=t.inert;return _.createElement(_.Fragment,null,C?_.createElement(o,{styles:qp(l)}):null,x?_.createElement(zp,{gapMode:t.gapMode}):null)}function Jp(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const Qp=Mp(ec,Xp);var oc=_.forwardRef(function(t,n){return _.createElement(fr,ht({},t,{ref:n,sideCar:Qp}))});oc.classNames=fr.classNames;const os=oc;var eg=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},vn=new WeakMap,Wi=new WeakMap,Zi={},go=0,sc=function(t){return t&&(t.host||sc(t.parentNode))},tg=function(t,n){return n.map(function(i){if(t.contains(i))return i;var s=sc(i);return s&&t.contains(s)?s:(console.error("aria-hidden",i,"in not contained inside",t,". Doing nothing"),null)}).filter(function(i){return!!i})},ng=function(t,n,i,s){var l=tg(n,Array.isArray(t)?t:[t]);Zi[i]||(Zi[i]=new WeakMap);var o=Zi[i],c=[],u=new Set,f=new Set(l),m=function(v){!v||u.has(v)||(u.add(v),m(v.parentNode))};l.forEach(m);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(y){if(u.has(y))g(y);else try{var x=y.getAttribute(s),C=x!==null&&x!=="false",b=(vn.get(y)||0)+1,M=(o.get(y)||0)+1;vn.set(y,b),o.set(y,M),c.push(y),b===1&&C&&Wi.set(y,!0),M===1&&y.setAttribute(i,"true"),C||y.setAttribute(s,"true")}catch(P){console.error("aria-hidden: cannot operate on ",y,P)}})};return g(n),u.clear(),go++,function(){c.forEach(function(v){var y=vn.get(v)-1,x=o.get(v)-1;vn.set(v,y),o.set(v,x),y||(Wi.has(v)||v.removeAttribute(s),Wi.delete(v)),x||v.removeAttribute(i)}),go--,go||(vn=new WeakMap,vn=new WeakMap,Wi=new WeakMap,Zi={})}},ss=function(t,n,i){i===void 0&&(i="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),l=n||eg(t);return l?(s.push.apply(s,Array.from(l.querySelectorAll("[aria-live]"))),ng(s,l,i,"aria-hidden")):function(){return null}},as="Dialog",[ac,lc]=_t(as),[ig,at]=ac(as),cc=t=>{const{__scopeDialog:n,children:i,open:s,defaultOpen:l,onOpenChange:o,modal:c=!0}=t,u=_.useRef(null),f=_.useRef(null),[m=!1,g]=Pn({prop:s,defaultProp:l,onChange:o});return d.jsx(ig,{scope:n,triggerRef:u,contentRef:f,contentId:Ft(),titleId:Ft(),descriptionId:Ft(),open:m,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(v=>!v),[g]),modal:c,children:i})};cc.displayName=as;var uc="DialogTrigger",dc=_.forwardRef((t,n)=>{const{__scopeDialog:i,...s}=t,l=at(uc,i),o=ve(n,l.triggerRef);return d.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":us(l.open),...s,ref:o,onClick:ie(t.onClick,l.onOpenToggle)})});dc.displayName=uc;var ls="DialogPortal",[rg,hc]=ac(ls,{forceMount:void 0}),fc=t=>{const{__scopeDialog:n,forceMount:i,children:s,container:l}=t,o=at(ls,n);return d.jsx(rg,{scope:n,forceMount:i,children:_.Children.map(s,c=>d.jsx(st,{present:i||o.open,children:d.jsx(hr,{asChild:!0,container:l,children:c})}))})};fc.displayName=ls;var Qi="DialogOverlay",mc=_.forwardRef((t,n)=>{const i=hc(Qi,t.__scopeDialog),{forceMount:s=i.forceMount,...l}=t,o=at(Qi,t.__scopeDialog);return o.modal?d.jsx(st,{present:s||o.open,children:d.jsx(og,{...l,ref:n})}):null});mc.displayName=Qi;var og=_.forwardRef((t,n)=>{const{__scopeDialog:i,...s}=t,l=at(Qi,i);return d.jsx(os,{as:ei,allowPinchZoom:!0,shards:[l.contentRef],children:d.jsx(ue.div,{"data-state":us(l.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),Jt="DialogContent",pc=_.forwardRef((t,n)=>{const i=hc(Jt,t.__scopeDialog),{forceMount:s=i.forceMount,...l}=t,o=at(Jt,t.__scopeDialog);return d.jsx(st,{present:s||o.open,children:o.modal?d.jsx(sg,{...l,ref:n}):d.jsx(ag,{...l,ref:n})})});pc.displayName=Jt;var sg=_.forwardRef((t,n)=>{const i=at(Jt,t.__scopeDialog),s=_.useRef(null),l=ve(n,i.contentRef,s);return _.useEffect(()=>{const o=s.current;if(o)return ss(o)},[]),d.jsx(gc,{...t,ref:l,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=i.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,o=>o.preventDefault())})}),ag=_.forwardRef((t,n)=>{const i=at(Jt,t.__scopeDialog),s=_.useRef(!1),l=_.useRef(!1);return d.jsx(gc,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(s.current||(u=i.triggerRef.current)==null||u.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const c=o.target;((m=i.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),gc=_.forwardRef((t,n)=>{const{__scopeDialog:i,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,...c}=t,u=at(Jt,i),f=_.useRef(null),m=ve(n,f);return rs(),d.jsxs(d.Fragment,{children:[d.jsx(dr,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:d.jsx(ur,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":us(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(cg,{titleId:u.titleId}),d.jsx(dg,{contentRef:f,descriptionId:u.descriptionId})]})]})}),cs="DialogTitle",vc=_.forwardRef((t,n)=>{const{__scopeDialog:i,...s}=t,l=at(cs,i);return d.jsx(ue.h2,{id:l.titleId,...s,ref:n})});vc.displayName=cs;var _c="DialogDescription",yc=_.forwardRef((t,n)=>{const{__scopeDialog:i,...s}=t,l=at(_c,i);return d.jsx(ue.p,{id:l.descriptionId,...s,ref:n})});yc.displayName=_c;var xc="DialogClose",wc=_.forwardRef((t,n)=>{const{__scopeDialog:i,...s}=t,l=at(xc,i);return d.jsx(ue.button,{type:"button",...s,ref:n,onClick:ie(t.onClick,()=>l.onOpenChange(!1))})});wc.displayName=xc;function us(t){return t?"open":"closed"}var bc="DialogTitleWarning",[lg,Cc]=Ym(bc,{contentName:Jt,titleName:cs,docsSlug:"dialog"}),cg=({titleId:t})=>{const n=Cc(bc),i=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},ug="DialogDescriptionWarning",dg=({contentRef:t,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Cc(ug).contentName}}.`;return _.useEffect(()=>{var o;const l=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");n&&l&&(document.getElementById(n)||console.warn(s))},[s,t,n]),null},ds=cc,hg=dc,hs=fc,ai=mc,li=pc,ci=vc,ui=yc,fs=wc;const mr=ds,fg=hs,Pc=_.forwardRef(({className:t,...n},i)=>d.jsx(ai,{ref:i,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));Pc.displayName=ai.displayName;const di=_.forwardRef(({className:t,children:n,...i},s)=>d.jsxs(fg,{children:[d.jsx(Pc,{}),d.jsx(li,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:n})]}));di.displayName=li.displayName;const mg=({className:t,...n})=>d.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});mg.displayName="ChatDialogHeader";const pr=({className:t,...n})=>d.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});pr.displayName="ChatDialogFooter";const pg=_.forwardRef(({className:t,...n},i)=>d.jsx(ci,{ref:i,className:J("text-lg font-semibold leading-none tracking-tight",t),...n}));pg.displayName=ci.displayName;const gg=_.forwardRef(({className:t,...n},i)=>d.jsx(ui,{ref:i,className:J("text-sm text-muted-foreground",t),...n}));gg.displayName=ui.displayName;const Nt={pageTitle:"Job Sites",status:{active:"Active",inactive:"Inactive"},form:{name:"Job Site Name",address:"Address",status:"Status",customReference:"Custom Reference (Optional)",contactName:"Contact Name",contactPhone:"Contact Phone",contactEmail:"Contact Email (Optional)",notes:"Notes (Optional)"},actions:{add:"Add Job Site",edit:"Edit Job Site",delete:"Delete Job Site",close:"Close"},confirmDelete:"Are you sure you want to delete this job site?",searchPlaceholder:"Search job sites...",selectionDialog:{title:"Select Job Site",searchPlaceholder:"Search job sites..."},detailsDialog:{title:"Job Site Details",contactPerson:"Contact Person"}};var Sc="AlertDialog",[vg,Eb]=_t(Sc,[lc]),kt=lc(),Lc=t=>{const{__scopeAlertDialog:n,...i}=t,s=kt(n);return d.jsx(ds,{...s,...i,modal:!0})};Lc.displayName=Sc;var _g="AlertDialogTrigger",Mc=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,...s}=t,l=kt(i);return d.jsx(hg,{...l,...s,ref:n})});Mc.displayName=_g;var yg="AlertDialogPortal",Nc=t=>{const{__scopeAlertDialog:n,...i}=t,s=kt(n);return d.jsx(hs,{...s,...i})};Nc.displayName=yg;var xg="AlertDialogOverlay",Tc=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,...s}=t,l=kt(i);return d.jsx(ai,{...l,...s,ref:n})});Tc.displayName=xg;var wn="AlertDialogContent",[wg,bg]=vg(wn),Ec=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,children:s,...l}=t,o=kt(i),c=_.useRef(null),u=ve(n,c),f=_.useRef(null);return d.jsx(lg,{contentName:wn,titleName:kc,docsSlug:"alert-dialog",children:d.jsx(wg,{scope:i,cancelRef:f,children:d.jsxs(li,{role:"alertdialog",...o,...l,ref:u,onOpenAutoFocus:ie(l.onOpenAutoFocus,m=>{var g;m.preventDefault(),(g=f.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[d.jsx(lm,{children:s}),d.jsx(Pg,{contentRef:c})]})})})});Ec.displayName=wn;var kc="AlertDialogTitle",Oc=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,...s}=t,l=kt(i);return d.jsx(ci,{...l,...s,ref:n})});Oc.displayName=kc;var Dc="AlertDialogDescription",Ac=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,...s}=t,l=kt(i);return d.jsx(ui,{...l,...s,ref:n})});Ac.displayName=Dc;var Cg="AlertDialogAction",jc=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,...s}=t,l=kt(i);return d.jsx(fs,{...l,...s,ref:n})});jc.displayName=Cg;var Rc="AlertDialogCancel",Ic=_.forwardRef((t,n)=>{const{__scopeAlertDialog:i,...s}=t,{cancelRef:l}=bg(Rc,i),o=kt(i),c=ve(n,l);return d.jsx(fs,{...o,...s,ref:c})});Ic.displayName=Rc;var Pg=({contentRef:t})=>{const n=`\`${wn}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wn}\` by passing a \`${Dc}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wn}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},Sg=Lc,Lg=Mc,Mg=Nc,Bc=Tc,Fc=Ec,zc=jc,Wc=Ic,Zc=Oc,Hc=Ac;const vl=Sg,kb=Lg,Ng=Mg,Uc=_.forwardRef(({className:t,...n},i)=>d.jsx(Bc,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:i}));Uc.displayName=Bc.displayName;const Ao=_.forwardRef(({className:t,...n},i)=>d.jsxs(Ng,{children:[d.jsx(Uc,{}),d.jsx(Fc,{ref:i,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));Ao.displayName=Fc.displayName;const jo=({className:t,...n})=>d.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",t),...n});jo.displayName="AlertDialogHeader";const Ro=({className:t,...n})=>d.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Ro.displayName="AlertDialogFooter";const Io=_.forwardRef(({className:t,...n},i)=>d.jsx(Zc,{ref:i,className:J("text-lg font-semibold",t),...n}));Io.displayName=Zc.displayName;const Bo=_.forwardRef(({className:t,...n},i)=>d.jsx(Hc,{ref:i,className:J("text-sm text-muted-foreground",t),...n}));Bo.displayName=Hc.displayName;const Fo=_.forwardRef(({className:t,...n},i)=>d.jsx(zc,{ref:i,className:J(Xi(),t),...n}));Fo.displayName=zc.displayName;const $c=_.forwardRef(({className:t,...n},i)=>d.jsx(Wc,{ref:i,className:J(Xi({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));$c.displayName=Wc.displayName;function zo(t,[n,i]){return Math.min(i,Math.max(n,t))}function Gc(t){const n=t+"CollectionProvider",[i,s]=_t(n),[l,o]=i(n,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:C,children:b}=x,M=He.useRef(null),P=He.useRef(new Map).current;return d.jsx(l,{scope:C,itemMap:P,collectionRef:M,children:b})};c.displayName=n;const u=t+"CollectionSlot",f=He.forwardRef((x,C)=>{const{scope:b,children:M}=x,P=o(u,b),S=ve(C,P.collectionRef);return d.jsx(ei,{ref:S,children:M})});f.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=He.forwardRef((x,C)=>{const{scope:b,children:M,...P}=x,S=He.useRef(null),T=ve(C,S),A=o(m,b);return He.useEffect(()=>(A.itemMap.set(S,{ref:S,...P}),()=>void A.itemMap.delete(S))),d.jsx(ei,{[g]:"",ref:T,children:M})});v.displayName=m;function y(x){const C=o(t+"CollectionConsumer",x);return He.useCallback(()=>{const M=C.collectionRef.current;if(!M)return[];const P=Array.from(M.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((A,D)=>P.indexOf(A.ref.current)-P.indexOf(D.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},y,s]}var Tg=_.createContext(void 0);function gr(t){const n=_.useContext(Tg);return t||n||"ltr"}const Eg=["top","right","bottom","left"],zt=Math.min,Ge=Math.max,er=Math.round,Hi=Math.floor,mt=t=>({x:t,y:t}),kg={left:"right",right:"left",bottom:"top",top:"bottom"},Og={start:"end",end:"start"};function Wo(t,n,i){return Ge(t,zt(n,i))}function Tt(t,n){return typeof t=="function"?t(n):t}function Et(t){return t.split("-")[0]}function kn(t){return t.split("-")[1]}function ms(t){return t==="x"?"y":"x"}function ps(t){return t==="y"?"height":"width"}function Wt(t){return["top","bottom"].includes(Et(t))?"y":"x"}function gs(t){return ms(Wt(t))}function Dg(t,n,i){i===void 0&&(i=!1);const s=kn(t),l=gs(t),o=ps(l);let c=l==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return n.reference[o]>n.floating[o]&&(c=tr(c)),[c,tr(c)]}function Ag(t){const n=tr(t);return[Zo(t),n,Zo(n)]}function Zo(t){return t.replace(/start|end/g,n=>Og[n])}function jg(t,n,i){const s=["left","right"],l=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return i?n?l:s:n?s:l;case"left":case"right":return n?o:c;default:return[]}}function Rg(t,n,i,s){const l=kn(t);let o=jg(Et(t),i==="start",s);return l&&(o=o.map(c=>c+"-"+l),n&&(o=o.concat(o.map(Zo)))),o}function tr(t){return t.replace(/left|right|bottom|top/g,n=>kg[n])}function Ig(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vc(t){return typeof t!="number"?Ig(t):{top:t,right:t,bottom:t,left:t}}function nr(t){const{x:n,y:i,width:s,height:l}=t;return{width:s,height:l,top:i,left:n,right:n+s,bottom:i+l,x:n,y:i}}function _l(t,n,i){let{reference:s,floating:l}=t;const o=Wt(n),c=gs(n),u=ps(c),f=Et(n),m=o==="y",g=s.x+s.width/2-l.width/2,v=s.y+s.height/2-l.height/2,y=s[u]/2-l[u]/2;let x;switch(f){case"top":x={x:g,y:s.y-l.height};break;case"bottom":x={x:g,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:v};break;case"left":x={x:s.x-l.width,y:v};break;default:x={x:s.x,y:s.y}}switch(kn(n)){case"start":x[c]-=y*(i&&m?-1:1);break;case"end":x[c]+=y*(i&&m?-1:1);break}return x}const Bg=async(t,n,i)=>{const{placement:s="bottom",strategy:l="absolute",middleware:o=[],platform:c}=i,u=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(n));let m=await c.getElementRects({reference:t,floating:n,strategy:l}),{x:g,y:v}=_l(m,s,f),y=s,x={},C=0;for(let b=0;b<u.length;b++){const{name:M,fn:P}=u[b],{x:S,y:T,data:A,reset:D}=await P({x:g,y:v,initialPlacement:s,placement:y,strategy:l,middlewareData:x,rects:m,platform:c,elements:{reference:t,floating:n}});g=S??g,v=T??v,x={...x,[M]:{...x[M],...A}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(y=D.placement),D.rects&&(m=D.rects===!0?await c.getElementRects({reference:t,floating:n,strategy:l}):D.rects),{x:g,y:v}=_l(m,y,f)),b=-1)}return{x:g,y:v,placement:y,strategy:l,middlewareData:x}};async function ti(t,n){var i;n===void 0&&(n={});const{x:s,y:l,platform:o,rects:c,elements:u,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:y=!1,padding:x=0}=Tt(n,t),C=Vc(x),M=u[y?v==="floating"?"reference":"floating":v],P=nr(await o.getClippingRect({element:(i=await(o.isElement==null?void 0:o.isElement(M)))==null||i?M:M.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:f})),S=v==="floating"?{x:s,y:l,width:c.floating.width,height:c.floating.height}:c.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),A=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},D=nr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:T,strategy:f}):S);return{top:(P.top-D.top+C.top)/A.y,bottom:(D.bottom-P.bottom+C.bottom)/A.y,left:(P.left-D.left+C.left)/A.x,right:(D.right-P.right+C.right)/A.x}}const Fg=t=>({name:"arrow",options:t,async fn(n){const{x:i,y:s,placement:l,rects:o,platform:c,elements:u,middlewareData:f}=n,{element:m,padding:g=0}=Tt(t,n)||{};if(m==null)return{};const v=Vc(g),y={x:i,y:s},x=gs(l),C=ps(x),b=await c.getDimensions(m),M=x==="y",P=M?"top":"left",S=M?"bottom":"right",T=M?"clientHeight":"clientWidth",A=o.reference[C]+o.reference[x]-y[x]-o.floating[C],D=y[x]-o.reference[x],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let j=I?I[T]:0;(!j||!await(c.isElement==null?void 0:c.isElement(I)))&&(j=u.floating[T]||o.floating[C]);const F=A/2-D/2,Z=j/2-b[C]/2-1,V=zt(v[P],Z),$=zt(v[S],Z),K=V,H=j-b[C]-$,G=j/2-b[C]/2+F,oe=Wo(K,G,H),U=!f.arrow&&kn(l)!=null&&G!==oe&&o.reference[C]/2-(G<K?V:$)-b[C]/2<0,B=U?G<K?G-K:G-H:0;return{[x]:y[x]+B,data:{[x]:oe,centerOffset:G-oe-B,...U&&{alignmentOffset:B}},reset:U}}}),zg=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var i,s;const{placement:l,middlewareData:o,rects:c,initialPlacement:u,platform:f,elements:m}=n,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:b=!0,...M}=Tt(t,n);if((i=o.arrow)!=null&&i.alignmentOffset)return{};const P=Et(l),S=Wt(u),T=Et(u)===u,A=await(f.isRTL==null?void 0:f.isRTL(m.floating)),D=y||(T||!b?[tr(u)]:Ag(u)),I=C!=="none";!y&&I&&D.push(...Rg(u,b,C,A));const j=[u,...D],F=await ti(n,M),Z=[];let V=((s=o.flip)==null?void 0:s.overflows)||[];if(g&&Z.push(F[P]),v){const G=Dg(l,c,A);Z.push(F[G[0]],F[G[1]])}if(V=[...V,{placement:l,overflows:Z}],!Z.every(G=>G<=0)){var $,K;const G=((($=o.flip)==null?void 0:$.index)||0)+1,oe=j[G];if(oe)return{data:{index:G,overflows:V},reset:{placement:oe}};let U=(K=V.filter(B=>B.overflows[0]<=0).sort((B,k)=>B.overflows[1]-k.overflows[1])[0])==null?void 0:K.placement;if(!U)switch(x){case"bestFit":{var H;const B=(H=V.filter(k=>{if(I){const ae=Wt(k.placement);return ae===S||ae==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(ae=>ae>0).reduce((ae,z)=>ae+z,0)]).sort((k,ae)=>k[1]-ae[1])[0])==null?void 0:H[0];B&&(U=B);break}case"initialPlacement":U=u;break}if(l!==U)return{reset:{placement:U}}}return{}}}};function yl(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function xl(t){return Eg.some(n=>t[n]>=0)}const Wg=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:i}=n,{strategy:s="referenceHidden",...l}=Tt(t,n);switch(s){case"referenceHidden":{const o=await ti(n,{...l,elementContext:"reference"}),c=yl(o,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:xl(c)}}}case"escaped":{const o=await ti(n,{...l,altBoundary:!0}),c=yl(o,i.floating);return{data:{escapedOffsets:c,escaped:xl(c)}}}default:return{}}}}};async function Zg(t,n){const{placement:i,platform:s,elements:l}=t,o=await(s.isRTL==null?void 0:s.isRTL(l.floating)),c=Et(i),u=kn(i),f=Wt(i)==="y",m=["left","top"].includes(c)?-1:1,g=o&&f?-1:1,v=Tt(n,t);let{mainAxis:y,crossAxis:x,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof C=="number"&&(x=u==="end"?C*-1:C),f?{x:x*g,y:y*m}:{x:y*m,y:x*g}}const Hg=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var i,s;const{x:l,y:o,placement:c,middlewareData:u}=n,f=await Zg(n,t);return c===((i=u.offset)==null?void 0:i.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:l+f.x,y:o+f.y,data:{...f,placement:c}}}}},Ug=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:i,y:s,placement:l}=n,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:M=>{let{x:P,y:S}=M;return{x:P,y:S}}},...f}=Tt(t,n),m={x:i,y:s},g=await ti(n,f),v=Wt(Et(l)),y=ms(v);let x=m[y],C=m[v];if(o){const M=y==="y"?"top":"left",P=y==="y"?"bottom":"right",S=x+g[M],T=x-g[P];x=Wo(S,x,T)}if(c){const M=v==="y"?"top":"left",P=v==="y"?"bottom":"right",S=C+g[M],T=C-g[P];C=Wo(S,C,T)}const b=u.fn({...n,[y]:x,[v]:C});return{...b,data:{x:b.x-i,y:b.y-s,enabled:{[y]:o,[v]:c}}}}}},$g=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:i,y:s,placement:l,rects:o,middlewareData:c}=n,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=Tt(t,n),g={x:i,y:s},v=Wt(l),y=ms(v);let x=g[y],C=g[v];const b=Tt(u,n),M=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const T=y==="y"?"height":"width",A=o.reference[y]-o.floating[T]+M.mainAxis,D=o.reference[y]+o.reference[T]-M.mainAxis;x<A?x=A:x>D&&(x=D)}if(m){var P,S;const T=y==="y"?"width":"height",A=["top","left"].includes(Et(l)),D=o.reference[v]-o.floating[T]+(A&&((P=c.offset)==null?void 0:P[v])||0)+(A?0:M.crossAxis),I=o.reference[v]+o.reference[T]+(A?0:((S=c.offset)==null?void 0:S[v])||0)-(A?M.crossAxis:0);C<D?C=D:C>I&&(C=I)}return{[y]:x,[v]:C}}}},Gg=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var i,s;const{placement:l,rects:o,platform:c,elements:u}=n,{apply:f=()=>{},...m}=Tt(t,n),g=await ti(n,m),v=Et(l),y=kn(l),x=Wt(l)==="y",{width:C,height:b}=o.floating;let M,P;v==="top"||v==="bottom"?(M=v,P=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(P=v,M=y==="end"?"top":"bottom");const S=b-g.top-g.bottom,T=C-g.left-g.right,A=zt(b-g[M],S),D=zt(C-g[P],T),I=!n.middlewareData.shift;let j=A,F=D;if((i=n.middlewareData.shift)!=null&&i.enabled.x&&(F=T),(s=n.middlewareData.shift)!=null&&s.enabled.y&&(j=S),I&&!y){const V=Ge(g.left,0),$=Ge(g.right,0),K=Ge(g.top,0),H=Ge(g.bottom,0);x?F=C-2*(V!==0||$!==0?V+$:Ge(g.left,g.right)):j=b-2*(K!==0||H!==0?K+H:Ge(g.top,g.bottom))}await f({...n,availableWidth:F,availableHeight:j});const Z=await c.getDimensions(u.floating);return C!==Z.width||b!==Z.height?{reset:{rects:!0}}:{}}}};function vr(){return typeof window<"u"}function On(t){return Yc(t)?(t.nodeName||"").toLowerCase():"#document"}function Ve(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function yt(t){var n;return(n=(Yc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function Yc(t){return vr()?t instanceof Node||t instanceof Ve(t).Node:!1}function nt(t){return vr()?t instanceof Element||t instanceof Ve(t).Element:!1}function pt(t){return vr()?t instanceof HTMLElement||t instanceof Ve(t).HTMLElement:!1}function wl(t){return!vr()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ve(t).ShadowRoot}function hi(t){const{overflow:n,overflowX:i,overflowY:s,display:l}=it(t);return/auto|scroll|overlay|hidden|clip/.test(n+s+i)&&!["inline","contents"].includes(l)}function Vg(t){return["table","td","th"].includes(On(t))}function _r(t){return[":popover-open",":modal"].some(n=>{try{return t.matches(n)}catch{return!1}})}function vs(t){const n=_s(),i=nt(t)?it(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>i[s]?i[s]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!n&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!n&&(i.filter?i.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function Yg(t){let n=Zt(t);for(;pt(n)&&!Sn(n);){if(vs(n))return n;if(_r(n))return null;n=Zt(n)}return null}function _s(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sn(t){return["html","body","#document"].includes(On(t))}function it(t){return Ve(t).getComputedStyle(t)}function yr(t){return nt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zt(t){if(On(t)==="html")return t;const n=t.assignedSlot||t.parentNode||wl(t)&&t.host||yt(t);return wl(n)?n.host:n}function qc(t){const n=Zt(t);return Sn(n)?t.ownerDocument?t.ownerDocument.body:t.body:pt(n)&&hi(n)?n:qc(n)}function ni(t,n,i){var s;n===void 0&&(n=[]),i===void 0&&(i=!0);const l=qc(t),o=l===((s=t.ownerDocument)==null?void 0:s.body),c=Ve(l);if(o){const u=Ho(c);return n.concat(c,c.visualViewport||[],hi(l)?l:[],u&&i?ni(u):[])}return n.concat(l,ni(l,[],i))}function Ho(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Kc(t){const n=it(t);let i=parseFloat(n.width)||0,s=parseFloat(n.height)||0;const l=pt(t),o=l?t.offsetWidth:i,c=l?t.offsetHeight:s,u=er(i)!==o||er(s)!==c;return u&&(i=o,s=c),{width:i,height:s,$:u}}function ys(t){return nt(t)?t:t.contextElement}function bn(t){const n=ys(t);if(!pt(n))return mt(1);const i=n.getBoundingClientRect(),{width:s,height:l,$:o}=Kc(n);let c=(o?er(i.width):i.width)/s,u=(o?er(i.height):i.height)/l;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const qg=mt(0);function Xc(t){const n=Ve(t);return!_s()||!n.visualViewport?qg:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Kg(t,n,i){return n===void 0&&(n=!1),!i||n&&i!==Ve(t)?!1:n}function Qt(t,n,i,s){n===void 0&&(n=!1),i===void 0&&(i=!1);const l=t.getBoundingClientRect(),o=ys(t);let c=mt(1);n&&(s?nt(s)&&(c=bn(s)):c=bn(t));const u=Kg(o,i,s)?Xc(o):mt(0);let f=(l.left+u.x)/c.x,m=(l.top+u.y)/c.y,g=l.width/c.x,v=l.height/c.y;if(o){const y=Ve(o),x=s&&nt(s)?Ve(s):s;let C=y,b=Ho(C);for(;b&&s&&x!==C;){const M=bn(b),P=b.getBoundingClientRect(),S=it(b),T=P.left+(b.clientLeft+parseFloat(S.paddingLeft))*M.x,A=P.top+(b.clientTop+parseFloat(S.paddingTop))*M.y;f*=M.x,m*=M.y,g*=M.x,v*=M.y,f+=T,m+=A,C=Ve(b),b=Ho(C)}}return nr({width:g,height:v,x:f,y:m})}function xs(t,n){const i=yr(t).scrollLeft;return n?n.left+i:Qt(yt(t)).left+i}function Jc(t,n,i){i===void 0&&(i=!1);const s=t.getBoundingClientRect(),l=s.left+n.scrollLeft-(i?0:xs(t,s)),o=s.top+n.scrollTop;return{x:l,y:o}}function Xg(t){let{elements:n,rect:i,offsetParent:s,strategy:l}=t;const o=l==="fixed",c=yt(s),u=n?_r(n.floating):!1;if(s===c||u&&o)return i;let f={scrollLeft:0,scrollTop:0},m=mt(1);const g=mt(0),v=pt(s);if((v||!v&&!o)&&((On(s)!=="body"||hi(c))&&(f=yr(s)),pt(s))){const x=Qt(s);m=bn(s),g.x=x.x+s.clientLeft,g.y=x.y+s.clientTop}const y=c&&!v&&!o?Jc(c,f,!0):mt(0);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-f.scrollLeft*m.x+g.x+y.x,y:i.y*m.y-f.scrollTop*m.y+g.y+y.y}}function Jg(t){return Array.from(t.getClientRects())}function Qg(t){const n=yt(t),i=yr(t),s=t.ownerDocument.body,l=Ge(n.scrollWidth,n.clientWidth,s.scrollWidth,s.clientWidth),o=Ge(n.scrollHeight,n.clientHeight,s.scrollHeight,s.clientHeight);let c=-i.scrollLeft+xs(t);const u=-i.scrollTop;return it(s).direction==="rtl"&&(c+=Ge(n.clientWidth,s.clientWidth)-l),{width:l,height:o,x:c,y:u}}function ev(t,n){const i=Ve(t),s=yt(t),l=i.visualViewport;let o=s.clientWidth,c=s.clientHeight,u=0,f=0;if(l){o=l.width,c=l.height;const m=_s();(!m||m&&n==="fixed")&&(u=l.offsetLeft,f=l.offsetTop)}return{width:o,height:c,x:u,y:f}}function tv(t,n){const i=Qt(t,!0,n==="fixed"),s=i.top+t.clientTop,l=i.left+t.clientLeft,o=pt(t)?bn(t):mt(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,f=l*o.x,m=s*o.y;return{width:c,height:u,x:f,y:m}}function bl(t,n,i){let s;if(n==="viewport")s=ev(t,i);else if(n==="document")s=Qg(yt(t));else if(nt(n))s=tv(n,i);else{const l=Xc(t);s={x:n.x-l.x,y:n.y-l.y,width:n.width,height:n.height}}return nr(s)}function Qc(t,n){const i=Zt(t);return i===n||!nt(i)||Sn(i)?!1:it(i).position==="fixed"||Qc(i,n)}function nv(t,n){const i=n.get(t);if(i)return i;let s=ni(t,[],!1).filter(u=>nt(u)&&On(u)!=="body"),l=null;const o=it(t).position==="fixed";let c=o?Zt(t):t;for(;nt(c)&&!Sn(c);){const u=it(c),f=vs(c);!f&&u.position==="fixed"&&(l=null),(o?!f&&!l:!f&&u.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||hi(c)&&!f&&Qc(t,c))?s=s.filter(g=>g!==c):l=u,c=Zt(c)}return n.set(t,s),s}function iv(t){let{element:n,boundary:i,rootBoundary:s,strategy:l}=t;const c=[...i==="clippingAncestors"?_r(n)?[]:nv(n,this._c):[].concat(i),s],u=c[0],f=c.reduce((m,g)=>{const v=bl(n,g,l);return m.top=Ge(v.top,m.top),m.right=zt(v.right,m.right),m.bottom=zt(v.bottom,m.bottom),m.left=Ge(v.left,m.left),m},bl(n,u,l));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function rv(t){const{width:n,height:i}=Kc(t);return{width:n,height:i}}function ov(t,n,i){const s=pt(n),l=yt(n),o=i==="fixed",c=Qt(t,!0,o,n);let u={scrollLeft:0,scrollTop:0};const f=mt(0);if(s||!s&&!o)if((On(n)!=="body"||hi(l))&&(u=yr(n)),s){const y=Qt(n,!0,o,n);f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}else l&&(f.x=xs(l));const m=l&&!s&&!o?Jc(l,u):mt(0),g=c.left+u.scrollLeft-f.x-m.x,v=c.top+u.scrollTop-f.y-m.y;return{x:g,y:v,width:c.width,height:c.height}}function vo(t){return it(t).position==="static"}function Cl(t,n){if(!pt(t)||it(t).position==="fixed")return null;if(n)return n(t);let i=t.offsetParent;return yt(t)===i&&(i=i.ownerDocument.body),i}function eu(t,n){const i=Ve(t);if(_r(t))return i;if(!pt(t)){let l=Zt(t);for(;l&&!Sn(l);){if(nt(l)&&!vo(l))return l;l=Zt(l)}return i}let s=Cl(t,n);for(;s&&Vg(s)&&vo(s);)s=Cl(s,n);return s&&Sn(s)&&vo(s)&&!vs(s)?i:s||Yg(t)||i}const sv=async function(t){const n=this.getOffsetParent||eu,i=this.getDimensions,s=await i(t.floating);return{reference:ov(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function av(t){return it(t).direction==="rtl"}const lv={convertOffsetParentRelativeRectToViewportRelativeRect:Xg,getDocumentElement:yt,getClippingRect:iv,getOffsetParent:eu,getElementRects:sv,getClientRects:Jg,getDimensions:rv,getScale:bn,isElement:nt,isRTL:av};function tu(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function cv(t,n){let i=null,s;const l=yt(t);function o(){var u;clearTimeout(s),(u=i)==null||u.disconnect(),i=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const m=t.getBoundingClientRect(),{left:g,top:v,width:y,height:x}=m;if(u||n(),!y||!x)return;const C=Hi(v),b=Hi(l.clientWidth-(g+y)),M=Hi(l.clientHeight-(v+x)),P=Hi(g),T={rootMargin:-C+"px "+-b+"px "+-M+"px "+-P+"px",threshold:Ge(0,zt(1,f))||1};let A=!0;function D(I){const j=I[0].intersectionRatio;if(j!==f){if(!A)return c();j?c(!1,j):s=setTimeout(()=>{c(!1,1e-7)},1e3)}j===1&&!tu(m,t.getBoundingClientRect())&&c(),A=!1}try{i=new IntersectionObserver(D,{...T,root:l.ownerDocument})}catch{i=new IntersectionObserver(D,T)}i.observe(t)}return c(!0),o}function uv(t,n,i,s){s===void 0&&(s={});const{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,m=ys(t),g=l||o?[...m?ni(m):[],...ni(n)]:[];g.forEach(P=>{l&&P.addEventListener("scroll",i,{passive:!0}),o&&P.addEventListener("resize",i)});const v=m&&u?cv(m,i):null;let y=-1,x=null;c&&(x=new ResizeObserver(P=>{let[S]=P;S&&S.target===m&&x&&(x.unobserve(n),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(n)})),i()}),m&&!f&&x.observe(m),x.observe(n));let C,b=f?Qt(t):null;f&&M();function M(){const P=Qt(t);b&&!tu(b,P)&&i(),b=P,C=requestAnimationFrame(M)}return i(),()=>{var P;g.forEach(S=>{l&&S.removeEventListener("scroll",i),o&&S.removeEventListener("resize",i)}),v==null||v(),(P=x)==null||P.disconnect(),x=null,f&&cancelAnimationFrame(C)}}const dv=Hg,hv=Ug,fv=zg,mv=Gg,pv=Wg,Pl=Fg,gv=$g,vv=(t,n,i)=>{const s=new Map,l={platform:lv,...i},o={...l.platform,_c:s};return Bg(t,n,{...l,platform:o})};var Vi=typeof document<"u"?_.useLayoutEffect:_.useEffect;function ir(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let i,s,l;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(i=t.length,i!==n.length)return!1;for(s=i;s--!==0;)if(!ir(t[s],n[s]))return!1;return!0}if(l=Object.keys(t),i=l.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!{}.hasOwnProperty.call(n,l[s]))return!1;for(s=i;s--!==0;){const o=l[s];if(!(o==="_owner"&&t.$$typeof)&&!ir(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}function nu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Sl(t,n){const i=nu(t);return Math.round(n*i)/i}function _o(t){const n=_.useRef(t);return Vi(()=>{n.current=t}),n}function _v(t){t===void 0&&(t={});const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:l,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:f,open:m}=t,[g,v]=_.useState({x:0,y:0,strategy:i,placement:n,middlewareData:{},isPositioned:!1}),[y,x]=_.useState(s);ir(y,s)||x(s);const[C,b]=_.useState(null),[M,P]=_.useState(null),S=_.useCallback(k=>{k!==I.current&&(I.current=k,b(k))},[]),T=_.useCallback(k=>{k!==j.current&&(j.current=k,P(k))},[]),A=o||C,D=c||M,I=_.useRef(null),j=_.useRef(null),F=_.useRef(g),Z=f!=null,V=_o(f),$=_o(l),K=_o(m),H=_.useCallback(()=>{if(!I.current||!j.current)return;const k={placement:n,strategy:i,middleware:y};$.current&&(k.platform=$.current),vv(I.current,j.current,k).then(ae=>{const z={...ae,isPositioned:K.current!==!1};G.current&&!ir(F.current,z)&&(F.current=z,ns.flushSync(()=>{v(z)}))})},[y,n,i,$,K]);Vi(()=>{m===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,v(k=>({...k,isPositioned:!1})))},[m]);const G=_.useRef(!1);Vi(()=>(G.current=!0,()=>{G.current=!1}),[]),Vi(()=>{if(A&&(I.current=A),D&&(j.current=D),A&&D){if(V.current)return V.current(A,D,H);H()}},[A,D,H,V,Z]);const oe=_.useMemo(()=>({reference:I,floating:j,setReference:S,setFloating:T}),[S,T]),U=_.useMemo(()=>({reference:A,floating:D}),[A,D]),B=_.useMemo(()=>{const k={position:i,left:0,top:0};if(!U.floating)return k;const ae=Sl(U.floating,g.x),z=Sl(U.floating,g.y);return u?{...k,transform:"translate("+ae+"px, "+z+"px)",...nu(U.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:ae,top:z}},[i,u,U.floating,g.x,g.y]);return _.useMemo(()=>({...g,update:H,refs:oe,elements:U,floatingStyles:B}),[g,H,oe,U,B])}const yv=t=>{function n(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){const{element:s,padding:l}=typeof t=="function"?t(i):t;return s&&n(s)?s.current!=null?Pl({element:s.current,padding:l}).fn(i):{}:s?Pl({element:s,padding:l}).fn(i):{}}}},xv=(t,n)=>({...dv(t),options:[t,n]}),wv=(t,n)=>({...hv(t),options:[t,n]}),bv=(t,n)=>({...gv(t),options:[t,n]}),Cv=(t,n)=>({...fv(t),options:[t,n]}),Pv=(t,n)=>({...mv(t),options:[t,n]}),Sv=(t,n)=>({...pv(t),options:[t,n]}),Lv=(t,n)=>({...yv(t),options:[t,n]});var Mv="Arrow",iu=_.forwardRef((t,n)=>{const{children:i,width:s=10,height:l=5,...o}=t;return d.jsx(ue.svg,{...o,ref:n,width:s,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?i:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});iu.displayName=Mv;var Nv=iu;function ru(t){const[n,i]=_.useState(void 0);return Fe(()=>{if(t){i({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const o=l[0];let c,u;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,u=m.blockSize}else c=t.offsetWidth,u=t.offsetHeight;i({width:c,height:u})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else i(void 0)},[t]),n}var ws="Popper",[ou,xr]=_t(ws),[Tv,su]=ou(ws),au=t=>{const{__scopePopper:n,children:i}=t,[s,l]=_.useState(null);return d.jsx(Tv,{scope:n,anchor:s,onAnchorChange:l,children:i})};au.displayName=ws;var lu="PopperAnchor",cu=_.forwardRef((t,n)=>{const{__scopePopper:i,virtualRef:s,...l}=t,o=su(lu,i),c=_.useRef(null),u=ve(n,c);return _.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:d.jsx(ue.div,{...l,ref:u})});cu.displayName=lu;var bs="PopperContent",[Ev,kv]=ou(bs),uu=_.forwardRef((t,n)=>{var Y,me,Ee,we,_e,pe;const{__scopePopper:i,side:s="bottom",sideOffset:l=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:C,...b}=t,M=su(bs,i),[P,S]=_.useState(null),T=ve(n,je=>S(je)),[A,D]=_.useState(null),I=ru(A),j=(I==null?void 0:I.width)??0,F=(I==null?void 0:I.height)??0,Z=s+(o!=="center"?"-"+o:""),V=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},$=Array.isArray(m)?m:[m],K=$.length>0,H={padding:V,boundary:$.filter(Dv),altBoundary:K},{refs:G,floatingStyles:oe,placement:U,isPositioned:B,middlewareData:k}=_v({strategy:"fixed",placement:Z,whileElementsMounted:(...je)=>uv(...je,{animationFrame:x==="always"}),elements:{reference:M.anchor},middleware:[xv({mainAxis:l+F,alignmentAxis:c}),f&&wv({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?bv():void 0,...H}),f&&Cv({...H}),Pv({...H,apply:({elements:je,rects:Ye,availableWidth:Ot,availableHeight:Dt})=>{const{width:wt,height:rn}=Ye.reference,on=je.floating.style;on.setProperty("--radix-popper-available-width",`${Ot}px`),on.setProperty("--radix-popper-available-height",`${Dt}px`),on.setProperty("--radix-popper-anchor-width",`${wt}px`),on.setProperty("--radix-popper-anchor-height",`${rn}px`)}}),A&&Lv({element:A,padding:u}),Av({arrowWidth:j,arrowHeight:F}),y&&Sv({strategy:"referenceHidden",...H})]}),[ae,z]=fu(U),X=Be(C);Fe(()=>{B&&(X==null||X())},[B,X]);const fe=(Y=k.arrow)==null?void 0:Y.x,de=(me=k.arrow)==null?void 0:me.y,le=((Ee=k.arrow)==null?void 0:Ee.centerOffset)!==0,[te,ne]=_.useState();return Fe(()=>{P&&ne(window.getComputedStyle(P).zIndex)},[P]),d.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:B?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(we=k.transformOrigin)==null?void 0:we.x,(_e=k.transformOrigin)==null?void 0:_e.y].join(" "),...((pe=k.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(Ev,{scope:i,placedSide:ae,onArrowChange:D,arrowX:fe,arrowY:de,shouldHideArrow:le,children:d.jsx(ue.div,{"data-side":ae,"data-align":z,...b,ref:T,style:{...b.style,animation:B?void 0:"none"}})})})});uu.displayName=bs;var du="PopperArrow",Ov={top:"bottom",right:"left",bottom:"top",left:"right"},hu=_.forwardRef(function(n,i){const{__scopePopper:s,...l}=n,o=kv(du,s),c=Ov[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(Nv,{...l,ref:i,style:{...l.style,display:"block"}})})});hu.displayName=du;function Dv(t){return t!==null}var Av=t=>({name:"transformOrigin",options:t,fn(n){var M,P,S;const{placement:i,rects:s,middlewareData:l}=n,c=((M=l.arrow)==null?void 0:M.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,g]=fu(i),v={start:"0%",center:"50%",end:"100%"}[g],y=(((P=l.arrow)==null?void 0:P.x)??0)+u/2,x=(((S=l.arrow)==null?void 0:S.y)??0)+f/2;let C="",b="";return m==="bottom"?(C=c?v:`${y}px`,b=`${-f}px`):m==="top"?(C=c?v:`${y}px`,b=`${s.floating.height+f}px`):m==="right"?(C=`${-f}px`,b=c?v:`${x}px`):m==="left"&&(C=`${s.floating.width+f}px`,b=c?v:`${x}px`),{data:{x:C,y:b}}}});function fu(t){const[n,i="center"]=t.split("-");return[n,i]}var mu=au,Cs=cu,pu=uu,gu=hu;function vu(t){const n=_.useRef({value:t,previous:t});return _.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var jv="VisuallyHidden",_u=_.forwardRef((t,n)=>d.jsx(ue.span,{...t,ref:n,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));_u.displayName=jv;var Rv=[" ","Enter","ArrowUp","ArrowDown"],Iv=[" ","Enter"],fi="Select",[wr,br,Bv]=Gc(fi),[Dn,Ob]=_t(fi,[Bv,xr]),Cr=xr(),[Fv,Ht]=Dn(fi),[zv,Wv]=Dn(fi),yu=t=>{const{__scopeSelect:n,children:i,open:s,defaultOpen:l,onOpenChange:o,value:c,defaultValue:u,onValueChange:f,dir:m,name:g,autoComplete:v,disabled:y,required:x,form:C}=t,b=Cr(n),[M,P]=_.useState(null),[S,T]=_.useState(null),[A,D]=_.useState(!1),I=gr(m),[j=!1,F]=Pn({prop:s,defaultProp:l,onChange:o}),[Z,V]=Pn({prop:c,defaultProp:u,onChange:f}),$=_.useRef(null),K=M?C||!!M.closest("form"):!0,[H,G]=_.useState(new Set),oe=Array.from(H).map(U=>U.props.value).join(";");return d.jsx(mu,{...b,children:d.jsxs(Fv,{required:x,scope:n,trigger:M,onTriggerChange:P,valueNode:S,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:Ft(),value:Z,onValueChange:V,open:j,onOpenChange:F,dir:I,triggerPointerDownPosRef:$,disabled:y,children:[d.jsx(wr.Provider,{scope:n,children:d.jsx(zv,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(U=>{G(B=>new Set(B).add(U))},[]),onNativeOptionRemove:_.useCallback(U=>{G(B=>{const k=new Set(B);return k.delete(U),k})},[]),children:i})}),K?d.jsxs(Uu,{"aria-hidden":!0,required:x,tabIndex:-1,name:g,autoComplete:v,value:Z,onChange:U=>V(U.target.value),disabled:y,form:C,children:[Z===void 0?d.jsx("option",{value:""}):null,Array.from(H)]},oe):null]})})};yu.displayName=fi;var xu="SelectTrigger",wu=_.forwardRef((t,n)=>{const{__scopeSelect:i,disabled:s=!1,...l}=t,o=Cr(i),c=Ht(xu,i),u=c.disabled||s,f=ve(n,c.onTriggerChange),m=br(i),g=_.useRef("touch"),[v,y,x]=$u(b=>{const M=m().filter(T=>!T.disabled),P=M.find(T=>T.value===c.value),S=Gu(M,b,P);S!==void 0&&c.onValueChange(S.value)}),C=b=>{u||(c.onOpenChange(!0),x()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return d.jsx(Cs,{asChild:!0,...o,children:d.jsx(ue.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Hu(c.value)?"":void 0,...l,ref:f,onClick:ie(l.onClick,b=>{b.currentTarget.focus(),g.current!=="mouse"&&C(b)}),onPointerDown:ie(l.onPointerDown,b=>{g.current=b.pointerType;const M=b.target;M.hasPointerCapture(b.pointerId)&&M.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(C(b),b.preventDefault())}),onKeyDown:ie(l.onKeyDown,b=>{const M=v.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(M&&b.key===" ")&&Rv.includes(b.key)&&(C(),b.preventDefault())})})})});wu.displayName=xu;var bu="SelectValue",Cu=_.forwardRef((t,n)=>{const{__scopeSelect:i,className:s,style:l,children:o,placeholder:c="",...u}=t,f=Ht(bu,i),{onValueNodeHasChildrenChange:m}=f,g=o!==void 0,v=ve(n,f.onValueNodeChange);return Fe(()=>{m(g)},[m,g]),d.jsx(ue.span,{...u,ref:v,style:{pointerEvents:"none"},children:Hu(f.value)?d.jsx(d.Fragment,{children:c}):o})});Cu.displayName=bu;var Zv="SelectIcon",Pu=_.forwardRef((t,n)=>{const{__scopeSelect:i,children:s,...l}=t;return d.jsx(ue.span,{"aria-hidden":!0,...l,ref:n,children:s||"▼"})});Pu.displayName=Zv;var Hv="SelectPortal",Su=t=>d.jsx(hr,{asChild:!0,...t});Su.displayName=Hv;var en="SelectContent",Lu=_.forwardRef((t,n)=>{const i=Ht(en,t.__scopeSelect),[s,l]=_.useState();if(Fe(()=>{l(new DocumentFragment)},[]),!i.open){const o=s;return o?ns.createPortal(d.jsx(Mu,{scope:t.__scopeSelect,children:d.jsx(wr.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),o):null}return d.jsx(Nu,{...t,ref:n})});Lu.displayName=en;var tt=10,[Mu,Ut]=Dn(en),Uv="SelectContentImpl",Nu=_.forwardRef((t,n)=>{const{__scopeSelect:i,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:f,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:y,collisionPadding:x,sticky:C,hideWhenDetached:b,avoidCollisions:M,...P}=t,S=Ht(en,i),[T,A]=_.useState(null),[D,I]=_.useState(null),j=ve(n,Y=>A(Y)),[F,Z]=_.useState(null),[V,$]=_.useState(null),K=br(i),[H,G]=_.useState(!1),oe=_.useRef(!1);_.useEffect(()=>{if(T)return ss(T)},[T]),rs();const U=_.useCallback(Y=>{const[me,...Ee]=K().map(pe=>pe.ref.current),[we]=Ee.slice(-1),_e=document.activeElement;for(const pe of Y)if(pe===_e||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===me&&D&&(D.scrollTop=0),pe===we&&D&&(D.scrollTop=D.scrollHeight),pe==null||pe.focus(),document.activeElement!==_e))return},[K,D]),B=_.useCallback(()=>U([F,T]),[U,F,T]);_.useEffect(()=>{H&&B()},[H,B]);const{onOpenChange:k,triggerPointerDownPosRef:ae}=S;_.useEffect(()=>{if(T){let Y={x:0,y:0};const me=we=>{var _e,pe;Y={x:Math.abs(Math.round(we.pageX)-(((_e=ae.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(we.pageY)-(((pe=ae.current)==null?void 0:pe.y)??0))}},Ee=we=>{Y.x<=10&&Y.y<=10?we.preventDefault():T.contains(we.target)||k(!1),document.removeEventListener("pointermove",me),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[T,k,ae]),_.useEffect(()=>{const Y=()=>k(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[k]);const[z,X]=$u(Y=>{const me=K().filter(_e=>!_e.disabled),Ee=me.find(_e=>_e.ref.current===document.activeElement),we=Gu(me,Y,Ee);we&&setTimeout(()=>we.ref.current.focus())}),fe=_.useCallback((Y,me,Ee)=>{const we=!oe.current&&!Ee;(S.value!==void 0&&S.value===me||we)&&(Z(Y),we&&(oe.current=!0))},[S.value]),de=_.useCallback(()=>T==null?void 0:T.focus(),[T]),le=_.useCallback((Y,me,Ee)=>{const we=!oe.current&&!Ee;(S.value!==void 0&&S.value===me||we)&&$(Y)},[S.value]),te=s==="popper"?Uo:Tu,ne=te===Uo?{side:u,sideOffset:f,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:y,collisionPadding:x,sticky:C,hideWhenDetached:b,avoidCollisions:M}:{};return d.jsx(Mu,{scope:i,content:T,viewport:D,onViewportChange:I,itemRefCallback:fe,selectedItem:F,onItemLeave:de,itemTextRefCallback:le,focusSelectedItem:B,selectedItemText:V,position:s,isPositioned:H,searchRef:z,children:d.jsx(os,{as:ei,allowPinchZoom:!0,children:d.jsx(dr,{asChild:!0,trapped:S.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ie(l,Y=>{var me;(me=S.trigger)==null||me.focus({preventScroll:!0}),Y.preventDefault()}),children:d.jsx(ur,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:d.jsx(te,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Y=>Y.preventDefault(),...P,...ne,onPlaced:()=>G(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:ie(P.onKeyDown,Y=>{const me=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!me&&Y.key.length===1&&X(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let we=K().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const _e=Y.target,pe=we.indexOf(_e);we=we.slice(pe+1)}setTimeout(()=>U(we)),Y.preventDefault()}})})})})})})});Nu.displayName=Uv;var $v="SelectItemAlignedPosition",Tu=_.forwardRef((t,n)=>{const{__scopeSelect:i,onPlaced:s,...l}=t,o=Ht(en,i),c=Ut(en,i),[u,f]=_.useState(null),[m,g]=_.useState(null),v=ve(n,j=>g(j)),y=br(i),x=_.useRef(!1),C=_.useRef(!0),{viewport:b,selectedItem:M,selectedItemText:P,focusSelectedItem:S}=c,T=_.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&m&&b&&M&&P){const j=o.trigger.getBoundingClientRect(),F=m.getBoundingClientRect(),Z=o.valueNode.getBoundingClientRect(),V=P.getBoundingClientRect();if(o.dir!=="rtl"){const _e=V.left-F.left,pe=Z.left-_e,je=j.left-pe,Ye=j.width+je,Ot=Math.max(Ye,F.width),Dt=window.innerWidth-tt,wt=zo(pe,[tt,Math.max(tt,Dt-Ot)]);u.style.minWidth=Ye+"px",u.style.left=wt+"px"}else{const _e=F.right-V.right,pe=window.innerWidth-Z.right-_e,je=window.innerWidth-j.right-pe,Ye=j.width+je,Ot=Math.max(Ye,F.width),Dt=window.innerWidth-tt,wt=zo(pe,[tt,Math.max(tt,Dt-Ot)]);u.style.minWidth=Ye+"px",u.style.right=wt+"px"}const $=y(),K=window.innerHeight-tt*2,H=b.scrollHeight,G=window.getComputedStyle(m),oe=parseInt(G.borderTopWidth,10),U=parseInt(G.paddingTop,10),B=parseInt(G.borderBottomWidth,10),k=parseInt(G.paddingBottom,10),ae=oe+U+H+k+B,z=Math.min(M.offsetHeight*5,ae),X=window.getComputedStyle(b),fe=parseInt(X.paddingTop,10),de=parseInt(X.paddingBottom,10),le=j.top+j.height/2-tt,te=K-le,ne=M.offsetHeight/2,Y=M.offsetTop+ne,me=oe+U+Y,Ee=ae-me;if(me<=le){const _e=$.length>0&&M===$[$.length-1].ref.current;u.style.bottom="0px";const pe=m.clientHeight-b.offsetTop-b.offsetHeight,je=Math.max(te,ne+(_e?de:0)+pe+B),Ye=me+je;u.style.height=Ye+"px"}else{const _e=$.length>0&&M===$[0].ref.current;u.style.top="0px";const je=Math.max(le,oe+b.offsetTop+(_e?fe:0)+ne)+Ee;u.style.height=je+"px",b.scrollTop=me-le+b.offsetTop}u.style.margin=`${tt}px 0`,u.style.minHeight=z+"px",u.style.maxHeight=K+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[y,o.trigger,o.valueNode,u,m,b,M,P,o.dir,s]);Fe(()=>T(),[T]);const[A,D]=_.useState();Fe(()=>{m&&D(window.getComputedStyle(m).zIndex)},[m]);const I=_.useCallback(j=>{j&&C.current===!0&&(T(),S==null||S(),C.current=!1)},[T,S]);return d.jsx(Vv,{scope:i,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:I,children:d.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:d.jsx(ue.div,{...l,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Tu.displayName=$v;var Gv="SelectPopperPosition",Uo=_.forwardRef((t,n)=>{const{__scopeSelect:i,align:s="start",collisionPadding:l=tt,...o}=t,c=Cr(i);return d.jsx(pu,{...c,...o,ref:n,align:s,collisionPadding:l,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uo.displayName=Gv;var[Vv,Ps]=Dn(en,{}),$o="SelectViewport",Eu=_.forwardRef((t,n)=>{const{__scopeSelect:i,nonce:s,...l}=t,o=Ut($o,i),c=Ps($o,i),u=ve(n,o.onViewportChange),f=_.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(wr.Slot,{scope:i,children:d.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:ie(l.onScroll,m=>{const g=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:y}=c;if(y!=null&&y.current&&v){const x=Math.abs(f.current-g.scrollTop);if(x>0){const C=window.innerHeight-tt*2,b=parseFloat(v.style.minHeight),M=parseFloat(v.style.height),P=Math.max(b,M);if(P<C){const S=P+x,T=Math.min(C,S),A=S-T;v.style.height=T+"px",v.style.bottom==="0px"&&(g.scrollTop=A>0?A:0,v.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});Eu.displayName=$o;var ku="SelectGroup",[Yv,qv]=Dn(ku),Kv=_.forwardRef((t,n)=>{const{__scopeSelect:i,...s}=t,l=Ft();return d.jsx(Yv,{scope:i,id:l,children:d.jsx(ue.div,{role:"group","aria-labelledby":l,...s,ref:n})})});Kv.displayName=ku;var Ou="SelectLabel",Du=_.forwardRef((t,n)=>{const{__scopeSelect:i,...s}=t,l=qv(Ou,i);return d.jsx(ue.div,{id:l.id,...s,ref:n})});Du.displayName=Ou;var rr="SelectItem",[Xv,Au]=Dn(rr),ju=_.forwardRef((t,n)=>{const{__scopeSelect:i,value:s,disabled:l=!1,textValue:o,...c}=t,u=Ht(rr,i),f=Ut(rr,i),m=u.value===s,[g,v]=_.useState(o??""),[y,x]=_.useState(!1),C=ve(n,S=>{var T;return(T=f.itemRefCallback)==null?void 0:T.call(f,S,s,l)}),b=Ft(),M=_.useRef("touch"),P=()=>{l||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(Xv,{scope:i,value:s,disabled:l,textId:b,isSelected:m,onItemTextChange:_.useCallback(S=>{v(T=>T||((S==null?void 0:S.textContent)??"").trim())},[]),children:d.jsx(wr.ItemSlot,{scope:i,value:s,disabled:l,textValue:g,children:d.jsx(ue.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...c,ref:C,onFocus:ie(c.onFocus,()=>x(!0)),onBlur:ie(c.onBlur,()=>x(!1)),onClick:ie(c.onClick,()=>{M.current!=="mouse"&&P()}),onPointerUp:ie(c.onPointerUp,()=>{M.current==="mouse"&&P()}),onPointerDown:ie(c.onPointerDown,S=>{M.current=S.pointerType}),onPointerMove:ie(c.onPointerMove,S=>{var T;M.current=S.pointerType,l?(T=f.onItemLeave)==null||T.call(f):M.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(c.onPointerLeave,S=>{var T;S.currentTarget===document.activeElement&&((T=f.onItemLeave)==null||T.call(f))}),onKeyDown:ie(c.onKeyDown,S=>{var A;((A=f.searchRef)==null?void 0:A.current)!==""&&S.key===" "||(Iv.includes(S.key)&&P(),S.key===" "&&S.preventDefault())})})})})});ju.displayName=rr;var Kn="SelectItemText",Ru=_.forwardRef((t,n)=>{const{__scopeSelect:i,className:s,style:l,...o}=t,c=Ht(Kn,i),u=Ut(Kn,i),f=Au(Kn,i),m=Wv(Kn,i),[g,v]=_.useState(null),y=ve(n,P=>v(P),f.onItemTextChange,P=>{var S;return(S=u.itemTextRefCallback)==null?void 0:S.call(u,P,f.value,f.disabled)}),x=g==null?void 0:g.textContent,C=_.useMemo(()=>d.jsx("option",{value:f.value,disabled:f.disabled,children:x},f.value),[f.disabled,f.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:M}=m;return Fe(()=>(b(C),()=>M(C)),[b,M,C]),d.jsxs(d.Fragment,{children:[d.jsx(ue.span,{id:f.textId,...o,ref:y}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ns.createPortal(o.children,c.valueNode):null]})});Ru.displayName=Kn;var Iu="SelectItemIndicator",Bu=_.forwardRef((t,n)=>{const{__scopeSelect:i,...s}=t;return Au(Iu,i).isSelected?d.jsx(ue.span,{"aria-hidden":!0,...s,ref:n}):null});Bu.displayName=Iu;var Go="SelectScrollUpButton",Fu=_.forwardRef((t,n)=>{const i=Ut(Go,t.__scopeSelect),s=Ps(Go,t.__scopeSelect),[l,o]=_.useState(!1),c=ve(n,s.onScrollButtonChange);return Fe(()=>{if(i.viewport&&i.isPositioned){let u=function(){const m=f.scrollTop>0;o(m)};const f=i.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[i.viewport,i.isPositioned]),l?d.jsx(Wu,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=i;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});Fu.displayName=Go;var Vo="SelectScrollDownButton",zu=_.forwardRef((t,n)=>{const i=Ut(Vo,t.__scopeSelect),s=Ps(Vo,t.__scopeSelect),[l,o]=_.useState(!1),c=ve(n,s.onScrollButtonChange);return Fe(()=>{if(i.viewport&&i.isPositioned){let u=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;o(g)};const f=i.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[i.viewport,i.isPositioned]),l?d.jsx(Wu,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=i;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});zu.displayName=Vo;var Wu=_.forwardRef((t,n)=>{const{__scopeSelect:i,onAutoScroll:s,...l}=t,o=Ut("SelectScrollButton",i),c=_.useRef(null),u=br(i),f=_.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return _.useEffect(()=>()=>f(),[f]),Fe(()=>{var g;const m=u().find(v=>v.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),d.jsx(ue.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:ie(l.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:ie(l.onPointerMove,()=>{var m;(m=o.onItemLeave)==null||m.call(o),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:ie(l.onPointerLeave,()=>{f()})})}),Jv="SelectSeparator",Zu=_.forwardRef((t,n)=>{const{__scopeSelect:i,...s}=t;return d.jsx(ue.div,{"aria-hidden":!0,...s,ref:n})});Zu.displayName=Jv;var Yo="SelectArrow",Qv=_.forwardRef((t,n)=>{const{__scopeSelect:i,...s}=t,l=Cr(i),o=Ht(Yo,i),c=Ut(Yo,i);return o.open&&c.position==="popper"?d.jsx(gu,{...l,...s,ref:n}):null});Qv.displayName=Yo;function Hu(t){return t===""||t===void 0}var Uu=_.forwardRef((t,n)=>{const{value:i,...s}=t,l=_.useRef(null),o=ve(n,l),c=vu(i);return _.useEffect(()=>{const u=l.current,f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==i&&g){const v=new Event("change",{bubbles:!0});g.call(u,i),u.dispatchEvent(v)}},[c,i]),d.jsx(_u,{asChild:!0,children:d.jsx("select",{...s,ref:o,defaultValue:i})})});Uu.displayName="BubbleSelect";function $u(t){const n=Be(t),i=_.useRef(""),s=_.useRef(0),l=_.useCallback(c=>{const u=i.current+c;n(u),function f(m){i.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>f(""),1e3))}(u)},[n]),o=_.useCallback(()=>{i.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[i,l,o]}function Gu(t,n,i){const l=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,o=i?t.indexOf(i):-1;let c=e_(t,Math.max(o,0));l.length===1&&(c=c.filter(m=>m!==i));const f=c.find(m=>m.textValue.toLowerCase().startsWith(l.toLowerCase()));return f!==i?f:void 0}function e_(t,n){return t.map((i,s)=>t[(n+s)%t.length])}var t_=yu,Vu=wu,n_=Cu,i_=Pu,r_=Su,Yu=Lu,o_=Eu,qu=Du,Ku=ju,s_=Ru,a_=Bu,Xu=Fu,Ju=zu,Qu=Zu;const ed=t_,td=n_,Ss=_.forwardRef(({className:t,children:n,...i},s)=>d.jsxs(Vu,{ref:s,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[n,d.jsx(i_,{asChild:!0,children:d.jsx(Vl,{className:"h-4 w-4 opacity-50"})})]}));Ss.displayName=Vu.displayName;const nd=_.forwardRef(({className:t,...n},i)=>d.jsx(Xu,{ref:i,className:J("flex cursor-default items-center justify-center py-1",t),...n,children:d.jsx(Mm,{className:"h-4 w-4"})}));nd.displayName=Xu.displayName;const id=_.forwardRef(({className:t,...n},i)=>d.jsx(Ju,{ref:i,className:J("flex cursor-default items-center justify-center py-1",t),...n,children:d.jsx(Vl,{className:"h-4 w-4"})}));id.displayName=Ju.displayName;const Ls=_.forwardRef(({className:t,children:n,position:i="popper",...s},l)=>d.jsx(r_,{children:d.jsxs(Yu,{ref:l,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...s,children:[d.jsx(nd,{}),d.jsx(o_,{className:J("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),d.jsx(id,{})]})}));Ls.displayName=Yu.displayName;const l_=_.forwardRef(({className:t,...n},i)=>d.jsx(qu,{ref:i,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n}));l_.displayName=qu.displayName;const Mt=_.forwardRef(({className:t,children:n,...i},s)=>d.jsxs(Ku,{ref:s,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(a_,{children:d.jsx(xm,{className:"h-4 w-4"})})}),d.jsx(s_,{children:n})]}));Mt.displayName=Ku.displayName;const c_=_.forwardRef(({className:t,...n},i)=>d.jsx(Qu,{ref:i,className:J("-mx-1 my-1 h-px bg-muted",t),...n}));c_.displayName=Qu.displayName;const Ln=_.forwardRef(({className:t,...n},i)=>d.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...n}));Ln.displayName="Textarea";const qo=_.forwardRef(({className:t,...n},i)=>d.jsx("div",{ref:i,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));qo.displayName="Card";const u_=_.forwardRef(({className:t,...n},i)=>d.jsx("div",{ref:i,className:J("flex flex-col space-y-1.5 p-6",t),...n}));u_.displayName="CardHeader";const d_=_.forwardRef(({className:t,...n},i)=>d.jsx("div",{ref:i,className:J("text-2xl font-semibold leading-none tracking-tight",t),...n}));d_.displayName="CardTitle";const h_=_.forwardRef(({className:t,...n},i)=>d.jsx("div",{ref:i,className:J("text-sm text-muted-foreground",t),...n}));h_.displayName="CardDescription";const Ko=_.forwardRef(({className:t,...n},i)=>d.jsx("div",{ref:i,className:J("p-6 pt-0",t),...n}));Ko.displayName="CardContent";const f_=_.forwardRef(({className:t,...n},i)=>d.jsx("div",{ref:i,className:J("flex items-center p-6 pt-0",t),...n}));f_.displayName="CardFooter";const m_="https://api.mapbox.com",p_="pk.eyJ1IjoibWloYWlsbmljYSIsImEiOiJjbTZmZjl2dHAwNGFjMmxzM3ByaThtdXUwIn0.Sull2584NOY_-bBBc36vsA",rd=em.create({baseURL:m_,params:{access_token:p_}}),Cn=new Map,g_=async t=>{const n=encodeURIComponent(t);if(Cn.has(n))return Cn.get(n);const i=await rd.get(`/geocoding/v5/mapbox.places/${encodeURIComponent(t)}.json`,{params:{types:"address",limit:5}});return Cn.set(n,i.data.features),i.data.features},Ll=async(t,n)=>{const i=`${t},${n}`;if(Cn.has(i))return Cn.get(i);const s=await rd.get(`/geocoding/v5/mapbox.places/${t},${n}.json`,{params:{types:"address"}});return Cn.set(i,s.data.features[0]),s.data.features[0]};function Ml(t,n){const[i,s]=_.useState(t);return _.useEffect(()=>{if(typeof window>"u")return()=>{};const l=setTimeout(()=>{s(t)},n);return()=>{clearTimeout(l)}},[t,n]),i}var Xo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(i,s){s(n)})(Ul,function(i){var s="1.9.4";function l(e){var r,a,h,p;for(a=1,h=arguments.length;a<h;a++){p=arguments[a];for(r in p)e[r]=p[r]}return e}var o=Object.create||function(){function e(){}return function(r){return e.prototype=r,new e}}();function c(e,r){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var h=a.call(arguments,2);return function(){return e.apply(r,h.length?h.concat(a.call(arguments)):arguments)}}var u=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++u),e._leaflet_id}function m(e,r,a){var h,p,w,N;return N=function(){h=!1,p&&(w.apply(a,p),p=!1)},w=function(){h?p=arguments:(e.apply(a,arguments),setTimeout(N,r),h=!0)},w}function g(e,r,a){var h=r[1],p=r[0],w=h-p;return e===h&&a?e:((e-p)%w+w)%w+p}function v(){return!1}function y(e,r){if(r===!1)return e;var a=Math.pow(10,r===void 0?6:r);return Math.round(e*a)/a}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function C(e){return x(e).split(/\s+/)}function b(e,r){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?o(e.options):{});for(var a in r)e.options[a]=r[a];return e.options}function M(e,r,a){var h=[];for(var p in e)h.push(encodeURIComponent(a?p.toUpperCase():p)+"="+encodeURIComponent(e[p]));return(!r||r.indexOf("?")===-1?"?":"&")+h.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function S(e,r){return e.replace(P,function(a,h){var p=r[h];if(p===void 0)throw new Error("No value provided for variable "+a);return typeof p=="function"&&(p=p(r)),p})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function A(e,r){for(var a=0;a<e.length;a++)if(e[a]===r)return a;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var j=0;function F(e){var r=+new Date,a=Math.max(0,16-(r-j));return j=r+a,window.setTimeout(e,a)}var Z=window.requestAnimationFrame||I("RequestAnimationFrame")||F,V=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function $(e,r,a){if(a&&Z===F)e.call(r);else return Z.call(window,c(e,r))}function K(e){e&&V.call(window,e)}var H={__proto__:null,extend:l,create:o,bind:c,get lastId(){return u},stamp:f,throttle:m,wrapNum:g,falseFn:v,formatNum:y,trim:x,splitWords:C,setOptions:b,getParamString:M,template:S,isArray:T,indexOf:A,emptyImageUrl:D,requestFn:Z,cancelFn:V,requestAnimFrame:$,cancelAnimFrame:K};function G(){}G.extend=function(e){var r=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,h=o(a);h.constructor=r,r.prototype=h;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(r[p]=this[p]);return e.statics&&l(r,e.statics),e.includes&&(oe(e.includes),l.apply(null,[h].concat(e.includes))),l(h,e),delete h.statics,delete h.includes,h.options&&(h.options=a.options?o(a.options):{},l(h.options,e.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,N=h._initHooks.length;w<N;w++)h._initHooks[w].call(this)}},r},G.include=function(e){var r=this.prototype.options;return l(this.prototype,e),e.options&&(this.prototype.options=r,this.mergeOptions(e.options)),this},G.mergeOptions=function(e){return l(this.prototype.options,e),this},G.addInitHook=function(e){var r=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function oe(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var r=0;r<e.length;r++)e[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var U={on:function(e,r,a){if(typeof e=="object")for(var h in e)this._on(h,e[h],r);else{e=C(e);for(var p=0,w=e.length;p<w;p++)this._on(e[p],r,a)}return this},off:function(e,r,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var h in e)this._off(h,e[h],r);else{e=C(e);for(var p=arguments.length===1,w=0,N=e.length;w<N;w++)p?this._off(e[w]):this._off(e[w],r,a)}return this},_on:function(e,r,a,h){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(e,r,a)===!1){a===this&&(a=void 0);var p={fn:r,ctx:a};h&&(p.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(p)}},_off:function(e,r,a){var h,p,w;if(this._events&&(h=this._events[e],!!h)){if(arguments.length===1){if(this._firingCount)for(p=0,w=h.length;p<w;p++)h[p].fn=v;delete this._events[e];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var N=this._listens(e,r,a);if(N!==!1){var E=h[N];this._firingCount&&(E.fn=v,this._events[e]=h=h.slice()),h.splice(N,1)}}},fire:function(e,r,a){if(!this.listens(e,a))return this;var h=l({},r,{type:e,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var p=this._events[e];if(p){this._firingCount=this._firingCount+1||1;for(var w=0,N=p.length;w<N;w++){var E=p[w],O=E.fn;E.once&&this.off(e,O,E.ctx),O.call(E.ctx||this,h)}this._firingCount--}}return a&&this._propagateEvent(h),this},listens:function(e,r,a,h){typeof e!="string"&&console.warn('"string" type argument expected');var p=r;typeof r!="function"&&(h=!!r,p=void 0,a=void 0);var w=this._events&&this._events[e];if(w&&w.length&&this._listens(e,p,a)!==!1)return!0;if(h){for(var N in this._eventParents)if(this._eventParents[N].listens(e,r,a,h))return!0}return!1},_listens:function(e,r,a){if(!this._events)return!1;var h=this._events[e]||[];if(!r)return!!h.length;a===this&&(a=void 0);for(var p=0,w=h.length;p<w;p++)if(h[p].fn===r&&h[p].ctx===a)return p;return!1},once:function(e,r,a){if(typeof e=="object")for(var h in e)this._on(h,e[h],r,!0);else{e=C(e);for(var p=0,w=e.length;p<w;p++)this._on(e[p],r,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var r in this._eventParents)this._eventParents[r].fire(e.type,l({layer:e.target,propagatedFrom:e.target},e),!0)}};U.addEventListener=U.on,U.removeEventListener=U.clearAllEventListeners=U.off,U.addOneTimeEventListener=U.once,U.fireEvent=U.fire,U.hasEventListeners=U.listens;var B=G.extend(U);function k(e,r,a){this.x=a?Math.round(e):e,this.y=a?Math.round(r):r}var ae=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new k(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new k(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ae(this.x),this.y=ae(this.y),this},distanceTo:function(e){e=z(e);var r=e.x-this.x,a=e.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(e){return e=z(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function z(e,r,a){return e instanceof k?e:T(e)?new k(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new k(e.x,e.y):new k(e,r,a)}function X(e,r){if(e)for(var a=r?[e,r]:e,h=0,p=a.length;h<p;h++)this.extend(a[h])}X.prototype={extend:function(e){var r,a;if(!e)return this;if(e instanceof k||typeof e[0]=="number"||"x"in e)r=a=z(e);else if(e=fe(e),r=e.min,a=e.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var r,a;return typeof e[0]=="number"||e instanceof k?e=z(e):e=fe(e),e instanceof X?(r=e.min,a=e.max):r=a=e,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=fe(e);var r=this.min,a=this.max,h=e.min,p=e.max,w=p.x>=r.x&&h.x<=a.x,N=p.y>=r.y&&h.y<=a.y;return w&&N},overlaps:function(e){e=fe(e);var r=this.min,a=this.max,h=e.min,p=e.max,w=p.x>r.x&&h.x<a.x,N=p.y>r.y&&h.y<a.y;return w&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var r=this.min,a=this.max,h=Math.abs(r.x-a.x)*e,p=Math.abs(r.y-a.y)*e;return fe(z(r.x-h,r.y-p),z(a.x+h,a.y+p))},equals:function(e){return e?(e=fe(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function fe(e,r){return!e||e instanceof X?e:new X(e,r)}function de(e,r){if(e)for(var a=r?[e,r]:e,h=0,p=a.length;h<p;h++)this.extend(a[h])}de.prototype={extend:function(e){var r=this._southWest,a=this._northEast,h,p;if(e instanceof te)h=e,p=e;else if(e instanceof de){if(h=e._southWest,p=e._northEast,!h||!p)return this}else return e?this.extend(ne(e)||le(e)):this;return!r&&!a?(this._southWest=new te(h.lat,h.lng),this._northEast=new te(p.lat,p.lng)):(r.lat=Math.min(h.lat,r.lat),r.lng=Math.min(h.lng,r.lng),a.lat=Math.max(p.lat,a.lat),a.lng=Math.max(p.lng,a.lng)),this},pad:function(e){var r=this._southWest,a=this._northEast,h=Math.abs(r.lat-a.lat)*e,p=Math.abs(r.lng-a.lng)*e;return new de(new te(r.lat-h,r.lng-p),new te(a.lat+h,a.lng+p))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof te||"lat"in e?e=ne(e):e=le(e);var r=this._southWest,a=this._northEast,h,p;return e instanceof de?(h=e.getSouthWest(),p=e.getNorthEast()):h=p=e,h.lat>=r.lat&&p.lat<=a.lat&&h.lng>=r.lng&&p.lng<=a.lng},intersects:function(e){e=le(e);var r=this._southWest,a=this._northEast,h=e.getSouthWest(),p=e.getNorthEast(),w=p.lat>=r.lat&&h.lat<=a.lat,N=p.lng>=r.lng&&h.lng<=a.lng;return w&&N},overlaps:function(e){e=le(e);var r=this._southWest,a=this._northEast,h=e.getSouthWest(),p=e.getNorthEast(),w=p.lat>r.lat&&h.lat<a.lat,N=p.lng>r.lng&&h.lng<a.lng;return w&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,r){return e?(e=le(e),this._southWest.equals(e.getSouthWest(),r)&&this._northEast.equals(e.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(e,r){return e instanceof de?e:new de(e,r)}function te(e,r,a){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r,a!==void 0&&(this.alt=+a)}te.prototype={equals:function(e,r){if(!e)return!1;e=ne(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(r===void 0?1e-9:r)},toString:function(e){return"LatLng("+y(this.lat,e)+", "+y(this.lng,e)+")"},distanceTo:function(e){return me.distance(this,ne(e))},wrap:function(){return me.wrapLatLng(this)},toBounds:function(e){var r=180*e/40075017,a=r/Math.cos(Math.PI/180*this.lat);return le([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function ne(e,r,a){return e instanceof te?e:T(e)&&typeof e[0]!="object"?e.length===3?new te(e[0],e[1],e[2]):e.length===2?new te(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new te(e.lat,"lng"in e?e.lng:e.lon,e.alt):r===void 0?null:new te(e,r,a)}var Y={latLngToPoint:function(e,r){var a=this.projection.project(e),h=this.scale(r);return this.transformation._transform(a,h)},pointToLatLng:function(e,r){var a=this.scale(r),h=this.transformation.untransform(e,a);return this.projection.unproject(h)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(e),h=this.transformation.transform(r.min,a),p=this.transformation.transform(r.max,a);return new X(h,p)},infinite:!1,wrapLatLng:function(e){var r=this.wrapLng?g(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?g(e.lat,this.wrapLat,!0):e.lat,h=e.alt;return new te(a,r,h)},wrapLatLngBounds:function(e){var r=e.getCenter(),a=this.wrapLatLng(r),h=r.lat-a.lat,p=r.lng-a.lng;if(h===0&&p===0)return e;var w=e.getSouthWest(),N=e.getNorthEast(),E=new te(w.lat-h,w.lng-p),O=new te(N.lat-h,N.lng-p);return new de(E,O)}},me=l({},Y,{wrapLng:[-180,180],R:6371e3,distance:function(e,r){var a=Math.PI/180,h=e.lat*a,p=r.lat*a,w=Math.sin((r.lat-e.lat)*a/2),N=Math.sin((r.lng-e.lng)*a/2),E=w*w+Math.cos(h)*Math.cos(p)*N*N,O=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*O}}),Ee=6378137,we={R:Ee,MAX_LATITUDE:85.0511287798,project:function(e){var r=Math.PI/180,a=this.MAX_LATITUDE,h=Math.max(Math.min(a,e.lat),-a),p=Math.sin(h*r);return new k(this.R*e.lng*r,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(e){var r=180/Math.PI;return new te((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*r,e.x*r/this.R)},bounds:function(){var e=Ee*Math.PI;return new X([-e,-e],[e,e])}()};function _e(e,r,a,h){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=r,this._c=a,this._d=h}_e.prototype={transform:function(e,r){return this._transform(e.clone(),r)},_transform:function(e,r){return r=r||1,e.x=r*(this._a*e.x+this._b),e.y=r*(this._c*e.y+this._d),e},untransform:function(e,r){return r=r||1,new k((e.x/r-this._b)/this._a,(e.y/r-this._d)/this._c)}};function pe(e,r,a,h){return new _e(e,r,a,h)}var je=l({},me,{code:"EPSG:3857",projection:we,transformation:function(){var e=.5/(Math.PI*we.R);return pe(e,.5,-e,.5)}()}),Ye=l({},je,{code:"EPSG:900913"});function Ot(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Dt(e,r){var a="",h,p,w,N,E,O;for(h=0,w=e.length;h<w;h++){for(E=e[h],p=0,N=E.length;p<N;p++)O=E[p],a+=(p?"L":"M")+O.x+" "+O.y;a+=r?q.svg?"z":"x":""}return a||"M0 0"}var wt=document.documentElement.style,rn="ActiveXObject"in window,on=rn&&!document.addEventListener,Ks="msLaunchUri"in navigator&&!("documentMode"in document),Or=lt("webkit"),Xs=lt("android"),Js=lt("android 2")||lt("android 3"),bh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ch=Xs&&lt("Google")&&bh<537&&!("AudioNode"in window),Dr=!!window.opera,Qs=!Ks&&lt("chrome"),ea=lt("gecko")&&!Or&&!Dr&&!rn,Ph=!Qs&&lt("safari"),ta=lt("phantom"),na="OTransition"in wt,Sh=navigator.platform.indexOf("Win")===0,ia=rn&&"transition"in wt,Ar="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Js,ra="MozPerspective"in wt,Lh=!window.L_DISABLE_3D&&(ia||Ar||ra)&&!na&&!ta,jn=typeof orientation<"u"||lt("mobile"),Mh=jn&&Or,Nh=jn&&Ar,oa=!window.PointerEvent&&window.MSPointerEvent,sa=!!(window.PointerEvent||oa),aa="ontouchstart"in window||!!window.TouchEvent,Th=!window.L_NO_TOUCH&&(aa||sa),Eh=jn&&Dr,kh=jn&&ea,Oh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dh=function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",v,r),window.removeEventListener("testPassiveEventSupport",v,r)}catch{}return e}(),Ah=function(){return!!document.createElement("canvas").getContext}(),jr=!!(document.createElementNS&&Ot("svg").createSVGRect),jh=!!jr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Rh=!jr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var r=e.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Ih=navigator.platform.indexOf("Mac")===0,Bh=navigator.platform.indexOf("Linux")===0;function lt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var q={ie:rn,ielt9:on,edge:Ks,webkit:Or,android:Xs,android23:Js,androidStock:Ch,opera:Dr,chrome:Qs,gecko:ea,safari:Ph,phantom:ta,opera12:na,win:Sh,ie3d:ia,webkit3d:Ar,gecko3d:ra,any3d:Lh,mobile:jn,mobileWebkit:Mh,mobileWebkit3d:Nh,msPointer:oa,pointer:sa,touch:Th,touchNative:aa,mobileOpera:Eh,mobileGecko:kh,retina:Oh,passiveEvents:Dh,canvas:Ah,svg:jr,vml:Rh,inlineSvg:jh,mac:Ih,linux:Bh},la=q.msPointer?"MSPointerDown":"pointerdown",ca=q.msPointer?"MSPointerMove":"pointermove",ua=q.msPointer?"MSPointerUp":"pointerup",da=q.msPointer?"MSPointerCancel":"pointercancel",Rr={touchstart:la,touchmove:ca,touchend:ua,touchcancel:da},ha={touchstart:Uh,touchmove:yi,touchend:yi,touchcancel:yi},sn={},fa=!1;function Fh(e,r,a){return r==="touchstart"&&Hh(),ha[r]?(a=ha[r].bind(this,a),e.addEventListener(Rr[r],a,!1),a):(console.warn("wrong event specified:",r),v)}function zh(e,r,a){if(!Rr[r]){console.warn("wrong event specified:",r);return}e.removeEventListener(Rr[r],a,!1)}function Wh(e){sn[e.pointerId]=e}function Zh(e){sn[e.pointerId]&&(sn[e.pointerId]=e)}function ma(e){delete sn[e.pointerId]}function Hh(){fa||(document.addEventListener(la,Wh,!0),document.addEventListener(ca,Zh,!0),document.addEventListener(ua,ma,!0),document.addEventListener(da,ma,!0),fa=!0)}function yi(e,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in sn)r.touches.push(sn[a]);r.changedTouches=[r],e(r)}}function Uh(e,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Re(r),yi(e,r)}function $h(e){var r={},a,h;for(h in e)a=e[h],r[h]=a&&a.bind?a.bind(e):a;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Gh=200;function Vh(e,r){e.addEventListener("dblclick",r);var a=0,h;function p(w){if(w.detail!==1){h=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var N=ya(w);if(!(N.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!N.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var E=Date.now();E-a<=Gh?(h++,h===2&&r($h(w))):h=1,a=E}}}return e.addEventListener("click",p),{dblclick:r,simDblclick:p}}function Yh(e,r){e.removeEventListener("dblclick",r.dblclick),e.removeEventListener("click",r.simDblclick)}var Ir=bi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rn=bi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pa=Rn==="webkitTransition"||Rn==="OTransition"?Rn+"End":"transitionend";function ga(e){return typeof e=="string"?document.getElementById(e):e}function In(e,r){var a=e.style[r]||e.currentStyle&&e.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(e,null);a=h?h[r]:null}return a==="auto"?null:a}function ye(e,r,a){var h=document.createElement(e);return h.className=r||"",a&&a.appendChild(h),h}function Le(e){var r=e.parentNode;r&&r.removeChild(e)}function xi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function an(e){var r=e.parentNode;r&&r.lastChild!==e&&r.appendChild(e)}function ln(e){var r=e.parentNode;r&&r.firstChild!==e&&r.insertBefore(e,r.firstChild)}function Br(e,r){if(e.classList!==void 0)return e.classList.contains(r);var a=wi(e);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function se(e,r){if(e.classList!==void 0)for(var a=C(r),h=0,p=a.length;h<p;h++)e.classList.add(a[h]);else if(!Br(e,r)){var w=wi(e);Fr(e,(w?w+" ":"")+r)}}function Me(e,r){e.classList!==void 0?e.classList.remove(r):Fr(e,x((" "+wi(e)+" ").replace(" "+r+" "," ")))}function Fr(e,r){e.className.baseVal===void 0?e.className=r:e.className.baseVal=r}function wi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function qe(e,r){"opacity"in e.style?e.style.opacity=r:"filter"in e.style&&qh(e,r)}function qh(e,r){var a=!1,h="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(h)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):e.style.filter+=" progid:"+h+"(opacity="+r+")"}function bi(e){for(var r=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in r)return e[a];return!1}function Gt(e,r,a){var h=r||new k(0,0);e.style[Ir]=(q.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(a?" scale("+a+")":"")}function Ne(e,r){e._leaflet_pos=r,q.any3d?Gt(e,r):(e.style.left=r.x+"px",e.style.top=r.y+"px")}function Vt(e){return e._leaflet_pos||new k(0,0)}var Bn,Fn,zr;if("onselectstart"in document)Bn=function(){re(window,"selectstart",Re)},Fn=function(){Pe(window,"selectstart",Re)};else{var zn=bi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bn=function(){if(zn){var e=document.documentElement.style;zr=e[zn],e[zn]="none"}},Fn=function(){zn&&(document.documentElement.style[zn]=zr,zr=void 0)}}function Wr(){re(window,"dragstart",Re)}function Zr(){Pe(window,"dragstart",Re)}var Ci,Hr;function Ur(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Pi(),Ci=e,Hr=e.style.outlineStyle,e.style.outlineStyle="none",re(window,"keydown",Pi))}function Pi(){Ci&&(Ci.style.outlineStyle=Hr,Ci=void 0,Hr=void 0,Pe(window,"keydown",Pi))}function va(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function $r(e){var r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}var Kh={__proto__:null,TRANSFORM:Ir,TRANSITION:Rn,TRANSITION_END:pa,get:ga,getStyle:In,create:ye,remove:Le,empty:xi,toFront:an,toBack:ln,hasClass:Br,addClass:se,removeClass:Me,setClass:Fr,getClass:wi,setOpacity:qe,testProp:bi,setTransform:Gt,setPosition:Ne,getPosition:Vt,get disableTextSelection(){return Bn},get enableTextSelection(){return Fn},disableImageDrag:Wr,enableImageDrag:Zr,preventOutline:Ur,restoreOutline:Pi,getSizedParentNode:va,getScale:$r};function re(e,r,a,h){if(r&&typeof r=="object")for(var p in r)Vr(e,p,r[p],a);else{r=C(r);for(var w=0,N=r.length;w<N;w++)Vr(e,r[w],a,h)}return this}var ct="_leaflet_events";function Pe(e,r,a,h){if(arguments.length===1)_a(e),delete e[ct];else if(r&&typeof r=="object")for(var p in r)Yr(e,p,r[p],a);else if(r=C(r),arguments.length===2)_a(e,function(E){return A(r,E)!==-1});else for(var w=0,N=r.length;w<N;w++)Yr(e,r[w],a,h);return this}function _a(e,r){for(var a in e[ct]){var h=a.split(/\d/)[0];(!r||r(h))&&Yr(e,h,null,null,a)}}var Gr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vr(e,r,a,h){var p=r+f(a)+(h?"_"+f(h):"");if(e[ct]&&e[ct][p])return this;var w=function(E){return a.call(h||e,E||window.event)},N=w;!q.touchNative&&q.pointer&&r.indexOf("touch")===0?w=Fh(e,r,w):q.touch&&r==="dblclick"?w=Vh(e,w):"addEventListener"in e?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?e.addEventListener(Gr[r]||r,w,q.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(w=function(E){E=E||window.event,Kr(e,E)&&N(E)},e.addEventListener(Gr[r],w,!1)):e.addEventListener(r,N,!1):e.attachEvent("on"+r,w),e[ct]=e[ct]||{},e[ct][p]=w}function Yr(e,r,a,h,p){p=p||r+f(a)+(h?"_"+f(h):"");var w=e[ct]&&e[ct][p];if(!w)return this;!q.touchNative&&q.pointer&&r.indexOf("touch")===0?zh(e,r,w):q.touch&&r==="dblclick"?Yh(e,w):"removeEventListener"in e?e.removeEventListener(Gr[r]||r,w,!1):e.detachEvent("on"+r,w),e[ct][p]=null}function Yt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function qr(e){return Vr(e,"wheel",Yt),this}function Wn(e){return re(e,"mousedown touchstart dblclick contextmenu",Yt),e._leaflet_disable_click=!0,this}function Re(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function qt(e){return Re(e),Yt(e),this}function ya(e){if(e.composedPath)return e.composedPath();for(var r=[],a=e.target;a;)r.push(a),a=a.parentNode;return r}function xa(e,r){if(!r)return new k(e.clientX,e.clientY);var a=$r(r),h=a.boundingClientRect;return new k((e.clientX-h.left)/a.x-r.clientLeft,(e.clientY-h.top)/a.y-r.clientTop)}var Xh=q.linux&&q.chrome?window.devicePixelRatio:q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wa(e){return q.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Xh:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Kr(e,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Jh={__proto__:null,on:re,off:Pe,stopPropagation:Yt,disableScrollPropagation:qr,disableClickPropagation:Wn,preventDefault:Re,stop:qt,getPropagationPath:ya,getMousePosition:xa,getWheelDelta:wa,isExternalTarget:Kr,addListener:re,removeListener:Pe},ba=B.extend({run:function(e,r,a,h){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Vt(e),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(e){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,r){var a=this._startPos.add(this._offset.multiplyBy(e));r&&a._round(),Ne(this._el,a),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ge=B.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,r){r=b(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ne(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Rn&&q.any3d&&!q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,pa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),e=this._limitCenter(ne(e),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=l({animate:a.animate},a.zoom),a.pan=l({animate:a.animate,duration:a.duration},a.pan));var h=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,r,a.zoom):this._tryAnimatedPan(e,a.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(e,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,r){return this._loaded?this.setView(this.getCenter(),e,{zoom:r}):(this._zoom=e,this)},zoomIn:function(e,r){return e=e||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,r)},zoomOut:function(e,r){return e=e||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,r)},setZoomAround:function(e,r,a){var h=this.getZoomScale(r),p=this.getSize().divideBy(2),w=e instanceof k?e:this.latLngToContainerPoint(e),N=w.subtract(p).multiplyBy(1-1/h),E=this.containerPointToLatLng(p.add(N));return this.setView(E,r,{zoom:a})},_getBoundsCenterZoom:function(e,r){r=r||{},e=e.getBounds?e.getBounds():le(e);var a=z(r.paddingTopLeft||r.padding||[0,0]),h=z(r.paddingBottomRight||r.padding||[0,0]),p=this.getBoundsZoom(e,!1,a.add(h));if(p=typeof r.maxZoom=="number"?Math.min(r.maxZoom,p):p,p===1/0)return{center:e.getCenter(),zoom:p};var w=h.subtract(a).divideBy(2),N=this.project(e.getSouthWest(),p),E=this.project(e.getNorthEast(),p),O=this.unproject(N.add(E).divideBy(2).add(w),p);return{center:O,zoom:p}},fitBounds:function(e,r){if(e=le(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,r){return this.setView(e,this._zoom,{pan:r})},panBy:function(e,r){if(e=z(e).round(),r=r||{},!e.x&&!e.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){se(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,r,a){if(a=a||{},a.animate===!1||!q.any3d)return this.setView(e,r,a);this._stop();var h=this.project(this.getCenter()),p=this.project(e),w=this.getSize(),N=this._zoom;e=ne(e),r=r===void 0?N:r;var E=Math.max(w.x,w.y),O=E*this.getZoomScale(N,r),R=p.distanceTo(h)||1,W=1.42,Q=W*W;function ce(Te){var Ri=Te?-1:1,Wf=Te?O:E,Zf=O*O-E*E+Ri*Q*Q*R*R,Hf=2*Wf*Q*R,ao=Zf/Hf,nl=Math.sqrt(ao*ao+1)-ao,Uf=nl<1e-9?-18:Math.log(nl);return Uf}function ze(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function ke(Te){return(Math.exp(Te)+Math.exp(-Te))/2}function Xe(Te){return ze(Te)/ke(Te)}var Ze=ce(0);function mn(Te){return E*(ke(Ze)/ke(Ze+W*Te))}function If(Te){return E*(ke(Ze)*Xe(Ze+W*Te)-ze(Ze))/Q}function Bf(Te){return 1-Math.pow(1-Te,1.5)}var Ff=Date.now(),el=(ce(1)-Ze)/W,zf=a.duration?1e3*a.duration:1e3*el*.8;function tl(){var Te=(Date.now()-Ff)/zf,Ri=Bf(Te)*el;Te<=1?(this._flyToFrame=$(tl,this),this._move(this.unproject(h.add(p.subtract(h).multiplyBy(If(Ri)/R)),N),this.getScaleZoom(E/mn(Ri),N),{flyTo:!0})):this._move(e,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),tl.call(this),this},flyToBounds:function(e,r){var a=this._getBoundsCenterZoom(e,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(e){return e=le(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var r=this.options.minZoom;return this.options.minZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var r=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,r){this._enforcingBounds=!0;var a=this.getCenter(),h=this._limitCenter(a,this._zoom,le(e));return a.equals(h)||this.panTo(h,r),this._enforcingBounds=!1,this},panInside:function(e,r){r=r||{};var a=z(r.paddingTopLeft||r.padding||[0,0]),h=z(r.paddingBottomRight||r.padding||[0,0]),p=this.project(this.getCenter()),w=this.project(e),N=this.getPixelBounds(),E=fe([N.min.add(a),N.max.subtract(h)]),O=E.getSize();if(!E.contains(w)){this._enforcingBounds=!0;var R=w.subtract(E.getCenter()),W=E.extend(w).getSize().subtract(O);p.x+=R.x<0?-W.x:W.x,p.y+=R.y<0?-W.y:W.y,this.panTo(this.unproject(p),r),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=l({animate:!1,pan:!0},e===!0?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),h=r.divideBy(2).round(),p=a.divideBy(2).round(),w=h.subtract(p);return!w.x&&!w.y?this:(e.animate&&e.pan?this.panBy(w):(e.pan&&this._rawPanBy(w),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=l({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,e):navigator.geolocation.getCurrentPosition(r,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var r=e.code,a=e.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var r=e.coords.latitude,a=e.coords.longitude,h=new te(r,a),p=h.toBounds(e.coords.accuracy*2),w=this._locateOptions;if(w.setView){var N=this.getBoundsZoom(p);this.setView(h,w.maxZoom?Math.min(N,w.maxZoom):N)}var E={latlng:h,bounds:p,timestamp:e.timestamp};for(var O in e.coords)typeof e.coords[O]=="number"&&(E[O]=e.coords[O]);this.fire("locationfound",E)}},addHandler:function(e,r){if(!r)return this;var a=this[e]=new r(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Le(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,r){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),h=ye("div",a,r||this._mapPane);return e&&(this._panes[e]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),r=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new de(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,r,a){e=le(e),a=z(a||[0,0]);var h=this.getZoom()||0,p=this.getMinZoom(),w=this.getMaxZoom(),N=e.getNorthWest(),E=e.getSouthEast(),O=this.getSize().subtract(a),R=fe(this.project(E,h),this.project(N,h)).getSize(),W=q.any3d?this.options.zoomSnap:1,Q=O.x/R.x,ce=O.y/R.y,ze=r?Math.max(Q,ce):Math.min(Q,ce);return h=this.getScaleZoom(ze,h),W&&(h=Math.round(h/(W/100))*(W/100),h=r?Math.ceil(h/W)*W:Math.floor(h/W)*W),Math.max(p,Math.min(w,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,r){var a=this._getTopLeftPoint(e,r);return new X(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(e)/a.scale(r)},getScaleZoom:function(e,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var h=a.zoom(e*a.scale(r));return isNaN(h)?1/0:h},project:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ne(e),r)},unproject:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(z(e),r)},layerPointToLatLng:function(e){var r=z(e).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(e){var r=this.project(ne(e))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(ne(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(le(e))},distance:function(e,r){return this.options.crs.distance(ne(e),ne(r))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var r=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(e)))},mouseEventToContainerPoint:function(e){return xa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var r=this._container=ga(e);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(r,"scroll",this._onScroll,this),this._containerId=f(r)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&q.any3d,se(e,"leaflet-container"+(q.touch?" leaflet-touch":"")+(q.retina?" leaflet-retina":"")+(q.ielt9?" leaflet-oldie":"")+(q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=In(e,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ne(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(se(e.markerPane,"leaflet-zoom-hide"),se(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,r,a){Ne(this._mapPane,new k(0,0));var h=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var p=this._zoom!==r;this._moveStart(p,a)._move(e,r)._moveEnd(p),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(e,r){return e&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(e,r,a,h){r===void 0&&(r=this._zoom);var p=this._zoom!==r;return this._zoom=r,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),h?a&&a.pinch&&this.fire("zoom",a):((p||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ne(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var r=e?Pe:re;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),q.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,r){for(var a=[],h,p=r==="mouseout"||r==="mouseover",w=e.target||e.srcElement,N=!1;w;){if(h=this._targets[f(w)],h&&(r==="click"||r==="preclick")&&this._draggableMoved(h)){N=!0;break}if(h&&h.listens(r,!0)&&(p&&!Kr(w,e)||(a.push(h),p))||w===this._container)break;w=w.parentNode}return!a.length&&!N&&!p&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var r=e.target||e.srcElement;if(!(!this._loaded||r._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(r))){var a=e.type;a==="mousedown"&&Ur(r),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,r,a){if(e.type==="click"){var h=l({},e);h.type="preclick",this._fireDOMEvent(h,h.type,a)}var p=this._findEventTargets(e,r);if(a){for(var w=[],N=0;N<a.length;N++)a[N].listens(r,!0)&&w.push(a[N]);p=w.concat(p)}if(p.length){r==="contextmenu"&&Re(e);var E=p[0],O={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var R=E.getLatLng&&(!E._radius||E._radius<=10);O.containerPoint=R?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(e),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=R?E.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(N=0;N<p.length;N++)if(p[N].fire(r,O,!0),O.originalEvent._stopped||p[N].options.bubblingMouseEvents===!1&&A(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,r=this._handlers.length;e<r;e++)this._handlers[e].disable()},whenReady:function(e,r){return this._loaded?e.call(r||this,{target:this}):this.on("load",e,r),this},_getMapPanePos:function(){return Vt(this._mapPane)||new k(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,r){var a=e&&r!==void 0?this._getNewPixelOrigin(e,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,r){var a=this.getSize()._divideBy(2);return this.project(e,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,r,a){var h=this._getNewPixelOrigin(a,r);return this.project(e,r)._subtract(h)},_latLngBoundsToNewLayerBounds:function(e,r,a){var h=this._getNewPixelOrigin(a,r);return fe([this.project(e.getSouthWest(),r)._subtract(h),this.project(e.getNorthWest(),r)._subtract(h),this.project(e.getSouthEast(),r)._subtract(h),this.project(e.getNorthEast(),r)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,r,a){if(!a)return e;var h=this.project(e,r),p=this.getSize().divideBy(2),w=new X(h.subtract(p),h.add(p)),N=this._getBoundsOffset(w,a,r);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?e:this.unproject(h.add(N),r)},_limitOffset:function(e,r){if(!r)return e;var a=this.getPixelBounds(),h=new X(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(h,r))},_getBoundsOffset:function(e,r,a){var h=fe(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),p=h.min.subtract(e.min),w=h.max.subtract(e.max),N=this._rebound(p.x,-w.x),E=this._rebound(p.y,-w.y);return new k(N,E)},_rebound:function(e,r){return e+r>0?Math.round(e-r)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(r))},_limitZoom:function(e){var r=this.getMinZoom(),a=this.getMaxZoom(),h=q.any3d?this.options.zoomSnap:1;return h&&(e=Math.round(e/h)*h),Math.max(r,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,r){var a=this._getCenterOffset(e)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var e=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(r){var a=Ir,h=this._proxy.style[a];Gt(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),h===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),r=this.getZoom();Gt(this._proxy,this.project(e,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(r),p=this._getCenterOffset(e)._divideBy(1-1/h);return a.animate!==!0&&!this.getSize().contains(p)?!1:($(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,r,!0)},this),!0)},_animateZoom:function(e,r,a,h){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=r,se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:r,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qh(e,r){return new ge(e,r)}var Qe=G.extend({options:{position:"topright"},initialize:function(e){b(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var r=this._map;return r&&r.removeControl(this),this.options.position=e,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var r=this._container=this.onAdd(e),a=this.getPosition(),h=e._controlCorners[a];return se(r,"leaflet-control"),a.indexOf("bottom")!==-1?h.insertBefore(r,h.firstChild):h.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Zn=function(e){return new Qe(e)};ge.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},r="leaflet-",a=this._controlContainer=ye("div",r+"control-container",this._container);function h(p,w){var N=r+p+" "+r+w;e[p+w]=ye("div",N,a)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Le(this._controlCorners[e]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ca=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,r,a,h){return a<h?-1:h<a?1:0}},initialize:function(e,r,a){b(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in e)this._addLayer(e[h],h);for(h in r)this._addLayer(r[h],h,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Qe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,r){return this._addLayer(e,r),this._map?this._update():this},addOverlay:function(e,r){return this._addLayer(e,r,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var r=this._getLayer(f(e));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",r=this._container=ye("div",e),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),Wn(r),qr(r);var h=this._section=ye("section",e+"-list");a&&(this._map.on("click",this.collapse,this),re(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=ye("a",e+"-toggle",r);p.href="#",p.title="Layers",p.setAttribute("role","button"),re(p,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){Re(w),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=ye("div",e+"-base",h),this._separator=ye("div",e+"-separator",h),this._overlaysList=ye("div",e+"-overlays",h),r.appendChild(h)},_getLayer:function(e){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&f(this._layers[r].layer)===e)return this._layers[r]},_addLayer:function(e,r,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(h,p){return this.options.sortFunction(h.layer,p.layer,h.name,p.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xi(this._baseLayersList),xi(this._overlaysList),this._layerControlInputs=[];var e,r,a,h,p=0;for(a=0;a<this._layers.length;a++)h=this._layers[a],this._addItem(h),r=r||h.overlay,e=e||!h.overlay,p+=h.overlay?0:1;return this.options.hideSingleBase&&(e=e&&p>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=r&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var r=this._getLayer(f(e.target)),a=r.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(e,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(r?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=a,h.firstChild},_addItem:function(e){var r=document.createElement("label"),a=this._map.hasLayer(e.layer),h;e.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=a):h=this._createRadioElement("leaflet-base-layers_"+f(this),a),this._layerControlInputs.push(h),h.layerId=f(e.layer),re(h,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+e.name;var w=document.createElement("span");r.appendChild(w),w.appendChild(h),w.appendChild(p);var N=e.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,r,a,h=[],p=[];this._handlingClick=!0;for(var w=e.length-1;w>=0;w--)r=e[w],a=this._getLayer(r.layerId).layer,r.checked?h.push(a):r.checked||p.push(a);for(w=0;w<p.length;w++)this._map.hasLayer(p[w])&&this._map.removeLayer(p[w]);for(w=0;w<h.length;w++)this._map.hasLayer(h[w])||this._map.addLayer(h[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,r,a,h=this._map.getZoom(),p=e.length-1;p>=0;p--)r=e[p],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&h<a.options.minZoom||a.options.maxZoom!==void 0&&h>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,re(e,"click",Re),this.expand();var r=this;setTimeout(function(){Pe(e,"click",Re),r._preventClick=!1})}}),ef=function(e,r,a){return new Ca(e,r,a)},Xr=Qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var r="leaflet-control-zoom",a=ye("div",r+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,r,a,h,p){var w=ye("a",a,h);return w.innerHTML=e,w.href="#",w.title=r,w.setAttribute("role","button"),w.setAttribute("aria-label",r),Wn(w),re(w,"click",qt),re(w,"click",p,this),re(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var e=this._map,r="leaflet-disabled";Me(this._zoomInButton,r),Me(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(se(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(se(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});ge.mergeOptions({zoomControl:!0}),ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xr,this.addControl(this.zoomControl))});var tf=function(e){return new Xr(e)},Pa=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var r="leaflet-control-scale",a=ye("div",r),h=this.options;return this._addScales(h,r+"-line",a),e.on(h.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,r,a){e.metric&&(this._mScale=ye("div",r,a)),e.imperial&&(this._iScale=ye("div",r,a))},_update:function(){var e=this._map,r=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,r]),e.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var r=this._getRoundNum(e),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/e)},_updateImperial:function(e){var r=e*3.2808399,a,h,p;r>5280?(a=r/5280,h=this._getRoundNum(a),this._updateScale(this._iScale,h+" mi",h/a)):(p=this._getRoundNum(r),this._updateScale(this._iScale,p+" ft",p/r))},_updateScale:function(e,r,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=r},_getRoundNum:function(e){var r=Math.pow(10,(Math.floor(e)+"").length-1),a=e/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),nf=function(e){return new Pa(e)},rf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jr=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(q.inlineSvg?rf+" ":"")+"Leaflet</a>"},initialize:function(e){b(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),Wn(this._container);for(var r in e._layers)e._layers[r].getAttribution&&this.addAttribution(e._layers[r].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var r in this._attributions)this._attributions[r]&&e.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});ge.mergeOptions({attributionControl:!0}),ge.addInitHook(function(){this.options.attributionControl&&new Jr().addTo(this)});var of=function(e){return new Jr(e)};Qe.Layers=Ca,Qe.Zoom=Xr,Qe.Scale=Pa,Qe.Attribution=Jr,Zn.layers=ef,Zn.zoom=tf,Zn.scale=nf,Zn.attribution=of;var ut=G.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ut.addTo=function(e,r){return e.addHandler(r,this),this};var sf={Events:U},Sa=q.touch?"touchstart mousedown":"mousedown",At=B.extend({options:{clickTolerance:3},initialize:function(e,r,a,h){b(this,h),this._element=e,this._dragStartTarget=r||e,this._preventOutline=a},enable:function(){this._enabled||(re(this._dragStartTarget,Sa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(At._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,Sa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Br(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){At._dragging===this&&this.finishDrag();return}if(!(At._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(At._dragging=this,this._preventOutline&&Ur(this._element),Wr(),Bn(),!this._moving)){this.fire("down");var r=e.touches?e.touches[0]:e,a=va(this._element);this._startPoint=new k(r.clientX,r.clientY),this._startPos=Vt(this._element),this._parentScale=$r(a);var h=e.type==="mousedown";re(document,h?"mousemove":"touchmove",this._onMove,this),re(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var r=e.touches&&e.touches.length===1?e.touches[0]:e,a=new k(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,Re(e),this._moved||(this.fire("dragstart"),this._moved=!0,se(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ne(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Me(document.body,"leaflet-dragging"),this._lastTarget&&(Me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),Zr(),Fn();var r=this._moved&&this._moving;this._moving=!1,At._dragging=!1,r&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function La(e,r,a){var h,p=[1,4,2,8],w,N,E,O,R,W,Q,ce;for(w=0,W=e.length;w<W;w++)e[w]._code=Kt(e[w],r);for(E=0;E<4;E++){for(Q=p[E],h=[],w=0,W=e.length,N=W-1;w<W;N=w++)O=e[w],R=e[N],O._code&Q?R._code&Q||(ce=Si(R,O,Q,r,a),ce._code=Kt(ce,r),h.push(ce)):(R._code&Q&&(ce=Si(R,O,Q,r,a),ce._code=Kt(ce,r),h.push(ce)),h.push(O));e=h}return e}function Ma(e,r){var a,h,p,w,N,E,O,R,W;if(!e||e.length===0)throw new Error("latlngs not passed");Ke(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Q=ne([0,0]),ce=le(e),ze=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());ze<1700&&(Q=Qr(e));var ke=e.length,Xe=[];for(a=0;a<ke;a++){var Ze=ne(e[a]);Xe.push(r.project(ne([Ze.lat-Q.lat,Ze.lng-Q.lng])))}for(E=O=R=0,a=0,h=ke-1;a<ke;h=a++)p=Xe[a],w=Xe[h],N=p.y*w.x-w.y*p.x,O+=(p.x+w.x)*N,R+=(p.y+w.y)*N,E+=N*3;E===0?W=Xe[0]:W=[O/E,R/E];var mn=r.unproject(z(W));return ne([mn.lat+Q.lat,mn.lng+Q.lng])}function Qr(e){for(var r=0,a=0,h=0,p=0;p<e.length;p++){var w=ne(e[p]);r+=w.lat,a+=w.lng,h++}return ne([r/h,a/h])}var af={__proto__:null,clipPolygon:La,polygonCenter:Ma,centroid:Qr};function Na(e,r){if(!r||!e.length)return e.slice();var a=r*r;return e=uf(e,a),e=cf(e,a),e}function Ta(e,r,a){return Math.sqrt(Hn(e,r,a,!0))}function lf(e,r,a){return Hn(e,r,a)}function cf(e,r){var a=e.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new h(a);p[0]=p[a-1]=1,eo(e,p,r,0,a-1);var w,N=[];for(w=0;w<a;w++)p[w]&&N.push(e[w]);return N}function eo(e,r,a,h,p){var w=0,N,E,O;for(E=h+1;E<=p-1;E++)O=Hn(e[E],e[h],e[p],!0),O>w&&(N=E,w=O);w>a&&(r[N]=1,eo(e,r,a,h,N),eo(e,r,a,N,p))}function uf(e,r){for(var a=[e[0]],h=1,p=0,w=e.length;h<w;h++)df(e[h],e[p])>r&&(a.push(e[h]),p=h);return p<w-1&&a.push(e[w-1]),a}var Ea;function ka(e,r,a,h,p){var w=h?Ea:Kt(e,a),N=Kt(r,a),E,O,R;for(Ea=N;;){if(!(w|N))return[e,r];if(w&N)return!1;E=w||N,O=Si(e,r,E,a,p),R=Kt(O,a),E===w?(e=O,w=R):(r=O,N=R)}}function Si(e,r,a,h,p){var w=r.x-e.x,N=r.y-e.y,E=h.min,O=h.max,R,W;return a&8?(R=e.x+w*(O.y-e.y)/N,W=O.y):a&4?(R=e.x+w*(E.y-e.y)/N,W=E.y):a&2?(R=O.x,W=e.y+N*(O.x-e.x)/w):a&1&&(R=E.x,W=e.y+N*(E.x-e.x)/w),new k(R,W,p)}function Kt(e,r){var a=0;return e.x<r.min.x?a|=1:e.x>r.max.x&&(a|=2),e.y<r.min.y?a|=4:e.y>r.max.y&&(a|=8),a}function df(e,r){var a=r.x-e.x,h=r.y-e.y;return a*a+h*h}function Hn(e,r,a,h){var p=r.x,w=r.y,N=a.x-p,E=a.y-w,O=N*N+E*E,R;return O>0&&(R=((e.x-p)*N+(e.y-w)*E)/O,R>1?(p=a.x,w=a.y):R>0&&(p+=N*R,w+=E*R)),N=e.x-p,E=e.y-w,h?N*N+E*E:new k(p,w)}function Ke(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Oa(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ke(e)}function Da(e,r){var a,h,p,w,N,E,O,R;if(!e||e.length===0)throw new Error("latlngs not passed");Ke(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var W=ne([0,0]),Q=le(e),ce=Q.getNorthWest().distanceTo(Q.getSouthWest())*Q.getNorthEast().distanceTo(Q.getNorthWest());ce<1700&&(W=Qr(e));var ze=e.length,ke=[];for(a=0;a<ze;a++){var Xe=ne(e[a]);ke.push(r.project(ne([Xe.lat-W.lat,Xe.lng-W.lng])))}for(a=0,h=0;a<ze-1;a++)h+=ke[a].distanceTo(ke[a+1])/2;if(h===0)R=ke[0];else for(a=0,w=0;a<ze-1;a++)if(N=ke[a],E=ke[a+1],p=N.distanceTo(E),w+=p,w>h){O=(w-h)/p,R=[E.x-O*(E.x-N.x),E.y-O*(E.y-N.y)];break}var Ze=r.unproject(z(R));return ne([Ze.lat+W.lat,Ze.lng+W.lng])}var hf={__proto__:null,simplify:Na,pointToSegmentDistance:Ta,closestPointOnSegment:lf,clipSegment:ka,_getEdgeIntersection:Si,_getBitCode:Kt,_sqClosestPointOnSegment:Hn,isFlat:Ke,_flat:Oa,polylineCenter:Da},to={project:function(e){return new k(e.lng,e.lat)},unproject:function(e){return new te(e.y,e.x)},bounds:new X([-180,-90],[180,90])},no={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var r=Math.PI/180,a=this.R,h=e.lat*r,p=this.R_MINOR/a,w=Math.sqrt(1-p*p),N=w*Math.sin(h),E=Math.tan(Math.PI/4-h/2)/Math.pow((1-N)/(1+N),w/2);return h=-a*Math.log(Math.max(E,1e-10)),new k(e.lng*r*a,h)},unproject:function(e){for(var r=180/Math.PI,a=this.R,h=this.R_MINOR/a,p=Math.sqrt(1-h*h),w=Math.exp(-e.y/a),N=Math.PI/2-2*Math.atan(w),E=0,O=.1,R;E<15&&Math.abs(O)>1e-7;E++)R=p*Math.sin(N),R=Math.pow((1-R)/(1+R),p/2),O=Math.PI/2-2*Math.atan(w*R)-N,N+=O;return new te(N*r,e.x*r/a)}},ff={__proto__:null,LonLat:to,Mercator:no,SphericalMercator:we},mf=l({},me,{code:"EPSG:3395",projection:no,transformation:function(){var e=.5/(Math.PI*no.R);return pe(e,.5,-e,.5)}()}),Aa=l({},me,{code:"EPSG:4326",projection:to,transformation:pe(1/180,1,-1/180,.5)}),pf=l({},Y,{projection:to,transformation:pe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,r){var a=r.lng-e.lng,h=r.lat-e.lat;return Math.sqrt(a*a+h*h)},infinite:!0});Y.Earth=me,Y.EPSG3395=mf,Y.EPSG3857=je,Y.EPSG900913=Ye,Y.EPSG4326=Aa,Y.Simple=pf;var et=B.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var r=e.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});ge.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var r=f(e);return this._layers[r]?this:(this._layers[r]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var r=f(e);return this._layers[r]?(this._loaded&&e.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var r=0,a=e.length;r<a;r++)this.addLayer(e[r])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var r=f(e);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,r=-1/0,a=this._getZoomSpan();for(var h in this._zoomBoundLayers){var p=this._zoomBoundLayers[h].options;e=p.minZoom===void 0?e:Math.min(e,p.minZoom),r=p.maxZoom===void 0?r:Math.max(r,p.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cn=et.extend({initialize:function(e,r){b(this,r),this._layers={};var a,h;if(e)for(a=0,h=e.length;a<h;a++)this.addLayer(e[a])},addLayer:function(e){var r=this.getLayerId(e);return this._layers[r]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var r=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(e){var r=typeof e=="number"?e:this.getLayerId(e);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var r=Array.prototype.slice.call(arguments,1),a,h;for(a in this._layers)h=this._layers[a],h[e]&&h[e].apply(h,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),gf=function(e,r){return new cn(e,r)},bt=cn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),cn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),cn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new de;for(var r in this._layers){var a=this._layers[r];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),vf=function(e,r){return new bt(e,r)},un=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){b(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,r){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(h,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(e,r){var a=this.options,h=a[r+"Size"];typeof h=="number"&&(h=[h,h]);var p=z(h),w=z(r==="shadow"&&a.shadowAnchor||a.iconAnchor||p&&p.divideBy(2,!0));e.className="leaflet-marker-"+r+" "+(a.className||""),w&&(e.style.marginLeft=-w.x+"px",e.style.marginTop=-w.y+"px"),p&&(e.style.width=p.x+"px",e.style.height=p.y+"px")},_createImg:function(e,r){return r=r||document.createElement("img"),r.src=e,r},_getIconUrl:function(e){return q.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function _f(e){return new un(e)}var Un=un.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Un.imagePath!="string"&&(Un.imagePath=this._detectIconPath()),(this.options.imagePath||Un.imagePath)+un.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var r=function(a,h,p){var w=h.exec(a);return w&&w[p]};return e=r(e,/^url\((['"])?(.+)\1\)$/,2),e&&r(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ye("div","leaflet-default-icon-path",document.body),r=In(e,"background-image")||In(e,"backgroundImage");if(document.body.removeChild(e),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),ja=ut.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new At(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),se(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var r=this._marker,a=r._map,h=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,w=Vt(r._icon),N=a.getPixelBounds(),E=a.getPixelOrigin(),O=fe(N.min._subtract(E).add(p),N.max._subtract(E).subtract(p));if(!O.contains(w)){var R=z((Math.max(O.max.x,w.x)-O.max.x)/(N.max.x-O.max.x)-(Math.min(O.min.x,w.x)-O.min.x)/(N.min.x-O.min.x),(Math.max(O.max.y,w.y)-O.max.y)/(N.max.y-O.max.y)-(Math.min(O.min.y,w.y)-O.min.y)/(N.min.y-O.min.y)).multiplyBy(h);a.panBy(R,{animate:!1}),this._draggable._newPos._add(R),this._draggable._startPos._add(R),Ne(r._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=$(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,e)))},_onDrag:function(e){var r=this._marker,a=r._shadow,h=Vt(r._icon),p=r._map.layerPointToLatLng(h);a&&Ne(a,h),r._latlng=p,e.latlng=p,e.oldLatLng=this._oldLatLng,r.fire("move",e).fire("drag",e)},_onDragEnd:function(e){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Li=et.extend({options:{icon:new Un,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,r){b(this,r),this._latlng=ne(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var r=this._latlng;return this._latlng=ne(e),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),h=!1;a!==this._icon&&(this._icon&&this._removeIcon(),h=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),se(a,r),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(a,"focus",this._panOnFocus,this);var p=e.icon.createShadow(this._shadow),w=!1;p!==this._shadow&&(this._removeShadow(),w=!0),p&&(se(p,r),p.alt=""),this._shadow=p,e.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&w&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ne(this._icon,e),this._shadow&&Ne(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ja)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ja(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&qe(this._icon,e),this._shadow&&qe(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var r=this.options.icon.options,a=r.iconSize?z(r.iconSize):z(0,0),h=r.iconAnchor?z(r.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:a.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yf(e,r){return new Li(e,r)}var jt=et.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return b(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Mi=jt.extend({options:{fill:!0,radius:10},initialize:function(e,r){b(this,r),this._latlng=ne(e),this._radius=this.options.radius},setLatLng:function(e){var r=this._latlng;return this._latlng=ne(e),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var r=e&&e.radius||this._radius;return jt.prototype.setStyle.call(this,e),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,r=this._radiusY||e,a=this._clickTolerance(),h=[e+a,r+a];this._pxBounds=new X(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xf(e,r){return new Mi(e,r)}var io=Mi.extend({initialize:function(e,r,a){if(typeof r=="number"&&(r=l({},a,{radius:r})),b(this,r),this._latlng=ne(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:jt.prototype.setStyle,_project:function(){var e=this._latlng.lng,r=this._latlng.lat,a=this._map,h=a.options.crs;if(h.distance===me.distance){var p=Math.PI/180,w=this._mRadius/me.R/p,N=a.project([r+w,e]),E=a.project([r-w,e]),O=N.add(E).divideBy(2),R=a.unproject(O).lat,W=Math.acos((Math.cos(w*p)-Math.sin(r*p)*Math.sin(R*p))/(Math.cos(r*p)*Math.cos(R*p)))/p;(isNaN(W)||W===0)&&(W=w/Math.cos(Math.PI/180*r)),this._point=O.subtract(a.getPixelOrigin()),this._radius=isNaN(W)?0:O.x-a.project([R,e-W]).x,this._radiusY=O.y-N.y}else{var Q=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Q).x}this._updateBounds()}});function wf(e,r,a){return new io(e,r,a)}var Ct=jt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,r){b(this,r),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var r=1/0,a=null,h=Hn,p,w,N=0,E=this._parts.length;N<E;N++)for(var O=this._parts[N],R=1,W=O.length;R<W;R++){p=O[R-1],w=O[R];var Q=h(e,p,w,!0);Q<r&&(r=Q,a=h(e,p,w))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Da(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,r){return r=r||this._defaultShape(),e=ne(e),r.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new de,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ke(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var r=[],a=Ke(e),h=0,p=e.length;h<p;h++)a?(r[h]=ne(e[h]),this._bounds.extend(r[h])):r[h]=this._convertLatLngs(e[h]);return r},_project:function(){var e=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),r=new k(e,e);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(e,r,a){var h=e[0]instanceof te,p=e.length,w,N;if(h){for(N=[],w=0;w<p;w++)N[w]=this._map.latLngToLayerPoint(e[w]),a.extend(N[w]);r.push(N)}else for(w=0;w<p;w++)this._projectLatlngs(e[w],r,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,h,p,w,N,E,O;for(a=0,p=0,w=this._rings.length;a<w;a++)for(O=this._rings[a],h=0,N=O.length;h<N-1;h++)E=ka(O[h],O[h+1],e,h,!0),E&&(r[p]=r[p]||[],r[p].push(E[0]),(E[1]!==O[h+1]||h===N-2)&&(r[p].push(E[1]),p++))}},_simplifyPoints:function(){for(var e=this._parts,r=this.options.smoothFactor,a=0,h=e.length;a<h;a++)e[a]=Na(e[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,r){var a,h,p,w,N,E,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,w=this._parts.length;a<w;a++)for(E=this._parts[a],h=0,N=E.length,p=N-1;h<N;p=h++)if(!(!r&&h===0)&&Ta(e,E[p],E[h])<=O)return!0;return!1}});function bf(e,r){return new Ct(e,r)}Ct._flat=Oa;var dn=Ct.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ma(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var r=Ct.prototype._convertLatLngs.call(this,e),a=r.length;return a>=2&&r[0]instanceof te&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(e){Ct.prototype._setLatLngs.call(this,e),Ke(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ke(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,r=this.options.weight,a=new k(r,r);if(e=new X(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,p=this._rings.length,w;h<p;h++)w=La(this._rings[h],e,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var r=!1,a,h,p,w,N,E,O,R;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(w=0,O=this._parts.length;w<O;w++)for(a=this._parts[w],N=0,R=a.length,E=R-1;N<R;E=N++)h=a[N],p=a[E],h.y>e.y!=p.y>e.y&&e.x<(p.x-h.x)*(e.y-h.y)/(p.y-h.y)+h.x&&(r=!r);return r||Ct.prototype._containsPoint.call(this,e,!0)}});function Cf(e,r){return new dn(e,r)}var Pt=bt.extend({initialize:function(e,r){b(this,r),this._layers={},e&&this.addData(e)},addData:function(e){var r=T(e)?e:e.features,a,h,p;if(r){for(a=0,h=r.length;a<h;a++)p=r[a],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var w=this.options;if(w.filter&&!w.filter(e))return this;var N=Ni(e,w);return N?(N.feature=ki(e),N.defaultOptions=N.options,this.resetStyle(N),w.onEachFeature&&w.onEachFeature(e,N),this.addLayer(N)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=l({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(r){this._setLayerStyle(r,e)},this)},_setLayerStyle:function(e,r){e.setStyle&&(typeof r=="function"&&(r=r(e.feature)),e.setStyle(r))}});function Ni(e,r){var a=e.type==="Feature"?e.geometry:e,h=a?a.coordinates:null,p=[],w=r&&r.pointToLayer,N=r&&r.coordsToLatLng||ro,E,O,R,W;if(!h&&!a)return null;switch(a.type){case"Point":return E=N(h),Ra(w,e,E,r);case"MultiPoint":for(R=0,W=h.length;R<W;R++)E=N(h[R]),p.push(Ra(w,e,E,r));return new bt(p);case"LineString":case"MultiLineString":return O=Ti(h,a.type==="LineString"?0:1,N),new Ct(O,r);case"Polygon":case"MultiPolygon":return O=Ti(h,a.type==="Polygon"?1:2,N),new dn(O,r);case"GeometryCollection":for(R=0,W=a.geometries.length;R<W;R++){var Q=Ni({geometry:a.geometries[R],type:"Feature",properties:e.properties},r);Q&&p.push(Q)}return new bt(p);case"FeatureCollection":for(R=0,W=a.features.length;R<W;R++){var ce=Ni(a.features[R],r);ce&&p.push(ce)}return new bt(p);default:throw new Error("Invalid GeoJSON object.")}}function Ra(e,r,a,h){return e?e(r,a):new Li(a,h&&h.markersInheritOptions&&h)}function ro(e){return new te(e[1],e[0],e[2])}function Ti(e,r,a){for(var h=[],p=0,w=e.length,N;p<w;p++)N=r?Ti(e[p],r-1,a):(a||ro)(e[p]),h.push(N);return h}function oo(e,r){return e=ne(e),e.alt!==void 0?[y(e.lng,r),y(e.lat,r),y(e.alt,r)]:[y(e.lng,r),y(e.lat,r)]}function Ei(e,r,a,h){for(var p=[],w=0,N=e.length;w<N;w++)p.push(r?Ei(e[w],Ke(e[w])?0:r-1,a,h):oo(e[w],h));return!r&&a&&p.length>0&&p.push(p[0].slice()),p}function hn(e,r){return e.feature?l({},e.feature,{geometry:r}):ki(r)}function ki(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var so={toGeoJSON:function(e){return hn(this,{type:"Point",coordinates:oo(this.getLatLng(),e)})}};Li.include(so),io.include(so),Mi.include(so),Ct.include({toGeoJSON:function(e){var r=!Ke(this._latlngs),a=Ei(this._latlngs,r?1:0,!1,e);return hn(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),dn.include({toGeoJSON:function(e){var r=!Ke(this._latlngs),a=r&&!Ke(this._latlngs[0]),h=Ei(this._latlngs,a?2:r?1:0,!0,e);return r||(h=[h]),hn(this,{type:(a?"Multi":"")+"Polygon",coordinates:h})}}),cn.include({toMultiPoint:function(e){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(e).geometry.coordinates)}),hn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(e){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(e);var a=r==="GeometryCollection",h=[];return this.eachLayer(function(p){if(p.toGeoJSON){var w=p.toGeoJSON(e);if(a)h.push(w.geometry);else{var N=ki(w);N.type==="FeatureCollection"?h.push.apply(h,N.features):h.push(N)}}}),a?hn(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Ia(e,r){return new Pt(e,r)}var Pf=Ia,Oi=et.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,r,a){this._url=e,this._bounds=le(r),b(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&an(this._image),this},bringToBack:function(){return this._map&&ln(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=le(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",r=this._image=e?this._url:ye("img");if(se(r,"leaflet-image-layer"),this._zoomAnimated&&se(r,"leaflet-zoom-animated"),this.options.className&&se(r,this.options.className),r.onselectstart=v,r.onmousemove=v,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(e){var r=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Gt(this._image,a,r)},_reset:function(){var e=this._image,r=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Ne(e,r.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Sf=function(e,r,a){return new Oi(e,r,a)},Ba=Oi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",r=this._image=e?this._url:ye("video");if(se(r,"leaflet-image-layer"),this._zoomAnimated&&se(r,"leaflet-zoom-animated"),this.options.className&&se(r,this.options.className),r.onselectstart=v,r.onmousemove=v,r.onloadeddata=c(this.fire,this,"load"),e){for(var a=r.getElementsByTagName("source"),h=[],p=0;p<a.length;p++)h.push(a[p].src);this._url=a.length>0?h:[r.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var N=ye("source");N.src=this._url[w],r.appendChild(N)}}});function Lf(e,r,a){return new Ba(e,r,a)}var Fa=Oi.extend({_initImage:function(){var e=this._image=this._url;se(e,"leaflet-image-layer"),this._zoomAnimated&&se(e,"leaflet-zoom-animated"),this.options.className&&se(e,this.options.className),e.onselectstart=v,e.onmousemove=v}});function Mf(e,r,a){return new Fa(e,r,a)}var dt=et.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,r){e&&(e instanceof te||T(e))?(this._latlng=ne(e),b(this,r)):(b(this,e),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&qe(this._container,1),this.bringToFront(),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(qe(this._container,0),this._removeTimeout=setTimeout(c(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=ne(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&an(this._container),this},bringToBack:function(){return this._map&&ln(this._container),this},_prepareOpen:function(e){var r=this._source;if(!r._map)return!1;if(r instanceof bt){r=null;var a=this._source._layers;for(var h in a)if(a[h]._map){r=a[h];break}if(!r)return!1;this._source=r}if(!e)if(r.getCenter)e=r.getCenter();else if(r.getLatLng)e=r.getLatLng();else if(r.getBounds)e=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")e.innerHTML=r;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),r=z(this.options.offset),a=this._getAnchor();this._zoomAnimated?Ne(this._container,e.add(a)):r=r.add(e).add(a);var h=this._containerBottom=-r.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=h+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});ge.include({_initOverlay:function(e,r,a,h){var p=r;return p instanceof e||(p=new e(h).setContent(r)),a&&p.setLatLng(a),p}}),et.include({_initOverlay:function(e,r,a,h){var p=a;return p instanceof e?(b(p,h),p._source=this):(p=r&&!h?r:new e(h,this),p.setContent(a)),p}});var Di=dt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,dt.prototype.openOn.call(this,e)},onAdd:function(e){dt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jt||this._source.on("preclick",Yt))},onRemove:function(e){dt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jt||this._source.off("preclick",Yt))},getEvents:function(){var e=dt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",r=this._container=ye("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=ye("div",e+"-content-wrapper",r);if(this._contentNode=ye("div",e+"-content",a),Wn(r),qr(this._contentNode),re(r,"contextmenu",Yt),this._tipContainer=ye("div",e+"-tip-container",r),this._tip=ye("div",e+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=ye("a",e+"-close-button",r);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',re(h,"click",function(p){Re(p),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,r=e.style;r.width="",r.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var h=e.offsetHeight,p=this.options.maxHeight,w="leaflet-popup-scrolled";p&&h>p?(r.height=p+"px",se(e,w)):Me(e,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();Ne(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,r=parseInt(In(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,h=this._containerWidth,p=new k(this._containerLeft,-a-this._containerBottom);p._add(Vt(this._container));var w=e.layerPointToContainerPoint(p),N=z(this.options.autoPanPadding),E=z(this.options.autoPanPaddingTopLeft||N),O=z(this.options.autoPanPaddingBottomRight||N),R=e.getSize(),W=0,Q=0;w.x+h+O.x>R.x&&(W=w.x+h-R.x+O.x),w.x-W-E.x<0&&(W=w.x-E.x),w.y+a+O.y>R.y&&(Q=w.y+a-R.y+O.y),w.y-Q-E.y<0&&(Q=w.y-E.y),(W||Q)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([W,Q]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nf=function(e,r){return new Di(e,r)};ge.mergeOptions({closePopupOnClick:!0}),ge.include({openPopup:function(e,r,a){return this._initOverlay(Di,e,r,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),et.include({bindPopup:function(e,r){return this._popup=this._initOverlay(Di,this._popup,e,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof bt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){qt(e);var r=e.layer||e.target;if(this._popup._source===r&&!(r instanceof jt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=r,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Ai=dt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){dt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){dt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=dt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",r=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var r,a,h=this._map,p=this._container,w=h.latLngToContainerPoint(h.getCenter()),N=h.layerPointToContainerPoint(e),E=this.options.direction,O=p.offsetWidth,R=p.offsetHeight,W=z(this.options.offset),Q=this._getAnchor();E==="top"?(r=O/2,a=R):E==="bottom"?(r=O/2,a=0):E==="center"?(r=O/2,a=R/2):E==="right"?(r=0,a=R/2):E==="left"?(r=O,a=R/2):N.x<w.x?(E="right",r=0,a=R/2):(E="left",r=O+(W.x+Q.x)*2,a=R/2),e=e.subtract(z(r,a,!0)).add(W).add(Q),Me(p,"leaflet-tooltip-right"),Me(p,"leaflet-tooltip-left"),Me(p,"leaflet-tooltip-top"),Me(p,"leaflet-tooltip-bottom"),se(p,"leaflet-tooltip-"+E),Ne(p,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&qe(this._container,e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(r)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Tf=function(e,r){return new Ai(e,r)};ge.include({openTooltip:function(e,r,a){return this._initOverlay(Ai,e,r,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),et.include({bindTooltip:function(e,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ai,this._tooltip,e,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var r=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof bt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&(re(r,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),re(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var r=e.latlng,a,h;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),h=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(r)}});var za=un.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var r=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(xi(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var h=z(a.bgPos);r.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Ef(e){return new za(e)}un.Default=Un;var $n=et.extend({options:{tileSize:256,opacity:1,updateWhenIdle:q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){b(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Le(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(an(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ln(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof k?e:new k(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var r=this.getPane().children,a=-e(-1/0,1/0),h=0,p=r.length,w;h<p;h++)w=r[h].style.zIndex,r[h]!==this._container&&w&&(a=e(a,+w));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!q.ielt9){qe(this._container,this.options.opacity);var e=+new Date,r=!1,a=!1;for(var h in this._tiles){var p=this._tiles[h];if(!(!p.current||!p.loaded)){var w=Math.min(1,(e-p.loaded)/200);qe(p.el,w),w<1?r=!0:(p.active?a=!0:this._onOpaqueTile(p),p.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(K(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,r=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=r-Math.abs(e-a),this._onUpdateLevel(a)):(Le(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var h=this._levels[e],p=this._map;return h||(h=this._levels[e]={},h.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=r,h.origin=p.project(p.unproject(p.getPixelOrigin()),e).round(),h.zoom=e,this._setZoomTransform(h,p.getCenter(),p.getZoom()),v(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var e,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)r=this._tiles[e],r.retain=r.current;for(e in this._tiles)if(r=this._tiles[e],r.current&&!r.active){var h=r.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var r in this._tiles)this._tiles[r].coords.z===e&&this._removeTile(r)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Le(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,r,a,h){var p=Math.floor(e/2),w=Math.floor(r/2),N=a-1,E=new k(+p,+w);E.z=+N;var O=this._tileCoordsToKey(E),R=this._tiles[O];return R&&R.active?(R.retain=!0,!0):(R&&R.loaded&&(R.retain=!0),N>h?this._retainParent(p,w,N,h):!1)},_retainChildren:function(e,r,a,h){for(var p=2*e;p<2*e+2;p++)for(var w=2*r;w<2*r+2;w++){var N=new k(p,w);N.z=a+1;var E=this._tileCoordsToKey(N),O=this._tiles[E];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);a+1<h&&this._retainChildren(p,w,a+1,h)}},_resetView:function(e){var r=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var r=this.options;return r.minNativeZoom!==void 0&&e<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<e?r.maxNativeZoom:e},_setView:function(e,r,a,h){var p=Math.round(r);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var w=this.options.updateWhenZooming&&p!==this._tileZoom;(!h||w)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,r)},_setZoomTransforms:function(e,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,r)},_setZoomTransform:function(e,r,a){var h=this._map.getZoomScale(a,e.zoom),p=e.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(r,a)).round();q.any3d?Gt(e.el,p,h):Ne(e.el,p)},_resetGrid:function(){var e=this._map,r=e.options.crs,a=this._tileSize=this.getTileSize(),h=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,r.wrapLng[0]],h).x/a.x),Math.ceil(e.project([0,r.wrapLng[1]],h).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([r.wrapLat[0],0],h).y/a.x),Math.ceil(e.project([r.wrapLat[1],0],h).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),h=r.getZoomScale(a,this._tileZoom),p=r.project(e,this._tileZoom).floor(),w=r.getSize().divideBy(h*2);return new X(p.subtract(w),p.add(w))},_update:function(e){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(e===void 0&&(e=r.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(e),p=this._pxBoundsToTileRange(h),w=p.getCenter(),N=[],E=this.options.keepBuffer,O=new X(p.getBottomLeft().subtract([E,-E]),p.getTopRight().add([E,-E]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var R in this._tiles){var W=this._tiles[R].coords;(W.z!==this._tileZoom||!O.contains(new k(W.x,W.y)))&&(this._tiles[R].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var Q=p.min.y;Q<=p.max.y;Q++)for(var ce=p.min.x;ce<=p.max.x;ce++){var ze=new k(ce,Q);if(ze.z=this._tileZoom,!!this._isValidTile(ze)){var ke=this._tiles[this._tileCoordsToKey(ze)];ke?ke.current=!0:N.push(ze)}}if(N.sort(function(Ze,mn){return Ze.distanceTo(w)-mn.distanceTo(w)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xe=document.createDocumentFragment();for(ce=0;ce<N.length;ce++)this._addTile(N[ce],Xe);this._level.el.appendChild(Xe)}}}},_isValidTile:function(e){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!r.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(e);return le(this.options.bounds).overlaps(h)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var r=this._map,a=this.getTileSize(),h=e.scaleBy(a),p=h.add(a),w=r.unproject(h,e.z),N=r.unproject(p,e.z);return[w,N]},_tileCoordsToBounds:function(e){var r=this._tileCoordsToNwSe(e),a=new de(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var r=e.split(":"),a=new k(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(e){var r=this._tiles[e];r&&(Le(r.el),delete this._tiles[e],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){se(e,"leaflet-tile");var r=this.getTileSize();e.style.width=r.x+"px",e.style.height=r.y+"px",e.onselectstart=v,e.onmousemove=v,q.ielt9&&this.options.opacity<1&&qe(e,this.options.opacity)},_addTile:function(e,r){var a=this._getTilePos(e),h=this._tileCoordsToKey(e),p=this.createTile(this._wrapCoords(e),c(this._tileReady,this,e));this._initTile(p),this.createTile.length<2&&$(c(this._tileReady,this,e,null,p)),Ne(p,a),this._tiles[h]={el:p,coords:e,current:!0},r.appendChild(p),this.fire("tileloadstart",{tile:p,coords:e})},_tileReady:function(e,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:e});var h=this._tileCoordsToKey(e);a=this._tiles[h],a&&(a.loaded=+new Date,this._map._fadeAnimated?(qe(a.el,0),K(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(se(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),q.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var r=new k(this._wrapX?g(e.x,this._wrapX):e.x,this._wrapY?g(e.y,this._wrapY):e.y);return r.z=e.z,r},_pxBoundsToTileRange:function(e){var r=this.getTileSize();return new X(e.min.unscaleBy(r).floor(),e.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function kf(e){return new $n(e)}var fn=$n.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,r){this._url=e,r=b(this,r),r.detectRetina&&q.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,r){return this._url===e&&r===void 0&&(r=!0),this._url=e,r||this.redraw(),this},createTile:function(e,r){var a=document.createElement("img");return re(a,"load",c(this._tileOnLoad,this,r,a)),re(a,"error",c(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var r={r:q.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(r.y=a),r["-y"]=a}return S(this._url,l(r,this.options))},_tileOnLoad:function(e,r){q.ielt9?setTimeout(c(e,this,null,r),0):e(null,r)},_tileOnError:function(e,r,a){var h=this.options.errorTileUrl;h&&r.getAttribute("src")!==h&&(r.src=h),e(a,r)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,h=this.options.zoomOffset;return a&&(e=r-e),e+h},_getSubdomain:function(e){var r=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var e,r;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(r=this._tiles[e].el,r.onload=v,r.onerror=v,!r.complete)){r.src=D;var a=this._tiles[e].coords;Le(r),delete this._tiles[e],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(e){var r=this._tiles[e];if(r)return r.el.setAttribute("src",D),$n.prototype._removeTile.call(this,e)},_tileReady:function(e,r,a){if(!(!this._map||a&&a.getAttribute("src")===D))return $n.prototype._tileReady.call(this,e,r,a)}});function Wa(e,r){return new fn(e,r)}var Za=fn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,r){this._url=e;var a=l({},this.defaultWmsParams);for(var h in r)h in this.options||(a[h]=r[h]);r=b(this,r);var p=r.detectRetina&&q.retina?2:1,w=this.getTileSize();a.width=w.x*p,a.height=w.y*p,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,fn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var r=this._tileCoordsToNwSe(e),a=this._crs,h=fe(a.project(r[0]),a.project(r[1])),p=h.min,w=h.max,N=(this._wmsVersion>=1.3&&this._crs===Aa?[p.y,p.x,w.y,w.x]:[p.x,p.y,w.x,w.y]).join(","),E=fn.prototype.getTileUrl.call(this,e);return E+M(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(e,r){return l(this.wmsParams,e),r||this.redraw(),this}});function Of(e,r){return new Za(e,r)}fn.WMS=Za,Wa.wms=Of;var St=et.extend({options:{padding:.1},initialize:function(e){b(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,r){var a=this._map.getZoomScale(r,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,r),w=h.multiplyBy(-a).add(p).subtract(this._map._getNewPixelOrigin(e,r));q.any3d?Gt(this._container,w,a):Ne(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-e)).round();this._bounds=new X(a,a.add(r.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ha=St.extend({options:{tolerance:0},getEvents:function(){var e=St.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){St.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");re(e,"mousemove",this._onMouseMove,this),re(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,Le(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var r in this._layers)e=this._layers[r],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){St.prototype._update.call(this);var e=this._bounds,r=this._container,a=e.getSize(),h=q.retina?2:1;Ne(r,e.min),r.width=h*a.x,r.height=h*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",q.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){St.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var r=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var r=e._order,a=r.next,h=r.prev;a?a.prev=h:this._drawLast=h,h?h.next=a:this._drawFirst=a,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var r=e.options.dashArray.split(/[, ]+/),a=[],h,p;for(p=0;p<r.length;p++){if(h=Number(r[p]),isNaN(h))return;a.push(h)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var r=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(e._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(e._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var r=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)e=h.layer,(!r||e._pxBounds&&e._pxBounds.intersects(r))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,r){if(this._drawing){var a,h,p,w,N=e._parts,E=N.length,O=this._ctx;if(E){for(O.beginPath(),a=0;a<E;a++){for(h=0,p=N[a].length;h<p;h++)w=N[a][h],O[h?"lineTo":"moveTo"](w.x,w.y);r&&O.closePath()}this._fillStroke(O,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var r=e._point,a=this._ctx,h=Math.max(Math.round(e._radius),1),p=(Math.max(Math.round(e._radiusY),1)||h)/h;p!==1&&(a.save(),a.scale(1,p)),a.beginPath(),a.arc(r.x,r.y/p,h,0,Math.PI*2,!1),p!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,r){var a=r.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(r.options&&r.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var r=this._map.mouseEventToLayerPoint(e),a,h,p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(r)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(h=a);this._fireEvent(h?[h]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,r)}},_handleMouseOut:function(e){var r=this._hoveredLayer;r&&(Me(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,r){if(!this._mouseHoverThrottled){for(var a,h,p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(r)&&(h=a);h!==this._hoveredLayer&&(this._handleMouseOut(e),h&&(se(this._container,"leaflet-interactive"),this._fireEvent([h],e,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,r,a){this._map._fireDOMEvent(r,a||r.type,e)},_bringToFront:function(e){var r=e._order;if(r){var a=r.next,h=r.prev;if(a)a.prev=h;else return;h?h.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(e)}},_bringToBack:function(e){var r=e._order;if(r){var a=r.next,h=r.prev;if(h)h.next=a;else return;a?a.prev=h:h&&(this._drawLast=h),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(e)}}});function Ua(e){return q.canvas?new Ha(e):null}var Gn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Df={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(St.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var r=e._container=Gn("shape");se(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",e._path=Gn("path"),r.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var r=e._container;this._container.appendChild(r),e.options.interactive&&e.addInteractiveTarget(r)},_removePath:function(e){var r=e._container;Le(r),e.removeInteractiveTarget(r),delete this._layers[f(e)]},_updateStyle:function(e){var r=e._stroke,a=e._fill,h=e.options,p=e._container;p.stroked=!!h.stroke,p.filled=!!h.fill,h.stroke?(r||(r=e._stroke=Gn("stroke")),p.appendChild(r),r.weight=h.weight+"px",r.color=h.color,r.opacity=h.opacity,h.dashArray?r.dashStyle=T(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=h.lineCap.replace("butt","flat"),r.joinstyle=h.lineJoin):r&&(p.removeChild(r),e._stroke=null),h.fill?(a||(a=e._fill=Gn("fill")),p.appendChild(a),a.color=h.fillColor||h.color,a.opacity=h.fillOpacity):a&&(p.removeChild(a),e._fill=null)},_updateCircle:function(e){var r=e._point.round(),a=Math.round(e._radius),h=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+h+" 0,"+65535*360)},_setPath:function(e,r){e._path.v=r},_bringToFront:function(e){an(e._container)},_bringToBack:function(e){ln(e._container)}},ji=q.vml?Gn:Ot,Vn=St.extend({_initContainer:function(){this._container=ji("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ji("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){St.prototype._update.call(this);var e=this._bounds,r=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Ne(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(e){var r=e._path=ji("path");e.options.className&&se(r,e.options.className),e.options.interactive&&se(r,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Le(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var r=e._path,a=e.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(e,r){this._setPath(e,Dt(e._parts,r))},_updateCircle:function(e){var r=e._point,a=Math.max(Math.round(e._radius),1),h=Math.max(Math.round(e._radiusY),1)||a,p="a"+a+","+h+" 0 1,0 ",w=e._empty()?"M0 0":"M"+(r.x-a)+","+r.y+p+a*2+",0 "+p+-a*2+",0 ";this._setPath(e,w)},_setPath:function(e,r){e._path.setAttribute("d",r)},_bringToFront:function(e){an(e._path)},_bringToBack:function(e){ln(e._path)}});q.vml&&Vn.include(Df);function $a(e){return q.svg||q.vml?new Vn(e):null}ge.include({getRenderer:function(e){var r=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var r=this._paneRenderers[e];return r===void 0&&(r=this._createRenderer({pane:e}),this._paneRenderers[e]=r),r},_createRenderer:function(e){return this.options.preferCanvas&&Ua(e)||$a(e)}});var Ga=dn.extend({initialize:function(e,r){dn.prototype.initialize.call(this,this._boundsToLatLngs(e),r)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=le(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Af(e,r){return new Ga(e,r)}Vn.create=ji,Vn.pointsToPath=Dt,Pt.geometryToLayer=Ni,Pt.coordsToLatLng=ro,Pt.coordsToLatLngs=Ti,Pt.latLngToCoords=oo,Pt.latLngsToCoords=Ei,Pt.getFeature=hn,Pt.asFeature=ki,ge.mergeOptions({boxZoom:!0});var Va=ut.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bn(),Wr(),this._startPoint=this._map.mouseEventToContainerPoint(e),re(document,{contextmenu:qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var r=new X(this._point,this._startPoint),a=r.getSize();Ne(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Le(this._box),Me(this._container,"leaflet-crosshair")),Fn(),Zr(),Pe(document,{contextmenu:qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ge.addInitHook("addHandler","boxZoom",Va),ge.mergeOptions({doubleClickZoom:!0});var Ya=ut.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var r=this._map,a=r.getZoom(),h=r.options.zoomDelta,p=e.originalEvent.shiftKey?a-h:a+h;r.options.doubleClickZoom==="center"?r.setZoom(p):r.setZoomAround(e.containerPoint,p)}});ge.addInitHook("addHandler","doubleClickZoom",Ya),ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qa=ut.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new At(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Me(this._map._container,"leaflet-grab"),Me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=le(this._map.options.maxBounds);this._offsetLimit=fe(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,r){return e-(e-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;e.x<r.min.x&&(e.x=this._viscousLimit(e.x,r.min.x)),e.y<r.min.y&&(e.y=this._viscousLimit(e.y,r.min.y)),e.x>r.max.x&&(e.x=this._viscousLimit(e.x,r.max.x)),e.y>r.max.y&&(e.y=this._viscousLimit(e.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,r=Math.round(e/2),a=this._initialWorldOffset,h=this._draggable._newPos.x,p=(h-r+a)%e+r-a,w=(h+r+a)%e-r-a,N=Math.abs(p+a)<Math.abs(w+a)?p:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(e){var r=this._map,a=r.options,h=!a.inertia||e.noInertia||this._times.length<2;if(r.fire("dragend",e),h)r.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,N=a.easeLinearity,E=p.multiplyBy(N/w),O=E.distanceTo([0,0]),R=Math.min(a.inertiaMaxSpeed,O),W=E.multiplyBy(R/O),Q=R/(a.inertiaDeceleration*N),ce=W.multiplyBy(-Q/2).round();!ce.x&&!ce.y?r.fire("moveend"):(ce=r._limitOffset(ce,r.options.maxBounds),$(function(){r.panBy(ce,{duration:Q,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});ge.addInitHook("addHandler","dragging",qa),ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ka=ut.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),re(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,r=document.documentElement,a=e.scrollTop||r.scrollTop,h=e.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(h,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var r=this._panKeys={},a=this.keyCodes,h,p;for(h=0,p=a.left.length;h<p;h++)r[a.left[h]]=[-1*e,0];for(h=0,p=a.right.length;h<p;h++)r[a.right[h]]=[e,0];for(h=0,p=a.down.length;h<p;h++)r[a.down[h]]=[0,e];for(h=0,p=a.up.length;h<p;h++)r[a.up[h]]=[0,-1*e]},_setZoomDelta:function(e){var r=this._zoomKeys={},a=this.keyCodes,h,p;for(h=0,p=a.zoomIn.length;h<p;h++)r[a.zoomIn[h]]=e;for(h=0,p=a.zoomOut.length;h<p;h++)r[a.zoomOut[h]]=-e},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=e.keyCode,a=this._map,h;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(h=this._panKeys[r],e.shiftKey&&(h=z(h).multiplyBy(3)),a.options.maxBounds&&(h=a._limitOffset(z(h),a.options.maxBounds)),a.options.worldCopyJump){var p=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(h)));a.panTo(p)}else a.panBy(h)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;qt(e)}}});ge.addInitHook("addHandler","keyboard",Ka),ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xa=ut.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var r=wa(e),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var h=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),h),qt(e)},_performZoom:function(){var e=this._map,r=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,w=a?Math.ceil(p/a)*a:p,N=e._limitZoom(r+(this._delta>0?w:-w))-r;this._delta=0,this._startTime=null,N&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+N):e.setZoomAround(this._lastMousePos,r+N))}});ge.addInitHook("addHandler","scrollWheelZoom",Xa);var jf=600;ge.mergeOptions({tapHold:q.touchNative&&q.safari&&q.mobile,tapTolerance:15});var Ja=ut.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var r=e.touches[0];this._startPos=this._newPos=new k(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",Re),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),jf),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Pe(document,"touchend",Re),Pe(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(e){var r=e.touches[0];this._newPos=new k(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,r){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});ge.addInitHook("addHandler","tapHold",Ja),ge.mergeOptions({touchZoom:q.touch,bounceAtZoomLimits:!0});var Qa=ut.extend({addHooks:function(){se(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var r=this._map;if(!(!e.touches||e.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(e.touches[0]),h=r.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(h)._divideBy(2))),this._startDist=a.distanceTo(h),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),Re(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(e.touches[0]),h=r.mouseEventToContainerPoint(e.touches[1]),p=a.distanceTo(h)/this._startDist;if(this._zoom=r.getScaleZoom(p,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&p<1||this._zoom>r.getMaxZoom()&&p>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var w=a._add(h)._divideBy(2)._subtract(this._centerPoint);if(p===1&&w.x===0&&w.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var N=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(N,this,!0),Re(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ge.addInitHook("addHandler","touchZoom",Qa),ge.BoxZoom=Va,ge.DoubleClickZoom=Ya,ge.Drag=qa,ge.Keyboard=Ka,ge.ScrollWheelZoom=Xa,ge.TapHold=Ja,ge.TouchZoom=Qa,i.Bounds=X,i.Browser=q,i.CRS=Y,i.Canvas=Ha,i.Circle=io,i.CircleMarker=Mi,i.Class=G,i.Control=Qe,i.DivIcon=za,i.DivOverlay=dt,i.DomEvent=Jh,i.DomUtil=Kh,i.Draggable=At,i.Evented=B,i.FeatureGroup=bt,i.GeoJSON=Pt,i.GridLayer=$n,i.Handler=ut,i.Icon=un,i.ImageOverlay=Oi,i.LatLng=te,i.LatLngBounds=de,i.Layer=et,i.LayerGroup=cn,i.LineUtil=hf,i.Map=ge,i.Marker=Li,i.Mixin=sf,i.Path=jt,i.Point=k,i.PolyUtil=af,i.Polygon=dn,i.Polyline=Ct,i.Popup=Di,i.PosAnimation=ba,i.Projection=ff,i.Rectangle=Ga,i.Renderer=St,i.SVG=Vn,i.SVGOverlay=Fa,i.TileLayer=fn,i.Tooltip=Ai,i.Transformation=_e,i.Util=H,i.VideoOverlay=Ba,i.bind=c,i.bounds=fe,i.canvas=Ua,i.circle=wf,i.circleMarker=xf,i.control=Zn,i.divIcon=Ef,i.extend=l,i.featureGroup=vf,i.geoJSON=Ia,i.geoJson=Pf,i.gridLayer=kf,i.icon=_f,i.imageOverlay=Sf,i.latLng=ne,i.latLngBounds=le,i.layerGroup=gf,i.map=Qh,i.marker=yf,i.point=z,i.polygon=Cf,i.polyline=bf,i.popup=Nf,i.rectangle=Af,i.setOptions=b,i.stamp=f,i.svg=$a,i.svgOverlay=Mf,i.tileLayer=Wa,i.tooltip=Tf,i.transformation=pe,i.version=s,i.videoOverlay=Lf;var Rf=window.L;i.noConflict=function(){return window.L=Rf,this},window.L=i})})(Xo,Xo.exports);var v_=Xo.exports;const yo=tm(v_);var Nl={exports:{}};(function(t,n){(function(i,s){s(n)})(Ul,function(i){var s=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var c=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,c?this._withAnimation:this._noAnimation),this._markerCluster=c?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var c=o,u=this._zoom;if(o.__parent)for(;c.__parent._zoom>=u;)c=c.__parent;return this._currentShownBounds.contains(c.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,c):this._animationAddLayerNonAnimated(o,c)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,c){if(!L.Util.isArray(o))return this.addLayer(o);var u=this._featureGroup,f=this._nonPointGroup,m=this.options.chunkedLoading,g=this.options.chunkInterval,v=this.options.chunkProgress,y=o.length,x=0,C=!0,b;if(this._map){var M=new Date().getTime(),P=L.bind(function(){var T=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();x<y;x++){if(m&&x%200===0){var A=new Date().getTime()-T;if(A>g)break}if(b=o[x],b instanceof L.LayerGroup){C&&(o=o.slice(),C=!1),this._extractNonGroupLayers(b,o),y=o.length;continue}if(!b.getLatLng){f.addLayer(b),c||this.fire("layeradd",{layer:b});continue}if(!this.hasLayer(b)&&(this._addLayer(b,this._maxZoom),c||this.fire("layeradd",{layer:b}),b.__parent&&b.__parent.getChildCount()===2)){var D=b.__parent.getAllChildMarkers(),I=D[0]===b?D[1]:D[0];u.removeLayer(I)}}v&&v(x,y,new Date().getTime()-M),x===y?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(P,this.options.chunkDelay)},this);P()}else for(var S=this._needsClustering;x<y;x++){if(b=o[x],b instanceof L.LayerGroup){C&&(o=o.slice(),C=!1),this._extractNonGroupLayers(b,o),y=o.length;continue}if(!b.getLatLng){f.addLayer(b);continue}this.hasLayer(b)||S.push(b)}return this},removeLayers:function(o){var c,u,f=o.length,m=this._featureGroup,g=this._nonPointGroup,v=!0;if(!this._map){for(c=0;c<f;c++){if(u=o[c],u instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(u,o),f=o.length;continue}this._arraySplice(this._needsClustering,u),g.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var y=o.slice(),x=f;for(c=0;c<x;c++){if(u=y[c],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,y),x=y.length;continue}this._unspiderfyLayer(u)}}for(c=0;c<f;c++){if(u=o[c],u instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(u,o),f=o.length;continue}if(!u.__parent){g.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),m.hasLayer(u)&&(m.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var c=this._needsClustering.length-1;c>=0;c--)o.extend(this._needsClustering[c].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,c){var u=this._needsClustering.slice(),f=this._needsRemoving,m,g,v;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),g=u.length-1;g>=0;g--){for(m=!0,v=f.length-1;v>=0;v--)if(f[v].layer===u[g]){m=!1;break}m&&o.call(c,u[g])}this._nonPointGroup.eachLayer(o,c)},getLayers:function(){var o=[];return this.eachLayer(function(c){o.push(c)}),o},getLayer:function(o){var c=null;return o=parseInt(o,10),this.eachLayer(function(u){L.stamp(u)===o&&(c=u)}),c},hasLayer:function(o){if(!o)return!1;var c,u=this._needsClustering;for(c=u.length-1;c>=0;c--)if(u[c]===o)return!0;for(u=this._needsRemoving,c=u.length-1;c>=0;c--)if(u[c].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,c){var u=this._map;typeof c!="function"&&(c=function(){});var f=function(){(u.hasLayer(o)||u.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",f,this),this.off("animationend",f,this),u.hasLayer(o)?c():o.__parent._icon&&(this.once("spiderfied",c,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?c():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var c,u,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,c=0,u=this._needsRemoving.length;c<u;c++)f=this._needsRemoving[c],f.newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(c=0,u=this._needsRemoving.length;c<u;c++)f=this._needsRemoving[c],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var c=o;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(o,c){for(var u=o.length-1;u>=0;u--)if(o[u]===c)return o.splice(u,1),!0},_removeFromGridUnclustered:function(o,c){for(var u=this._map,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom());c>=m&&f[c].removeObject(o,u.project(o.getLatLng(),c));c--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var c=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),c&&o.target.openPopup()}},_moveChild:function(o,c,u){o._latlng=c,this.removeLayer(o),o._latlng=u,this.addLayer(o)},_childMarkerDragEnd:function(o){var c=o.target.__dragStart;delete o.target.__dragStart,c&&this._moveChild(o.target,c,o.target._latlng)},_removeLayer:function(o,c,u){var f=this._gridClusters,m=this._gridUnclustered,g=this._featureGroup,v=this._map,y=Math.floor(this._map.getMinZoom());c&&this._removeFromGridUnclustered(o,this._maxZoom);var x=o.__parent,C=x._markers,b;for(this._arraySplice(C,o);x&&(x._childCount--,x._boundsNeedUpdate=!0,!(x._zoom<y));)c&&x._childCount<=1?(b=x._markers[0]===o?x._markers[1]:x._markers[0],f[x._zoom].removeObject(x,v.project(x._cLatLng,x._zoom)),m[x._zoom].addObject(b,v.project(b.getLatLng(),x._zoom)),this._arraySplice(x.__parent._childClusters,x),x.__parent._markers.push(b),b.__parent=x.__parent,x._icon&&(g.removeLayer(x),u||g.addLayer(b))):x._iconNeedsUpdate=!0,x=x.__parent;delete o.__parent},_isOrIsParent:function(o,c){for(;c;){if(o===c)return!0;c=c.parentNode}return!1},fire:function(o,c,u){if(c&&c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,c,u)},listens:function(o,c){return L.FeatureGroup.prototype.listens.call(this,o,c)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,c)},_defaultIconCreateFunction:function(o){var c=o.getChildCount(),u=" marker-cluster-";return c<10?u+="small":c<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+c+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,c=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom;(c||f||m)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var c=o.layer,u=c;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===c._childCount&&this.options.spiderfyOnMaxZoom?c.spiderfy():this.options.zoomToBoundsOnClick&&c.zoomToBounds(),this.options.spiderfyOnEveryZoom&&c.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var c=this._map;this._inZoomAnimation||(this._shownPolygon&&c.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),c.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,m=this._map;(o||u||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),m.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),c=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,f=u;typeof u!="function"&&(f=function(){return u}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var m=o;m>=c;m--)this._gridClusters[m]=new L.DistanceGrid(f(m)),this._gridUnclustered[m]=new L.DistanceGrid(f(m));this._topClusterLevel=new this._markerCluster(this,c-1)},_addLayer:function(o,c){var u=this._gridClusters,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom()),g,v;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);c>=m;c--){g=this._map.project(o.getLatLng(),c);var y=u[c].getNearObject(g);if(y){y._addChild(o),o.__parent=y;return}if(y=f[c].getNearObject(g),y){var x=y.__parent;x&&this._removeLayer(y,!1);var C=new this._markerCluster(this,c,y,o);u[c].addObject(C,this._map.project(C._cLatLng,c)),y.__parent=C,o.__parent=C;var b=C;for(v=c-1;v>x._zoom;v--)b=new this._markerCluster(this,v,b),u[v].addObject(b,this._map.project(y.getLatLng(),v));x._addChild(b),this._removeFromGridUnclustered(y,c);return}f[c].addObject(o,g)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var c=this._maxLat;return c!==void 0&&(o.getNorth()>=c&&(o._northEast.lat=1/0),o.getSouth()<=-c&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,c){if(c===o)this._featureGroup.addLayer(o);else if(c._childCount===2){c._addToMap();var u=c.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else c._updateIcon()},_extractNonGroupLayers:function(o,c){var u=o.getLayers(),f=0,m;for(c=c||[];f<u.length;f++){if(m=u[f],m instanceof L.LayerGroup){this._extractNonGroupLayers(m,c);continue}c.push(m)}return c},_overrideMarkerIcon:function(o){var c=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return c}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,c){this._animationAddLayerNonAnimated(o,c)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,c){var u=this._getExpandedVisibleBounds(),f=this._featureGroup,m=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(u,o,m,function(v){var y=v._latlng,x=v._markers,C;for(u.contains(y)||(y=null),v._isSingleParent()&&o+1===c?(f.removeLayer(v),v._recursivelyAddChildrenToMap(null,c,u)):(v.clusterHide(),v._recursivelyAddChildrenToMap(y,c,u)),g=x.length-1;g>=0;g--)C=x[g],u.contains(C._latlng)||f.removeLayer(C)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,c),f.eachLayer(function(v){!(v instanceof L.MarkerCluster)&&v._icon&&v.clusterShow()}),this._topClusterLevel._recursively(u,o,c,function(v){v._recursivelyRestoreChildPositions(c)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,o,m,function(v){f.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,c){this._animationZoomOutSingle(this._topClusterLevel,o-1,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,c){var u=this,f=this._featureGroup;f.addLayer(o),c!==o&&(c._childCount>2?(c._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(c.getLatLng())),o.clusterHide(),this._enqueue(function(){f.removeLayer(o),o.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(c,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,c,u){var f=this._getExpandedVisibleBounds(),m=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(f,m,c+1,u);var g=this;this._forceLayout(),o._recursivelyBecomeVisible(f,u),this._enqueue(function(){if(o._childCount===1){var v=o._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else o._recursively(f,u,m,function(y){y._recursivelyRemoveChildrenFromMap(f,m,c+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var l=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,c,u,f){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=c,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),f&&this._addChild(f)},getAllChildMarkers:function(o,c){o=o||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(o,c);for(var f=this._markers.length-1;f>=0;f--)c&&this._markers[f].__dragStart||o.push(this._markers[f]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var c=this._childClusters.slice(),u=this._group._map,f=u.getBoundsZoom(this._bounds),m=this._zoom+1,g=u.getZoom(),v;c.length>0&&f>m;){m++;var y=[];for(v=0;v<c.length;v++)y=y.concat(c[v]._childClusters);c=y}f>m?this._group._map.setView(this._latlng,m):f<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,c){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(c||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(c||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,c=this._childClusters,u=0,f=0,m=this._childCount,g,v,y,x;if(m!==0){for(this._resetBounds(),g=0;g<o.length;g++)y=o[g]._latlng,this._bounds.extend(y),u+=y.lat,f+=y.lng;for(g=0;g<c.length;g++)v=c[g],v._boundsNeedUpdate&&v._recalculateBounds(),this._bounds.extend(v._bounds),y=v._wLatLng,x=v._childCount,u+=y.lat*x,f+=y.lng*x;this._latlng=this._wLatLng=new L.LatLng(u/m,f/m),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,c,u){this._recursively(o,this._group._map.getMinZoom(),u-1,function(f){var m=f._markers,g,v;for(g=m.length-1;g>=0;g--)v=m[g],v._icon&&(v._setPos(c),v.clusterHide())},function(f){var m=f._childClusters,g,v;for(g=m.length-1;g>=0;g--)v=m[g],v._icon&&(v._setPos(c),v.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,c,u,f){this._recursively(o,f,c,function(m){m._recursivelyAnimateChildrenIn(o,m._group._map.latLngToLayerPoint(m.getLatLng()).round(),u),m._isSingleParent()&&u-1===f?(m.clusterShow(),m._recursivelyRemoveChildrenFromMap(o,c,u)):m.clusterHide(),m._addToMap()})},_recursivelyBecomeVisible:function(o,c){this._recursively(o,this._group._map.getMinZoom(),c,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(o,c,u){this._recursively(u,this._group._map.getMinZoom()-1,c,function(f){if(c!==f._zoom)for(var m=f._markers.length-1;m>=0;m--){var g=f._markers[m];u.contains(g._latlng)&&(o&&(g._backupLatlng=g.getLatLng(),g.setLatLng(o),g.clusterHide&&g.clusterHide()),f._group._featureGroup.addLayer(g))}},function(f){f._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var c=this._markers.length-1;c>=0;c--){var u=this._markers[c];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(o-1===this._zoom)for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._restorePosition();else for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,c,u,f){var m,g;this._recursively(o,c-1,u-1,function(v){for(g=v._markers.length-1;g>=0;g--)m=v._markers[g],(!f||!f.contains(m._latlng))&&(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(v){for(g=v._childClusters.length-1;g>=0;g--)m=v._childClusters[g],(!f||!f.contains(m._latlng))&&(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(o,c,u,f,m){var g=this._childClusters,v=this._zoom,y,x;if(c<=v&&(f&&f(this),m&&v===u&&m(this)),v<c||v<u)for(y=g.length-1;y>=0;y--)x=g[y],x._boundsNeedUpdate&&x._recalculateBounds(),o.intersects(x._bounds)&&x._recursively(o,c,u,f,m)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,c){var u=this._getCoord(c.x),f=this._getCoord(c.y),m=this._grid,g=m[f]=m[f]||{},v=g[u]=g[u]||[],y=L.Util.stamp(o);this._objectPoint[y]=c,v.push(o)},updateObject:function(o,c){this.removeObject(o),this.addObject(o,c)},removeObject:function(o,c){var u=this._getCoord(c.x),f=this._getCoord(c.y),m=this._grid,g=m[f]=m[f]||{},v=g[u]=g[u]||[],y,x;for(delete this._objectPoint[L.Util.stamp(o)],y=0,x=v.length;y<x;y++)if(v[y]===o)return v.splice(y,1),x===1&&delete g[u],!0},eachObject:function(o,c){var u,f,m,g,v,y,x,C=this._grid;for(u in C){v=C[u];for(f in v)for(y=v[f],m=0,g=y.length;m<g;m++)x=o.call(c,y[m]),x&&(m--,g--)}},getNearObject:function(o){var c=this._getCoord(o.x),u=this._getCoord(o.y),f,m,g,v,y,x,C,b,M=this._objectPoint,P=this._sqCellSize,S=null;for(f=u-1;f<=u+1;f++)if(v=this._grid[f],v){for(m=c-1;m<=c+1;m++)if(y=v[m],y)for(g=0,x=y.length;g<x;g++)C=y[g],b=this._sqDist(M[L.Util.stamp(C)],o),(b<P||b<=P&&S===null)&&(P=b,S=C)}return S},_getCoord:function(o){var c=Math.floor(o/this._cellSize);return isFinite(c)?c:o},_sqDist:function(o,c){var u=c.x-o.x,f=c.y-o.y;return u*u+f*f}},function(){L.QuickHull={getDistant:function(o,c){var u=c[1].lat-c[0].lat,f=c[0].lng-c[1].lng;return f*(o.lat-c[0].lat)+u*(o.lng-c[0].lng)},findMostDistantPointFromBaseLine:function(o,c){var u=0,f=null,m=[],g,v,y;for(g=c.length-1;g>=0;g--){if(v=c[g],y=this.getDistant(v,o),y>0)m.push(v);else continue;y>u&&(u=y,f=v)}return{maxPoint:f,newPoints:m}},buildConvexHull:function(o,c){var u=[],f=this.findMostDistantPointFromBaseLine(o,c);return f.maxPoint?(u=u.concat(this.buildConvexHull([o[0],f.maxPoint],f.newPoints)),u=u.concat(this.buildConvexHull([f.maxPoint,o[1]],f.newPoints)),u):[o[0]]},getConvexHull:function(o){var c=!1,u=!1,f=!1,m=!1,g=null,v=null,y=null,x=null,C=null,b=null,M;for(M=o.length-1;M>=0;M--){var P=o[M];(c===!1||P.lat>c)&&(g=P,c=P.lat),(u===!1||P.lat<u)&&(v=P,u=P.lat),(f===!1||P.lng>f)&&(y=P,f=P.lng),(m===!1||P.lng<m)&&(x=P,m=P.lng)}u!==c?(b=v,C=g):(b=x,C=y);var S=[].concat(this.buildConvexHull([b,C],o),this.buildConvexHull([C,b],o));return S}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),c=[],u,f;for(f=o.length-1;f>=0;f--)u=o[f].getLatLng(),c.push(u);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),c=this._group,u=c._map,f=u.latLngToLayerPoint(this._latlng),m;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?m=this._group.options.spiderfyShapePositions(o.length,f):o.length>=this._circleSpiralSwitchover?m=this._generatePointsSpiral(o.length,f):(f.y+=10,m=this._generatePointsCircle(o.length,f)),this._animationSpiderfy(o,m)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,c){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),f=u/this._2PI,m=this._2PI/o,g=[],v,y;for(f=Math.max(f,35),g.length=o,v=0;v<o;v++)y=this._circleStartAngle+v*m,g[v]=new L.Point(c.x+f*Math.cos(y),c.y+f*Math.sin(y))._round();return g},_generatePointsSpiral:function(o,c){var u=this._group.options.spiderfyDistanceMultiplier,f=u*this._spiralLengthStart,m=u*this._spiralFootSeparation,g=u*this._spiralLengthFactor*this._2PI,v=0,y=[],x;for(y.length=o,x=o;x>=0;x--)x<o&&(y[x]=new L.Point(c.x+f*Math.cos(v),c.y+f*Math.sin(v))._round()),v+=m/f+x*5e-4,f+=g/v;return y},_noanimationUnspiderfy:function(){var o=this._group,c=o._map,u=o._featureGroup,f=this.getAllChildMarkers(null,!0),m,g;for(o._ignoreMove=!0,this.setOpacity(1),g=f.length-1;g>=0;g--)m=f[g],u.removeLayer(m),m._preSpiderfyLatlng&&(m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng),m.setZIndexOffset&&m.setZIndexOffset(0),m._spiderLeg&&(c.removeLayer(m._spiderLeg),delete m._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:f}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,c){var u=this._group,f=u._map,m=u._featureGroup,g=this._group.options.spiderLegPolylineOptions,v,y,x,C;for(u._ignoreMove=!0,v=0;v<o.length;v++)C=f.layerPointToLatLng(c[v]),y=o[v],x=new L.Polyline([this._latlng,C],g),f.addLayer(x),y._spiderLeg=x,y._preSpiderfyLatlng=y._latlng,y.setLatLng(C),y.setZIndexOffset&&y.setZIndexOffset(1e6),m.addLayer(y);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,c){var u=this,f=this._group,m=f._map,g=f._featureGroup,v=this._latlng,y=m.latLngToLayerPoint(v),x=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),b=C.opacity,M,P,S,T,A,D;for(b===void 0&&(b=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),x?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=b,f._ignoreMove=!0,M=0;M<o.length;M++)P=o[M],D=m.layerPointToLatLng(c[M]),S=new L.Polyline([v,D],C),m.addLayer(S),P._spiderLeg=S,x&&(T=S._path,A=T.getTotalLength()+.1,T.style.strokeDasharray=A,T.style.strokeDashoffset=A),P.setZIndexOffset&&P.setZIndexOffset(1e6),P.clusterHide&&P.clusterHide(),g.addLayer(P),P._setPos&&P._setPos(y);for(f._forceLayout(),f._animationStart(),M=o.length-1;M>=0;M--)D=m.layerPointToLatLng(c[M]),P=o[M],P._preSpiderfyLatlng=P._latlng,P.setLatLng(D),P.clusterShow&&P.clusterShow(),x&&(S=P._spiderLeg,T=S._path,T.style.strokeDashoffset=0,S.setStyle({opacity:b}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:u,markers:o})},200)},_animationUnspiderfy:function(o){var c=this,u=this._group,f=u._map,m=u._featureGroup,g=o?f._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):f.latLngToLayerPoint(this._latlng),v=this.getAllChildMarkers(null,!0),y=L.Path.SVG,x,C,b,M,P,S;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),C=v.length-1;C>=0;C--)x=v[C],x._preSpiderfyLatlng&&(x.closePopup(),x.setLatLng(x._preSpiderfyLatlng),delete x._preSpiderfyLatlng,S=!0,x._setPos&&(x._setPos(g),S=!1),x.clusterHide&&(x.clusterHide(),S=!1),S&&m.removeLayer(x),y&&(b=x._spiderLeg,M=b._path,P=M.getTotalLength()+.1,M.style.strokeDashoffset=P,b.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var T=0;for(C=v.length-1;C>=0;C--)x=v[C],x._spiderLeg&&T++;for(C=v.length-1;C>=0;C--)x=v[C],x._spiderLeg&&(x.clusterShow&&x.clusterShow(),x.setZIndexOffset&&x.setZIndexOffset(0),T>1&&m.removeLayer(x),f.removeLayer(x._spiderLeg),delete x._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:c,markers:v})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var c,u;for(c in o)for(u=o[c].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(o){var c,u;for(c in o)u=o[c],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(o,c){var u=this.options.icon;return L.setOptions(u,o),this.setIcon(u),c&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),i.MarkerClusterGroup=s,i.MarkerCluster=l,Object.defineProperty(i,"__esModule",{value:!0})})})(Nl,Nl.exports);function __({center:t,onMove:n}){const i=_.useRef(null),s=_.useRef(null);return _.useEffect(()=>(!i.current&&s.current&&(i.current=yo.map(s.current,{center:[t[1],t[0]],zoom:13,zoomAnimation:!0}),yo.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(i.current),i.current.on("movestart",()=>{n([i.current.getCenter().lng,i.current.getCenter().lat],!0)}),i.current.on("move",()=>{const l=i.current.getCenter();n([l.lng,l.lat],!0)}),i.current.on("moveend",()=>{const l=i.current.getCenter();n([l.lng,l.lat],!1)})),()=>{i.current&&(i.current.remove(),i.current=null)}),[]),_.useEffect(()=>{if(i.current){const l=[t[1],t[0]];i.current.getCenter().equals(yo.latLng(l))||i.current.setView(l,void 0,{animate:!0,duration:.5})}},[t]),d.jsxs("div",{className:"relative h-full w-full",children:[d.jsx("div",{ref:s,className:"h-full w-full"}),d.jsx("div",{className:"pointer-events-none absolute left-1/2 top-1/2 z-[1000] -translate-x-1/2 -translate-y-full",children:d.jsx("div",{className:"relative h-8 w-8 animate-bounce",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary drop-shadow-lg",children:[d.jsx("path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}),d.jsx("circle",{cx:"12",cy:"10",r:"3"})]})})}),d.jsx("style",{children:`
        .leaflet-container {
          background: hsl(var(--background));
        }
        @keyframes bounce {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-5px);
          }
        }
      `})]})}function y_({predictions:t,onSelect:n,isSearching:i,onClose:s}){if(t.length===0&&!i)return null;const l=o=>{n(o),s()};return d.jsx(To,{children:d.jsx(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute left-0 right-0 top-full z-[9999] mt-1",children:d.jsx(Oe.div,{className:"mx-4 overflow-hidden rounded-lg border bg-background/95 backdrop-blur-sm shadow-lg",layout:!0,children:i?d.jsx("div",{className:"flex items-center justify-center p-4",children:d.jsx(is,{size:24})}):d.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"max-h-[300px] overflow-y-auto p-1",children:t.map(o=>d.jsxs(Oe.button,{onClick:()=>l(o),className:J("w-full rounded-md p-3 text-left text-sm transition-colors","hover:bg-accent/80 hover:text-accent-foreground","focus:bg-accent/80 focus:text-accent-foreground focus:outline-none"),whileHover:{scale:1.01},whileTap:{scale:.99},children:[d.jsx("span",{className:"font-medium",children:o.place_name.split(",")[0]}),d.jsx("span",{className:"block truncate text-xs text-muted-foreground",children:o.place_name.split(",").slice(1).join(",")})]},o.id))})})})})}function x_(){const{isAddressDialogOpen:t,setIsAddressDialogOpen:n,handleAddressSelect:i,mapCenter:s,setMapCenter:l,selectedPlace:o,setSelectedPlace:c,isGettingLocation:u,setIsGettingLocation:f}=nn(),[m,g]=_.useState(""),[v,y]=_.useState([]),[x,C]=_.useState(!1),[b,M]=_.useState(!1),[P,S]=_.useState(s),[T,A]=_.useState(!1),D=Ml(m,300),I=Ml(P,1e3),j=_.useCallback(H=>{var oe,U,B,k,ae,z,X,fe;const G={streetAddress:H.place_name.split(",")[0],city:((U=(oe=H.context)==null?void 0:oe.find(de=>de.id.startsWith("place")))==null?void 0:U.text)||"",region:((k=(B=H.context)==null?void 0:B.find(de=>de.id.startsWith("region")))==null?void 0:k.text)||"",postalCode:((z=(ae=H.context)==null?void 0:ae.find(de=>de.id.startsWith("postcode")))==null?void 0:z.text)||"",country:((fe=(X=H.context)==null?void 0:X.find(de=>de.id.startsWith("country")))==null?void 0:fe.text)||"",coordinates:H.center};c(G),l(H.center),S(H.center),A(!1)},[c]);_.useEffect(()=>{(async()=>{if(!D){y([]);return}C(!0);try{const G=await g_(D);y(G)}catch(G){console.error("Error searching addresses:",G)}finally{C(!1)}})()},[D]),_.useEffect(()=>{(async()=>{if(I)try{const G=await Ll(I[0],I[1]);G&&j(G)}catch(G){console.error("Error reverse geocoding:",G)}})()},[I,j]);const F=async()=>{f(!0);try{const H=await new Promise((B,k)=>{navigator.geolocation.getCurrentPosition(B,k,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}),{longitude:G,latitude:oe}=H.coords,U=await Ll(G,oe);U&&j(U)}catch(H){console.error("Error getting user location:",H)}finally{f(!1)}},Z=_.useCallback((H,G)=>{S(H),M(G),G||(A(!0),l(H))},[l]),V=()=>{o&&(i(o),n(!1),g(""),y([]),c(null))};_.useEffect(()=>{t||(g(""),y([]),c(null))},[t]);const $=(H,G)=>{o&&c(oe=>oe&&{...oe,[H]:G})},K=_.useCallback(()=>{g(""),y([])},[]);return d.jsx(mr,{open:t,onOpenChange:n,children:d.jsxs(di,{className:"flex h-full max-w-full flex-col gap-0 border-none p-0",children:[d.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Select Address"}),d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>n(!1),children:d.jsx(si,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"flex flex-grow flex-col overflow-y-auto p-4",children:[d.jsxs("div",{className:"relative mb-4 flex items-center space-x-2",children:[d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(Um,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(Ie,{value:m,onChange:H=>g(H.target.value),placeholder:"Search for an address...",className:"pl-9"}),d.jsx(y_,{predictions:v,onSelect:j,isSearching:x,onClose:K})]}),d.jsx(he,{variant:"outline",size:"icon",onClick:F,disabled:u,children:u?d.jsx(is,{size:16}):d.jsx(jm,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"grid flex-grow grid-cols-1 gap-4 lg:grid-cols-2",children:[d.jsx(qo,{className:"h-full",children:d.jsx(Ko,{className:"h-full p-0",children:d.jsx(__,{center:P,onMove:Z})})}),d.jsx(qo,{className:"h-full",children:d.jsx(Ko,{className:"space-y-4 p-4",children:o?d.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Street Address"}),d.jsx(Ie,{value:o.streetAddress,onChange:H=>$("streetAddress",H.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"City"}),d.jsx(Ie,{value:o.city,onChange:H=>$("city",H.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Region"}),d.jsx(Ie,{value:o.region,onChange:H=>$("region",H.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Postal Code"}),d.jsx(Ie,{value:o.postalCode,onChange:H=>$("postalCode",H.target.value)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Country"}),d.jsx(Ie,{value:o.country,onChange:H=>$("country",H.target.value)})]})]}):d.jsx("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:d.jsx("p",{children:"Search for an address or select a location on the map"})})})})]})]}),d.jsxs("div",{className:"flex justify-between border-t p-4",children:[d.jsx(he,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),d.jsxs(he,{onClick:V,disabled:!o,children:[d.jsx(Yl,{className:"mr-2 h-4 w-4"}),"Confirm Address"]})]})]})})}const Ms=ds,w_=hs,od=_.forwardRef(({className:t,...n},i)=>d.jsx(ai,{ref:i,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));od.displayName=ai.displayName;const Pr=_.forwardRef(({className:t,children:n,...i},s)=>d.jsxs(w_,{children:[d.jsx(od,{}),d.jsxs(li,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[n,d.jsxs(fs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(si,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pr.displayName=li.displayName;const Sr=({className:t,...n})=>d.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});Sr.displayName="DialogHeader";const Ns=({className:t,...n})=>d.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Ns.displayName="DialogFooter";const Lr=_.forwardRef(({className:t,...n},i)=>d.jsx(ci,{ref:i,className:J("text-lg font-semibold leading-none tracking-tight",t),...n}));Lr.displayName=ci.displayName;const sd=_.forwardRef(({className:t,...n},i)=>d.jsx(ui,{ref:i,className:J("text-sm text-muted-foreground",t),...n}));sd.displayName=ui.displayName;/*! Capacitor: https://capacitorjs.com/ - MIT License */const b_=t=>{const n=new Map;n.set("web",{name:"web"});const i=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:n},s=(o,c)=>{i.platforms.set(o,c)},l=o=>{i.platforms.has(o)&&(i.currentPlatform=i.platforms.get(o))};return i.addPlatform=s,i.setPlatform=l,i},C_=t=>t.CapacitorPlatforms=b_(t),ad=C_(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});ad.addPlatform;ad.setPlatform;var Mn;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Mn||(Mn={}));class xo extends Error{constructor(n,i,s){super(n),this.message=n,this.code=i,this.data=s}}const P_=t=>{var n,i;return t!=null&&t.androidBridge?"android":!((i=(n=t==null?void 0:t.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},S_=t=>{var n,i,s,l,o;const c=t.CapacitorCustomPlatform||null,u=t.Capacitor||{},f=u.Plugins=u.Plugins||{},m=t.CapacitorPlatforms,g=()=>c!==null?c.name:P_(t),v=((n=m==null?void 0:m.currentPlatform)===null||n===void 0?void 0:n.getPlatform)||g,y=()=>v()!=="web",x=((i=m==null?void 0:m.currentPlatform)===null||i===void 0?void 0:i.isNativePlatform)||y,C=j=>{const F=A.get(j);return!!(F!=null&&F.platforms.has(v())||P(j))},b=((s=m==null?void 0:m.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||C,M=j=>{var F;return(F=u.PluginHeaders)===null||F===void 0?void 0:F.find(Z=>Z.name===j)},P=((l=m==null?void 0:m.currentPlatform)===null||l===void 0?void 0:l.getPluginHeader)||M,S=j=>t.console.error(j),T=(j,F,Z)=>Promise.reject(`${Z} does not have an implementation of "${F}".`),A=new Map,D=(j,F={})=>{const Z=A.get(j);if(Z)return console.warn(`Capacitor plugin "${j}" already registered. Cannot register plugins twice.`),Z.proxy;const V=v(),$=P(j);let K;const H=async()=>(!K&&V in F?K=typeof F[V]=="function"?K=await F[V]():K=F[V]:c!==null&&!K&&"web"in F&&(K=typeof F.web=="function"?K=await F.web():K=F.web),K),G=(z,X)=>{var fe,de;if($){const le=$==null?void 0:$.methods.find(te=>X===te.name);if(le)return le.rtype==="promise"?te=>u.nativePromise(j,X.toString(),te):(te,ne)=>u.nativeCallback(j,X.toString(),te,ne);if(z)return(fe=z[X])===null||fe===void 0?void 0:fe.bind(z)}else{if(z)return(de=z[X])===null||de===void 0?void 0:de.bind(z);throw new xo(`"${j}" plugin is not implemented on ${V}`,Mn.Unimplemented)}},oe=z=>{let X;const fe=(...de)=>{const le=H().then(te=>{const ne=G(te,z);if(ne){const Y=ne(...de);return X=Y==null?void 0:Y.remove,Y}else throw new xo(`"${j}.${z}()" is not implemented on ${V}`,Mn.Unimplemented)});return z==="addListener"&&(le.remove=async()=>X()),le};return fe.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(fe,"name",{value:z,writable:!1,configurable:!1}),fe},U=oe("addListener"),B=oe("removeListener"),k=(z,X)=>{const fe=U({eventName:z},X),de=async()=>{const te=await fe;B({eventName:z,callbackId:te},X)},le=new Promise(te=>fe.then(()=>te({remove:de})));return le.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await de()},le},ae=new Proxy({},{get(z,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return $?k:U;case"removeListener":return B;default:return oe(X)}}});return f[j]=ae,A.set(j,{name:j,proxy:ae,platforms:new Set([...Object.keys(F),...$?[V]:[]])}),ae},I=((o=m==null?void 0:m.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||D;return u.convertFileSrc||(u.convertFileSrc=j=>j),u.getPlatform=v,u.handleError=S,u.isNativePlatform=x,u.isPluginAvailable=b,u.pluginMethodNoop=T,u.registerPlugin=I,u.Exception=xo,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},L_=t=>t.Capacitor=S_(t),or=L_(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ts=or.registerPlugin;or.Plugins;class ld{constructor(n){this.listeners={},this.windowListeners={},n&&(console.warn(`Capacitor WebPlugin "${n.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=n)}addListener(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i);const l=this.windowListeners[n];l&&!l.registered&&this.addWindowListener(l);const o=async()=>this.removeListener(n,i),c=Promise.resolve({remove:o});return Object.defineProperty(c,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),c}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,i){const s=this.listeners[n];s&&s.forEach(l=>l(i))}hasListeners(n){return!!this.listeners[n].length}registerWindowListener(n,i){this.windowListeners[i]={registered:!1,windowEventName:n,pluginEventName:i,handler:s=>{this.notifyListeners(i,s)}}}unimplemented(n="not implemented"){return new or.Exception(n,Mn.Unimplemented)}unavailable(n="not available"){return new or.Exception(n,Mn.Unavailable)}async removeListener(n,i){const s=this.listeners[n];if(!s)return;const l=s.indexOf(i);this.listeners[n].splice(l,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}}const Tl=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),El=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class M_ extends ld{async getCookies(){const n=document.cookie,i={};return n.split(";").forEach(s=>{if(s.length<=0)return;let[l,o]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=El(l).trim(),o=El(o).trim(),i[l]=o}),i}async setCookie(n){try{const i=Tl(n.key),s=Tl(n.value),l=`; expires=${(n.expires||"").replace("expires=","")}`,o=(n.path||"/").replace("path=",""),c=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${i}=${s||""}${l}; path=${o}; ${c};`}catch(i){return Promise.reject(i)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const i of n)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}Ts("CapacitorCookies",{web:()=>new M_});const N_=async t=>new Promise((n,i)=>{const s=new FileReader;s.onload=()=>{const l=s.result;n(l.indexOf(",")>=0?l.split(",")[1]:l)},s.onerror=l=>i(l),s.readAsDataURL(t)}),T_=(t={})=>{const n=Object.keys(t);return Object.keys(t).map(l=>l.toLocaleLowerCase()).reduce((l,o,c)=>(l[o]=t[n[c]],l),{})},E_=(t,n=!0)=>t?Object.entries(t).reduce((s,l)=>{const[o,c]=l;let u,f;return Array.isArray(c)?(f="",c.forEach(m=>{u=n?encodeURIComponent(m):m,f+=`${o}=${u}&`}),f.slice(0,-1)):(u=n?encodeURIComponent(c):c,f=`${o}=${u}`),`${s}&${f}`},"").substr(1):null,k_=(t,n={})=>{const i=Object.assign({method:t.method||"GET",headers:t.headers},n),l=T_(t.headers)["content-type"]||"";if(typeof t.data=="string")i.body=t.data;else if(l.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,u]of Object.entries(t.data||{}))o.set(c,u);i.body=o.toString()}else if(l.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((u,f)=>{o.append(f,u)});else for(const u of Object.keys(t.data))o.append(u,t.data[u]);i.body=o;const c=new Headers(i.headers);c.delete("content-type"),i.headers=c}else(l.includes("application/json")||typeof t.data=="object")&&(i.body=JSON.stringify(t.data));return i};class O_ extends ld{async request(n){const i=k_(n,n.webFetchExtra),s=E_(n.params,n.shouldEncodeUrlParams),l=s?`${n.url}?${s}`:n.url,o=await fetch(l,i),c=o.headers.get("content-type")||"";let{responseType:u="text"}=o.ok?n:{};c.includes("application/json")&&(u="json");let f,m;switch(u){case"arraybuffer":case"blob":m=await o.blob(),f=await N_(m);break;case"json":f=await o.json();break;case"document":case"text":default:f=await o.text()}const g={};return o.headers.forEach((v,y)=>{g[y]=v}),{data:f,headers:g,status:o.status,url:o.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}Ts("CapacitorHttp",{web:()=>new O_});const Ui=Ts("ContactPicker",{web:()=>nm(()=>import("./web-67576ee4.js"),["public/web-67576ee4.js","public/main-2c13c5c7.js","public/index-43df54da.css","public/user-2e4b218b.js","public/loading-spinner-9c8a626e.js"]).then(t=>new t.ContactPickerWeb)});var yn;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(yn||(yn={}));var Jn;(function(t){t.Rear="REAR",t.Front="FRONT"})(Jn||(Jn={}));var Jo;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(Jo||(Jo={}));class D_ extends im{async getPhoto(n){return new Promise(async(i,s)=>{if(n.webUseInput||n.source===yn.Photos)this.fileInputExperience(n,i,s);else if(n.source===yn.Prompt){let l=document.querySelector("pwa-action-sheet");l||(l=document.createElement("pwa-action-sheet"),document.body.appendChild(l)),l.header=n.promptLabelHeader||"Photo",l.cancelable=!1,l.options=[{title:n.promptLabelPhoto||"From Photos"},{title:n.promptLabelPicture||"Take Picture"}],l.addEventListener("onSelection",async o=>{o.detail===0?this.fileInputExperience(n,i,s):this.cameraExperience(n,i,s)})}else this.cameraExperience(n,i,s)})}async pickImages(n){return new Promise(async(i,s)=>{this.multipleFileInputExperience(i,s)})}async cameraExperience(n,i,s){if(customElements.get("pwa-camera-modal")){const l=document.createElement("pwa-camera-modal");l.facingMode=n.direction===Jn.Front?"user":"environment",document.body.appendChild(l);try{await l.componentOnReady(),l.addEventListener("onPhoto",async o=>{const c=o.detail;c===null?s(new lo("User cancelled photos app")):c instanceof Error?s(c):i(await this._getCameraPhoto(c,n)),l.dismiss(),document.body.removeChild(l)}),l.present()}catch{this.fileInputExperience(n,i,s)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(n,i,s)}fileInputExperience(n,i,s){let l=document.querySelector("#_capacitor-camera-input");const o=()=>{var c;(c=l.parentNode)===null||c===void 0||c.removeChild(l)};l||(l=document.createElement("input"),l.id="_capacitor-camera-input",l.type="file",l.hidden=!0,document.body.appendChild(l),l.addEventListener("change",c=>{const u=l.files[0];let f="jpeg";if(u.type==="image/png"?f="png":u.type==="image/gif"&&(f="gif"),n.resultType==="dataUrl"||n.resultType==="base64"){const m=new FileReader;m.addEventListener("load",()=>{if(n.resultType==="dataUrl")i({dataUrl:m.result,format:f});else if(n.resultType==="base64"){const g=m.result.split(",")[1];i({base64String:g,format:f})}o()}),m.readAsDataURL(u)}else i({webPath:URL.createObjectURL(u),format:f}),o()}),l.addEventListener("cancel",c=>{s(new lo("User cancelled photos app")),o()})),l.accept="image/*",l.capture=!0,n.source===yn.Photos||n.source===yn.Prompt?l.removeAttribute("capture"):n.direction===Jn.Front?l.capture="user":n.direction===Jn.Rear&&(l.capture="environment"),l.click()}multipleFileInputExperience(n,i){let s=document.querySelector("#_capacitor-camera-input-multiple");const l=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input-multiple",s.type="file",s.hidden=!0,s.multiple=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const c=[];for(let u=0;u<s.files.length;u++){const f=s.files[u];let m="jpeg";f.type==="image/png"?m="png":f.type==="image/gif"&&(m="gif"),c.push({webPath:URL.createObjectURL(f),format:m})}n({photos:c}),l()}),s.addEventListener("cancel",o=>{i(new lo("User cancelled photos app")),l()})),s.accept="image/*",s.click()}_getCameraPhoto(n,i){return new Promise((s,l)=>{const o=new FileReader,c=n.type.split("/")[1];i.resultType==="uri"?s({webPath:URL.createObjectURL(n),format:c,saved:!1}):(o.readAsDataURL(n),o.onloadend=()=>{const u=o.result;i.resultType==="dataUrl"?s({dataUrl:u,format:c,saved:!1}):s({base64String:u.split(",")[1],format:c,saved:!1})},o.onerror=u=>{l(u)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const A_=rm("Camera",{web:()=>new D_});function j_(){const{currentJobSite:t,isContactDialogOpen:n,setIsContactDialogOpen:i,extractContactFromImage:s,isContactLoading:l,updateContactInformation:o}=nn(),[c,u]=He.useState({name:"",phone:"",email:"",title:""}),[f,m]=He.useState(null),g=He.useRef(null);He.useEffect(()=>{t&&u({name:t.contact.name,phone:t.contact.phone,email:t.contact.email||"",title:t.contact.title||""})},[t]),He.useEffect(()=>()=>{g.current&&g.current.abort()},[]);const v=()=>{if(!t)return;const P=[];if(c.name.trim()||P.push("name"),c.phone.trim()||P.push("phone"),c.email&&!c.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)&&P.push("valid email"),P.length>0){Rt.error(`Please provide ${P.join(", ")}`);return}o({name:c.name.trim(),phone:c.phone.trim(),email:c.email.trim()||void 0,title:c.title.trim()||void 0})&&(Rt.success("Contact information saved"),i(!1))},y=async()=>{var P,S,T,A;if(!l)try{if(!(Ui!=null&&Ui.open)){Rt.error("Contact picker is not available on this platform");return}const D=await Ui.open();if(D){const I={name:D.givenName&&D.familyName?`${D.givenName} ${D.familyName}`:D.displayName||"",phone:((S=(P=D.phoneNumbers)==null?void 0:P[0])==null?void 0:S.phoneNumber)||"",email:((A=(T=D.emailAddresses)==null?void 0:T[0])==null?void 0:A.emailAddress)||"",title:""};u(I)}}catch(D){Rt.error("Failed to access contacts. Please check permissions."),console.error("Contact picker error:",D)}},x=()=>{g.current&&(g.current.abort(),g.current=null),m(null),Rt.info("Cancelled contact extraction")},C=async()=>{if(!l)try{const P=await A_.getPhoto({quality:90,allowEditing:!0,resultType:Jo.Uri});if(P.webPath){m(P.webPath);try{g.current=new AbortController;const T=await(await fetch(P.webPath)).blob(),A=new File([T],"business-card.jpg",{type:`image/${P.format}`}),D=await s(A);if(g.current.signal.aborted)return;u(I=>({name:D.name||I.name,phone:D.phone||I.phone,email:D.email||I.email,title:D.title||I.title})),Rt.success("Successfully extracted contact information")}catch(S){if(S.name==="AbortError")return;Rt.error("Failed to extract contact information. Please enter manually."),console.error("Extraction error:",S)}finally{g.current=null}}}catch(P){Rt.error("Failed to capture business card image."),console.error("Camera error:",P)}},b=P=>S=>{u(T=>({...T,[P]:S.target.value}))},M=c.name&&c.phone;return d.jsx(Ms,{open:n,onOpenChange:i,children:d.jsxs(Pr,{className:"w-full h-full",children:[d.jsxs(Sr,{children:[d.jsx(Lr,{children:"Contact Information"}),d.jsx(sd,{children:"Add contact details for this job site"})]}),d.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsxs(he,{type:"button",variant:"outline",onClick:y,className:"w-full md:w-auto",disabled:l,children:[d.jsx(Dm,{className:"mr-2 h-4 w-4"}),"Pick from Contacts"]}),d.jsxs(he,{type:"button",variant:"outline",onClick:C,className:"w-full md:w-auto",disabled:l,children:[d.jsx(zm,{className:"mr-2 h-4 w-4"}),l?"Processing...":"Scan Business Card"]})]}),f&&d.jsxs("div",{className:"relative w-full h-40 mb-4",children:[d.jsx("img",{src:f,alt:"Business Card",className:"w-full h-full object-contain"}),d.jsx(he,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:x,children:l?"Cancel":"Remove"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"name",children:"Name"}),d.jsx(Ie,{id:"name",value:c.name,onChange:b("name"),placeholder:"Contact person name",required:!0,disabled:l,className:l?"animate-pulse":""})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"phone",children:"Phone"}),d.jsx(Ie,{id:"phone",value:c.phone,onChange:b("phone"),placeholder:"Contact phone number",required:!0,disabled:l,className:l?"animate-pulse":""})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"title",children:"Title (Optional)"}),d.jsx(Ie,{id:"title",value:c.title,onChange:b("title"),placeholder:"Contact person title",disabled:l,className:l?"animate-pulse":""})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"email",children:"Email (Optional)"}),d.jsx(Ie,{id:"email",type:"email",value:c.email,onChange:b("email"),placeholder:"Contact email address",disabled:l,className:l?"animate-pulse":""})]})]}),l&&d.jsx("div",{className:"flex justify-center items-center py-4",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}),d.jsxs(Ns,{className:"flex flex-row justify-between items-center px-4",children:[d.jsx(he,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:l,children:"Cancel"}),d.jsx(he,{type:"submit",onClick:v,disabled:!M||l,children:"Save Contact"})]})]})})}function R_(){var M,P,S;const{currentJobSite:t,setCurrentJobSite:n,isLoading:i,error:s,setIsAddressDialogOpen:l,setIsContactDialogOpen:o,setIsJobSiteDialogOpen:c,saveJobSiteAsDraft:u,resetJobSiteForm:f,isProfileRequiredDialogOpen:m,setIsProfileRequiredDialogOpen:g}=nn(),[v,y]=He.useState(!1);if(i)return d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-primary"}),d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading..."})]})});if(s)return d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx("div",{className:"text-center text-destructive",children:d.jsx("p",{children:s})})});if(!t)return d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx("div",{className:"text-center text-muted-foreground",children:d.jsx("p",{children:"No job site selected"})})});const x=()=>{u(),y(!1),c(!1)},C=()=>{f(),y(!1),c(!1)},b=(T,A,D)=>{n(D?{...t,[D]:{...t[D],[T]:A}}:{...t,[T]:A})};return d.jsxs("div",{className:"space-y-8 p-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"name",children:"Name"}),d.jsx(Ie,{id:"name",value:t.name,onChange:T=>b("name",T.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"address",children:"Address"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ie,{id:"address",value:`${t.address.streetAddress}, ${t.address.city}, ${t.address.region} ${t.address.postalCode}`,readOnly:!0,placeholder:"Click to select an address",className:"flex-grow"}),d.jsxs(he,{type:"button",onClick:()=>l(!0),variant:"outline",className:"w-full md:w-auto",children:[d.jsx(Yl,{className:"mr-2 h-4 w-4"}),"Select Address"]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Contact Information"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ie,{value:t.contact.name?`${t.contact.name} • ${t.contact.phone}${t.contact.email?` • ${t.contact.email}`:""}`:"",readOnly:!0,placeholder:"Click to add contact information",className:"flex-grow"}),d.jsxs(he,{type:"button",onClick:()=>o(!0),variant:"outline",className:"w-full md:w-auto",children:[d.jsx(Gl,{className:"mr-2 h-4 w-4"}),"Select Contact"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-medium",children:"Delivery Instructions"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"accessInstructions",children:"Access Instructions"}),d.jsx(Ln,{id:"accessInstructions",value:((M=t.deliveryInstructions)==null?void 0:M.accessInstructions)||"",onChange:T=>b("accessInstructions",T.target.value,"deliveryInstructions"),placeholder:"Enter any special access instructions..."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"deliveryHours",children:"Delivery Hours"}),d.jsx(Ie,{id:"deliveryHours",value:((P=t.deliveryInstructions)==null?void 0:P.deliveryHours)||"",onChange:T=>b("deliveryHours",T.target.value,"deliveryInstructions"),placeholder:"e.g., Mon-Fri 9AM-5PM"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"specialRequirements",children:"Special Requirements"}),d.jsx(Ln,{id:"specialRequirements",value:((S=t.deliveryInstructions)==null?void 0:S.specialRequirements)||"",onChange:T=>b("specialRequirements",T.target.value,"deliveryInstructions"),placeholder:"Enter any special requirements..."})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"isActive",children:"Status"}),d.jsxs(ed,{value:t.isActive?"active":"inactive",onValueChange:T=>b("isActive",T==="active"),children:[d.jsx(Ss,{children:d.jsx(td,{placeholder:"Select status"})}),d.jsxs(Ls,{children:[d.jsx(Mt,{value:"active",children:"Active"}),d.jsx(Mt,{value:"inactive",children:"Inactive"})]})]})]}),d.jsx(x_,{}),d.jsx(j_,{}),d.jsx(vl,{open:m,onOpenChange:g,children:d.jsxs(Ao,{children:[d.jsxs(jo,{children:[d.jsx(Io,{children:"Profile Required"}),d.jsx(Bo,{children:"Please complete your profile before creating a job site."})]}),d.jsx(Ro,{children:d.jsx(Fo,{onClick:()=>{g(!1),c(!1)},children:"OK"})})]})}),d.jsx(vl,{open:v,onOpenChange:y,children:d.jsxs(Ao,{children:[d.jsxs(jo,{children:[d.jsx(Io,{children:"Save as Draft?"}),d.jsx(Bo,{children:"Would you like to save your changes as a draft before closing?"})]}),d.jsxs(Ro,{children:[d.jsx($c,{onClick:C,children:"Discard"}),d.jsx(Fo,{onClick:x,children:"Save as Draft"})]})]})})]})}function I_(){const{isJobSiteDialogOpen:t,setIsJobSiteDialogOpen:n,currentJobSite:i,submitJobSite:s,resetJobSiteForm:l}=nn(),o=async()=>{try{await s()&&n(!1)}catch(f){console.error("Failed to submit job site:",f)}},c=()=>{l(),n(!1)},u="_id"in(i||{})?Nt.actions.edit:Nt.actions.add;return d.jsx(mr,{open:t,onOpenChange:f=>{f||c()},children:d.jsxs(di,{className:"flex h-full max-w-full flex-col gap-0 border-none p-0",children:[d.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:u}),d.jsx(he,{variant:"ghost",size:"icon",onClick:c,children:d.jsx(si,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"flex-grow overflow-y-auto",children:d.jsx(R_,{})}),d.jsx(pr,{className:"px-6 py-4",children:d.jsxs("div",{className:"flex w-full justify-between",children:[d.jsx(he,{variant:"outline",onClick:c,children:Nt.actions.close}),d.jsx(he,{onClick:o,children:"_id"in(i||{})?Nt.actions.edit:Nt.actions.add})]})})]})})}const Es=6048e5,B_=864e5,Db=43200,Ab=1440,kl=Symbol.for("constructDateFrom");function De(t,n){return typeof t=="function"?t(n):t&&typeof t=="object"&&kl in t?t[kl](n):t instanceof Date?new t.constructor(n):new Date(n)}function Ce(t,n){return De(n||t,t)}function We(t,n,i){const s=Ce(t,i==null?void 0:i.in);return isNaN(n)?De((i==null?void 0:i.in)||t,NaN):(n&&s.setDate(s.getDate()+n),s)}function rt(t,n,i){const s=Ce(t,i==null?void 0:i.in);if(isNaN(n))return De((i==null?void 0:i.in)||t,NaN);if(!n)return s;const l=s.getDate(),o=De((i==null?void 0:i.in)||t,s.getTime());o.setMonth(s.getMonth()+n+1,0);const c=o.getDate();return l>=c?o:(s.setFullYear(o.getFullYear(),o.getMonth(),l),s)}let F_={};function mi(){return F_}function gt(t,n){var u,f,m,g;const i=mi(),s=(n==null?void 0:n.weekStartsOn)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??i.weekStartsOn??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=Ce(t,n==null?void 0:n.in),o=l.getDay(),c=(o<s?7:0)+o-s;return l.setDate(l.getDate()-c),l.setHours(0,0,0,0),l}function tn(t,n){return gt(t,{...n,weekStartsOn:1})}function cd(t,n){const i=Ce(t,n==null?void 0:n.in),s=i.getFullYear(),l=De(i,0);l.setFullYear(s+1,0,4),l.setHours(0,0,0,0);const o=tn(l),c=De(i,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const u=tn(c);return i.getTime()>=o.getTime()?s+1:i.getTime()>=u.getTime()?s:s-1}function sr(t){const n=Ce(t),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),+t-+i}function An(t,...n){const i=De.bind(null,t||n.find(s=>typeof s=="object"));return n.map(i)}function Nn(t,n){const i=Ce(t,n==null?void 0:n.in);return i.setHours(0,0,0,0),i}function ft(t,n,i){const[s,l]=An(i==null?void 0:i.in,t,n),o=Nn(s),c=Nn(l),u=+o-sr(o),f=+c-sr(c);return Math.round((u-f)/B_)}function z_(t,n){const i=cd(t,n),s=De((n==null?void 0:n.in)||t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),tn(s)}function Qo(t,n,i){return We(t,n*7,i)}function W_(t,n,i){return rt(t,n*12,i)}function Z_(t,n){let i,s=n==null?void 0:n.in;return t.forEach(l=>{!s&&typeof l=="object"&&(s=De.bind(null,l));const o=Ce(l,s);(!i||i<o||isNaN(+o))&&(i=o)}),De(s,i||NaN)}function H_(t,n){let i,s=n==null?void 0:n.in;return t.forEach(l=>{!s&&typeof l=="object"&&(s=De.bind(null,l));const o=Ce(l,s);(!i||i>o||isNaN(+o))&&(i=o)}),De(s,i||NaN)}function Ue(t,n,i){const[s,l]=An(i==null?void 0:i.in,t,n);return+Nn(s)==+Nn(l)}function ks(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function U_(t){return!(!ks(t)&&typeof t!="number"||isNaN(+Ce(t)))}function ii(t,n,i){const[s,l]=An(i==null?void 0:i.in,t,n),o=s.getFullYear()-l.getFullYear(),c=s.getMonth()-l.getMonth();return o*12+c}function $_(t,n,i){const[s,l]=An(i==null?void 0:i.in,t,n),o=gt(s,i),c=gt(l,i),u=+o-sr(o),f=+c-sr(c);return Math.round((u-f)/Es)}function Os(t,n){const i=Ce(t,n==null?void 0:n.in),s=i.getMonth();return i.setFullYear(i.getFullYear(),s+1,0),i.setHours(23,59,59,999),i}function $e(t,n){const i=Ce(t,n==null?void 0:n.in);return i.setDate(1),i.setHours(0,0,0,0),i}function ud(t,n){const i=Ce(t,n==null?void 0:n.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}function Ds(t,n){var u,f,m,g;const i=mi(),s=(n==null?void 0:n.weekStartsOn)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??i.weekStartsOn??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=Ce(t,n==null?void 0:n.in),o=l.getDay(),c=(o<s?-7:0)+6-(o-s);return l.setDate(l.getDate()+c),l.setHours(23,59,59,999),l}function dd(t,n){return Ds(t,{...n,weekStartsOn:1})}const G_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V_=(t,n,i)=>{let s;const l=G_[t];return typeof l=="string"?s=l:n===1?s=l.one:s=l.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};function wo(t){return(n={})=>{const i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}const Y_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},K_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},X_={date:wo({formats:Y_,defaultWidth:"full"}),time:wo({formats:q_,defaultWidth:"full"}),dateTime:wo({formats:K_,defaultWidth:"full"})},J_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q_=(t,n,i,s)=>J_[t];function Yn(t){return(n,i)=>{const s=i!=null&&i.context?String(i.context):"standalone";let l;if(s==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=i!=null&&i.width?String(i.width):c;l=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=i!=null&&i.width?String(i.width):t.defaultWidth;l=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(n):n;return l[o]}}const ey={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ty={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ny={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ry={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sy=(t,n)=>{const i=Number(t),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},ay={ordinalNumber:sy,era:Yn({values:ey,defaultWidth:"wide"}),quarter:Yn({values:ty,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yn({values:ny,defaultWidth:"wide"}),day:Yn({values:iy,defaultWidth:"wide"}),dayPeriod:Yn({values:ry,defaultWidth:"wide",formattingValues:oy,defaultFormattingWidth:"wide"})};function qn(t){return(n,i={})=>{const s=i.width,l=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=n.match(l);if(!o)return null;const c=o[0],u=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?cy(u,v=>v.test(c)):ly(u,v=>v.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=i.valueCallback?i.valueCallback(m):m;const g=n.slice(c.length);return{value:m,rest:g}}}function ly(t,n){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&n(t[i]))return i}function cy(t,n){for(let i=0;i<t.length;i++)if(n(t[i]))return i}function uy(t){return(n,i={})=>{const s=n.match(t.matchPattern);if(!s)return null;const l=s[0],o=n.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=i.valueCallback?i.valueCallback(c):c;const u=n.slice(l.length);return{value:c,rest:u}}}const dy=/^(\d+)(th|st|nd|rd)?/i,hy=/\d+/i,fy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},my={any:[/^b/i,/^(a|c)/i]},py={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gy={any:[/1/i,/2/i,/3/i,/4/i]},vy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_y={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},by={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cy={ordinalNumber:uy({matchPattern:dy,parsePattern:hy,valueCallback:t=>parseInt(t,10)}),era:qn({matchPatterns:fy,defaultMatchWidth:"wide",parsePatterns:my,defaultParseWidth:"any"}),quarter:qn({matchPatterns:py,defaultMatchWidth:"wide",parsePatterns:gy,defaultParseWidth:"any",valueCallback:t=>t+1}),month:qn({matchPatterns:vy,defaultMatchWidth:"wide",parsePatterns:_y,defaultParseWidth:"any"}),day:qn({matchPatterns:yy,defaultMatchWidth:"wide",parsePatterns:xy,defaultParseWidth:"any"}),dayPeriod:qn({matchPatterns:wy,defaultMatchWidth:"any",parsePatterns:by,defaultParseWidth:"any"})},hd={code:"en-US",formatDistance:V_,formatLong:X_,formatRelative:Q_,localize:ay,match:Cy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Py(t,n){const i=Ce(t,n==null?void 0:n.in);return ft(i,ud(i))+1}function fd(t,n){const i=Ce(t,n==null?void 0:n.in),s=+tn(i)-+z_(i);return Math.round(s/Es)+1}function md(t,n){var g,v,y,x;const i=Ce(t,n==null?void 0:n.in),s=i.getFullYear(),l=mi(),o=(n==null?void 0:n.firstWeekContainsDate)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??l.firstWeekContainsDate??((x=(y=l.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,c=De((n==null?void 0:n.in)||t,0);c.setFullYear(s+1,0,o),c.setHours(0,0,0,0);const u=gt(c,n),f=De((n==null?void 0:n.in)||t,0);f.setFullYear(s,0,o),f.setHours(0,0,0,0);const m=gt(f,n);return+i>=+u?s+1:+i>=+m?s:s-1}function Sy(t,n){var u,f,m,g;const i=mi(),s=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,l=md(t,n),o=De((n==null?void 0:n.in)||t,0);return o.setFullYear(l,0,s),o.setHours(0,0,0,0),gt(o,n)}function pd(t,n){const i=Ce(t,n==null?void 0:n.in),s=+gt(i,n)-+Sy(i,n);return Math.round(s/Es)+1}function be(t,n){const i=t<0?"-":"",s=Math.abs(t).toString().padStart(n,"0");return i+s}const It={y(t,n){const i=t.getFullYear(),s=i>0?i:1-i;return be(n==="yy"?s%100:s,n.length)},M(t,n){const i=t.getMonth();return n==="M"?String(i+1):be(i+1,2)},d(t,n){return be(t.getDate(),n.length)},a(t,n){const i=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(t,n){return be(t.getHours()%12||12,n.length)},H(t,n){return be(t.getHours(),n.length)},m(t,n){return be(t.getMinutes(),n.length)},s(t,n){return be(t.getSeconds(),n.length)},S(t,n){const i=n.length,s=t.getMilliseconds(),l=Math.trunc(s*Math.pow(10,i-3));return be(l,n.length)}},_n={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ol={G:function(t,n,i){const s=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});case"GGGG":default:return i.era(s,{width:"wide"})}},y:function(t,n,i){if(n==="yo"){const s=t.getFullYear(),l=s>0?s:1-s;return i.ordinalNumber(l,{unit:"year"})}return It.y(t,n)},Y:function(t,n,i,s){const l=md(t,s),o=l>0?l:1-l;if(n==="YY"){const c=o%100;return be(c,2)}return n==="Yo"?i.ordinalNumber(o,{unit:"year"}):be(o,n.length)},R:function(t,n){const i=cd(t);return be(i,n.length)},u:function(t,n){const i=t.getFullYear();return be(i,n.length)},Q:function(t,n,i){const s=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return be(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,i){const s=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return be(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,i){const s=t.getMonth();switch(n){case"M":case"MM":return It.M(t,n);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,i){const s=t.getMonth();switch(n){case"L":return String(s+1);case"LL":return be(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,i,s){const l=pd(t,s);return n==="wo"?i.ordinalNumber(l,{unit:"week"}):be(l,n.length)},I:function(t,n,i){const s=fd(t);return n==="Io"?i.ordinalNumber(s,{unit:"week"}):be(s,n.length)},d:function(t,n,i){return n==="do"?i.ordinalNumber(t.getDate(),{unit:"date"}):It.d(t,n)},D:function(t,n,i){const s=Py(t);return n==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):be(s,n.length)},E:function(t,n,i){const s=t.getDay();switch(n){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});case"EEEE":default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,i,s){const l=t.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return be(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(l,{width:"short",context:"formatting"});case"eeee":default:return i.day(l,{width:"wide",context:"formatting"})}},c:function(t,n,i,s){const l=t.getDay(),o=(l-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return be(o,n.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(l,{width:"narrow",context:"standalone"});case"cccccc":return i.day(l,{width:"short",context:"standalone"});case"cccc":default:return i.day(l,{width:"wide",context:"standalone"})}},i:function(t,n,i){const s=t.getDay(),l=s===0?7:s;switch(n){case"i":return String(l);case"ii":return be(l,n.length);case"io":return i.ordinalNumber(l,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});case"iiii":default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,i){const l=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,n,i){const s=t.getHours();let l;switch(s===12?l=_n.noon:s===0?l=_n.midnight:l=s/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,n,i){const s=t.getHours();let l;switch(s>=17?l=_n.evening:s>=12?l=_n.afternoon:s>=4?l=_n.morning:l=_n.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,n,i){if(n==="ho"){let s=t.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return It.h(t,n)},H:function(t,n,i){return n==="Ho"?i.ordinalNumber(t.getHours(),{unit:"hour"}):It.H(t,n)},K:function(t,n,i){const s=t.getHours()%12;return n==="Ko"?i.ordinalNumber(s,{unit:"hour"}):be(s,n.length)},k:function(t,n,i){let s=t.getHours();return s===0&&(s=24),n==="ko"?i.ordinalNumber(s,{unit:"hour"}):be(s,n.length)},m:function(t,n,i){return n==="mo"?i.ordinalNumber(t.getMinutes(),{unit:"minute"}):It.m(t,n)},s:function(t,n,i){return n==="so"?i.ordinalNumber(t.getSeconds(),{unit:"second"}):It.s(t,n)},S:function(t,n){return It.S(t,n)},X:function(t,n,i){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return Al(s);case"XXXX":case"XX":return Xt(s);case"XXXXX":case"XXX":default:return Xt(s,":")}},x:function(t,n,i){const s=t.getTimezoneOffset();switch(n){case"x":return Al(s);case"xxxx":case"xx":return Xt(s);case"xxxxx":case"xxx":default:return Xt(s,":")}},O:function(t,n,i){const s=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Dl(s,":");case"OOOO":default:return"GMT"+Xt(s,":")}},z:function(t,n,i){const s=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Dl(s,":");case"zzzz":default:return"GMT"+Xt(s,":")}},t:function(t,n,i){const s=Math.trunc(+t/1e3);return be(s,n.length)},T:function(t,n,i){return be(+t,n.length)}};function Dl(t,n=""){const i=t>0?"-":"+",s=Math.abs(t),l=Math.trunc(s/60),o=s%60;return o===0?i+String(l):i+String(l)+n+be(o,2)}function Al(t,n){return t%60===0?(t>0?"-":"+")+be(Math.abs(t)/60,2):Xt(t,n)}function Xt(t,n=""){const i=t>0?"-":"+",s=Math.abs(t),l=be(Math.trunc(s/60),2),o=be(s%60,2);return i+l+n+o}const jl=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},gd=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Ly=(t,n)=>{const i=t.match(/(P+)(p+)?/)||[],s=i[1],l=i[2];if(!l)return jl(t,n);let o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",jl(s,n)).replace("{{time}}",gd(l,n))},My={p:gd,P:Ly},Ny=/^D+$/,Ty=/^Y+$/,Ey=["D","DD","YY","YYYY"];function ky(t){return Ny.test(t)}function Oy(t){return Ty.test(t)}function Dy(t,n,i){const s=Ay(t,n,i);if(console.warn(s),Ey.includes(t))throw new RangeError(s)}function Ay(t,n,i){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ry=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iy=/^'([^]*?)'?$/,By=/''/g,Fy=/[a-zA-Z]/;function vt(t,n,i){var g,v,y,x,C,b,M,P;const s=mi(),l=(i==null?void 0:i.locale)??s.locale??hd,o=(i==null?void 0:i.firstWeekContainsDate)??((v=(g=i==null?void 0:i.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(y=s.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,c=(i==null?void 0:i.weekStartsOn)??((b=(C=i==null?void 0:i.locale)==null?void 0:C.options)==null?void 0:b.weekStartsOn)??s.weekStartsOn??((P=(M=s.locale)==null?void 0:M.options)==null?void 0:P.weekStartsOn)??0,u=Ce(t,i==null?void 0:i.in);if(!U_(u))throw new RangeError("Invalid time value");let f=n.match(Ry).map(S=>{const T=S[0];if(T==="p"||T==="P"){const A=My[T];return A(S,l.formatLong)}return S}).join("").match(jy).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const T=S[0];if(T==="'")return{isToken:!1,value:zy(S)};if(Ol[T])return{isToken:!0,value:S};if(T.match(Fy))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:S}});l.localize.preprocessor&&(f=l.localize.preprocessor(u,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:l};return f.map(S=>{if(!S.isToken)return S.value;const T=S.value;(!(i!=null&&i.useAdditionalWeekYearTokens)&&Oy(T)||!(i!=null&&i.useAdditionalDayOfYearTokens)&&ky(T))&&Dy(T,n,String(t));const A=Ol[T[0]];return A(u,T,l.localize,m)}).join("")}function zy(t){const n=t.match(Iy);return n?n[1].replace(By,"'"):t}function Wy(t,n){const i=Ce(t,n==null?void 0:n.in),s=i.getFullYear(),l=i.getMonth(),o=De(i,0);return o.setFullYear(s,l+1,0),o.setHours(0,0,0,0),o.getDate()}function Zy(t){return Math.trunc(+Ce(t)/1e3)}function Hy(t,n){const i=Ce(t,n==null?void 0:n.in),s=i.getMonth();return i.setFullYear(i.getFullYear(),s+1,0),i.setHours(0,0,0,0),Ce(i,n==null?void 0:n.in)}function Uy(t,n){const i=Ce(t,n==null?void 0:n.in);return $_(Hy(i,n),$e(i,n),n)+1}function es(t,n){return+Ce(t)>+Ce(n)}function vd(t,n){return+Ce(t)<+Ce(n)}function As(t,n,i){const[s,l]=An(i==null?void 0:i.in,t,n);return s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()}function $y(t,n,i){const[s,l]=An(i==null?void 0:i.in,t,n);return s.getFullYear()===l.getFullYear()}function bo(t,n,i){return We(t,-n,i)}function Co(t,n,i){const s=Ce(t,i==null?void 0:i.in),l=s.getFullYear(),o=s.getDate(),c=De((i==null?void 0:i.in)||t,0);c.setFullYear(l,n,15),c.setHours(0,0,0,0);const u=Wy(c);return s.setMonth(n,Math.min(o,u)),s}function Rl(t,n,i){const s=Ce(t,i==null?void 0:i.in);return isNaN(+s)?De((i==null?void 0:i.in)||t,NaN):(s.setFullYear(n),s)}var ee=function(){return ee=Object.assign||function(n){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},ee.apply(this,arguments)};function Gy(t,n){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(t);l<s.length;l++)n.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(i[s[l]]=t[s[l]]);return i}function _d(t,n,i){if(i||arguments.length===2)for(var s=0,l=n.length,o;s<l;s++)(o||!(s in n))&&(o||(o=Array.prototype.slice.call(n,0,s)),o[s]=n[s]);return t.concat(o||Array.prototype.slice.call(n))}function pi(t){return t.mode==="multiple"}function gi(t){return t.mode==="range"}function Mr(t){return t.mode==="single"}var Vy={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Yy(t,n){return vt(t,"LLLL y",n)}function qy(t,n){return vt(t,"d",n)}function Ky(t,n){return vt(t,"LLLL",n)}function Xy(t){return"".concat(t)}function Jy(t,n){return vt(t,"cccccc",n)}function Qy(t,n){return vt(t,"yyyy",n)}var ex=Object.freeze({__proto__:null,formatCaption:Yy,formatDay:qy,formatMonthCaption:Ky,formatWeekNumber:Xy,formatWeekdayName:Jy,formatYearCaption:Qy}),tx=function(t,n,i){return vt(t,"do MMMM (EEEE)",i)},nx=function(){return"Month: "},ix=function(){return"Go to next month"},rx=function(){return"Go to previous month"},ox=function(t,n){return vt(t,"cccc",n)},sx=function(t){return"Week n. ".concat(t)},ax=function(){return"Year: "},lx=Object.freeze({__proto__:null,labelDay:tx,labelMonthDropdown:nx,labelNext:ix,labelPrevious:rx,labelWeekNumber:sx,labelWeekday:ox,labelYearDropdown:ax});function cx(){var t="buttons",n=Vy,i=hd,s={},l={},o=1,c={},u=new Date;return{captionLayout:t,classNames:n,formatters:ex,labels:lx,locale:i,modifiersClassNames:s,modifiers:l,numberOfMonths:o,styles:c,today:u,mode:"default"}}function ux(t){var n=t.fromYear,i=t.toYear,s=t.fromMonth,l=t.toMonth,o=t.fromDate,c=t.toDate;return s?o=$e(s):n&&(o=new Date(n,0,1)),l?c=Os(l):i&&(c=new Date(i,11,31)),{fromDate:o?Nn(o):void 0,toDate:c?Nn(c):void 0}}var yd=_.createContext(void 0);function dx(t){var n,i=t.initialProps,s=cx(),l=ux(i),o=l.fromDate,c=l.toDate,u=(n=i.captionLayout)!==null&&n!==void 0?n:s.captionLayout;u!=="buttons"&&(!o||!c)&&(u="buttons");var f;(Mr(i)||pi(i)||gi(i))&&(f=i.onSelect);var m=ee(ee(ee({},s),i),{captionLayout:u,classNames:ee(ee({},s.classNames),i.classNames),components:ee({},i.components),formatters:ee(ee({},s.formatters),i.formatters),fromDate:o,labels:ee(ee({},s.labels),i.labels),mode:i.mode||s.mode,modifiers:ee(ee({},s.modifiers),i.modifiers),modifiersClassNames:ee(ee({},s.modifiersClassNames),i.modifiersClassNames),onSelect:f,styles:ee(ee({},s.styles),i.styles),toDate:c});return d.jsx(yd.Provider,{value:m,children:t.children})}function Se(){var t=_.useContext(yd);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function xd(t){var n=Se(),i=n.locale,s=n.classNames,l=n.styles,o=n.formatters.formatCaption;return d.jsx("div",{className:s.caption_label,style:l.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:i})})}function hx(t){return d.jsx("svg",ee({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wd(t){var n,i,s=t.onChange,l=t.value,o=t.children,c=t.caption,u=t.className,f=t.style,m=Se(),g=(i=(n=m.components)===null||n===void 0?void 0:n.IconDropdown)!==null&&i!==void 0?i:hx;return d.jsxs("div",{className:u,style:f,children:[d.jsx("span",{className:m.classNames.vhidden,children:t["aria-label"]}),d.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:l,onChange:s,children:o}),d.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[c,d.jsx(g,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function fx(t){var n,i=Se(),s=i.fromDate,l=i.toDate,o=i.styles,c=i.locale,u=i.formatters.formatMonthCaption,f=i.classNames,m=i.components,g=i.labels.labelMonthDropdown;if(!s)return d.jsx(d.Fragment,{});if(!l)return d.jsx(d.Fragment,{});var v=[];if($y(s,l))for(var y=$e(s),x=s.getMonth();x<=l.getMonth();x++)v.push(Co(y,x));else for(var y=$e(new Date),x=0;x<=11;x++)v.push(Co(y,x));var C=function(M){var P=Number(M.target.value),S=Co($e(t.displayMonth),P);t.onChange(S)},b=(n=m==null?void 0:m.Dropdown)!==null&&n!==void 0?n:wd;return d.jsx(b,{name:"months","aria-label":g(),className:f.dropdown_month,style:o.dropdown_month,onChange:C,value:t.displayMonth.getMonth(),caption:u(t.displayMonth,{locale:c}),children:v.map(function(M){return d.jsx("option",{value:M.getMonth(),children:u(M,{locale:c})},M.getMonth())})})}function mx(t){var n,i=t.displayMonth,s=Se(),l=s.fromDate,o=s.toDate,c=s.locale,u=s.styles,f=s.classNames,m=s.components,g=s.formatters.formatYearCaption,v=s.labels.labelYearDropdown,y=[];if(!l)return d.jsx(d.Fragment,{});if(!o)return d.jsx(d.Fragment,{});for(var x=l.getFullYear(),C=o.getFullYear(),b=x;b<=C;b++)y.push(Rl(ud(new Date),b));var M=function(S){var T=Rl($e(i),Number(S.target.value));t.onChange(T)},P=(n=m==null?void 0:m.Dropdown)!==null&&n!==void 0?n:wd;return d.jsx(P,{name:"years","aria-label":v(),className:f.dropdown_year,style:u.dropdown_year,onChange:M,value:i.getFullYear(),caption:g(i,{locale:c}),children:y.map(function(S){return d.jsx("option",{value:S.getFullYear(),children:g(S,{locale:c})},S.getFullYear())})})}function px(t,n){var i=_.useState(t),s=i[0],l=i[1],o=n===void 0?s:n;return[o,l]}function gx(t){var n=t.month,i=t.defaultMonth,s=t.today,l=n||i||s||new Date,o=t.toDate,c=t.fromDate,u=t.numberOfMonths,f=u===void 0?1:u;if(o&&ii(o,l)<0){var m=-1*(f-1);l=rt(o,m)}return c&&ii(l,c)<0&&(l=c),$e(l)}function vx(){var t=Se(),n=gx(t),i=px(n,t.month),s=i[0],l=i[1],o=function(c){var u;if(!t.disableNavigation){var f=$e(c);l(f),(u=t.onMonthChange)===null||u===void 0||u.call(t,f)}};return[s,o]}function _x(t,n){for(var i=n.reverseMonths,s=n.numberOfMonths,l=$e(t),o=$e(rt(l,s)),c=ii(o,l),u=[],f=0;f<c;f++){var m=rt(l,f);u.push(m)}return i&&(u=u.reverse()),u}function yx(t,n){if(!n.disableNavigation){var i=n.toDate,s=n.pagedNavigation,l=n.numberOfMonths,o=l===void 0?1:l,c=s?o:1,u=$e(t);if(!i)return rt(u,c);var f=ii(i,t);if(!(f<o))return rt(u,c)}}function xx(t,n){if(!n.disableNavigation){var i=n.fromDate,s=n.pagedNavigation,l=n.numberOfMonths,o=l===void 0?1:l,c=s?o:1,u=$e(t);if(!i)return rt(u,-c);var f=ii(u,i);if(!(f<=0))return rt(u,-c)}}var bd=_.createContext(void 0);function wx(t){var n=Se(),i=vx(),s=i[0],l=i[1],o=_x(s,n),c=yx(s,n),u=xx(s,n),f=function(v){return o.some(function(y){return As(v,y)})},m=function(v,y){f(v)||(y&&vd(v,y)?l(rt(v,1+n.numberOfMonths*-1)):l(v))},g={currentMonth:s,displayMonths:o,goToMonth:l,goToDate:m,previousMonth:u,nextMonth:c,isDateDisplayed:f};return d.jsx(bd.Provider,{value:g,children:t.children})}function vi(){var t=_.useContext(bd);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function Il(t){var n,i=Se(),s=i.classNames,l=i.styles,o=i.components,c=vi().goToMonth,u=function(g){c(rt(g,t.displayIndex?-t.displayIndex:0))},f=(n=o==null?void 0:o.CaptionLabel)!==null&&n!==void 0?n:xd,m=d.jsx(f,{id:t.id,displayMonth:t.displayMonth});return d.jsxs("div",{className:s.caption_dropdowns,style:l.caption_dropdowns,children:[d.jsx("div",{className:s.vhidden,children:m}),d.jsx(fx,{onChange:u,displayMonth:t.displayMonth}),d.jsx(mx,{onChange:u,displayMonth:t.displayMonth})]})}function bx(t){return d.jsx("svg",ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Cx(t){return d.jsx("svg",ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ar=_.forwardRef(function(t,n){var i=Se(),s=i.classNames,l=i.styles,o=[s.button_reset,s.button];t.className&&o.push(t.className);var c=o.join(" "),u=ee(ee({},l.button_reset),l.button);return t.style&&Object.assign(u,t.style),d.jsx("button",ee({},t,{ref:n,type:"button",className:c,style:u}))});function Px(t){var n,i,s=Se(),l=s.dir,o=s.locale,c=s.classNames,u=s.styles,f=s.labels,m=f.labelPrevious,g=f.labelNext,v=s.components;if(!t.nextMonth&&!t.previousMonth)return d.jsx(d.Fragment,{});var y=m(t.previousMonth,{locale:o}),x=[c.nav_button,c.nav_button_previous].join(" "),C=g(t.nextMonth,{locale:o}),b=[c.nav_button,c.nav_button_next].join(" "),M=(n=v==null?void 0:v.IconRight)!==null&&n!==void 0?n:Cx,P=(i=v==null?void 0:v.IconLeft)!==null&&i!==void 0?i:bx;return d.jsxs("div",{className:c.nav,style:u.nav,children:[!t.hidePrevious&&d.jsx(ar,{name:"previous-month","aria-label":y,className:x,style:u.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:l==="rtl"?d.jsx(M,{className:c.nav_icon,style:u.nav_icon}):d.jsx(P,{className:c.nav_icon,style:u.nav_icon})}),!t.hideNext&&d.jsx(ar,{name:"next-month","aria-label":C,className:b,style:u.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:l==="rtl"?d.jsx(P,{className:c.nav_icon,style:u.nav_icon}):d.jsx(M,{className:c.nav_icon,style:u.nav_icon})})]})}function Bl(t){var n=Se().numberOfMonths,i=vi(),s=i.previousMonth,l=i.nextMonth,o=i.goToMonth,c=i.displayMonths,u=c.findIndex(function(C){return As(t.displayMonth,C)}),f=u===0,m=u===c.length-1,g=n>1&&(f||!m),v=n>1&&(m||!f),y=function(){s&&o(s)},x=function(){l&&o(l)};return d.jsx(Px,{displayMonth:t.displayMonth,hideNext:g,hidePrevious:v,nextMonth:l,previousMonth:s,onPreviousClick:y,onNextClick:x})}function Sx(t){var n,i=Se(),s=i.classNames,l=i.disableNavigation,o=i.styles,c=i.captionLayout,u=i.components,f=(n=u==null?void 0:u.CaptionLabel)!==null&&n!==void 0?n:xd,m;return l?m=d.jsx(f,{id:t.id,displayMonth:t.displayMonth}):c==="dropdown"?m=d.jsx(Il,{displayMonth:t.displayMonth,id:t.id}):c==="dropdown-buttons"?m=d.jsxs(d.Fragment,{children:[d.jsx(Il,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),d.jsx(Bl,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):m=d.jsxs(d.Fragment,{children:[d.jsx(f,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(Bl,{displayMonth:t.displayMonth,id:t.id})]}),d.jsx("div",{className:s.caption,style:o.caption,children:m})}function Lx(t){var n=Se(),i=n.footer,s=n.styles,l=n.classNames.tfoot;return i?d.jsx("tfoot",{className:l,style:s.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:i})})}):d.jsx(d.Fragment,{})}function Mx(t,n,i){for(var s=i?tn(new Date):gt(new Date,{locale:t,weekStartsOn:n}),l=[],o=0;o<7;o++){var c=We(s,o);l.push(c)}return l}function Nx(){var t=Se(),n=t.classNames,i=t.styles,s=t.showWeekNumber,l=t.locale,o=t.weekStartsOn,c=t.ISOWeek,u=t.formatters.formatWeekdayName,f=t.labels.labelWeekday,m=Mx(l,o,c);return d.jsxs("tr",{style:i.head_row,className:n.head_row,children:[s&&d.jsx("td",{style:i.head_cell,className:n.head_cell}),m.map(function(g,v){return d.jsx("th",{scope:"col",className:n.head_cell,style:i.head_cell,"aria-label":f(g,{locale:l}),children:u(g,{locale:l})},v)})]})}function Tx(){var t,n=Se(),i=n.classNames,s=n.styles,l=n.components,o=(t=l==null?void 0:l.HeadRow)!==null&&t!==void 0?t:Nx;return d.jsx("thead",{style:s.head,className:i.head,children:d.jsx(o,{})})}function Ex(t){var n=Se(),i=n.locale,s=n.formatters.formatDay;return d.jsx(d.Fragment,{children:s(t.date,{locale:i})})}var js=_.createContext(void 0);function kx(t){if(!pi(t.initialProps)){var n={selected:void 0,modifiers:{disabled:[]}};return d.jsx(js.Provider,{value:n,children:t.children})}return d.jsx(Ox,{initialProps:t.initialProps,children:t.children})}function Ox(t){var n=t.initialProps,i=t.children,s=n.selected,l=n.min,o=n.max,c=function(m,g,v){var y,x;(y=n.onDayClick)===null||y===void 0||y.call(n,m,g,v);var C=!!(g.selected&&l&&(s==null?void 0:s.length)===l);if(!C){var b=!!(!g.selected&&o&&(s==null?void 0:s.length)===o);if(!b){var M=s?_d([],s,!0):[];if(g.selected){var P=M.findIndex(function(S){return Ue(m,S)});M.splice(P,1)}else M.push(m);(x=n.onSelect)===null||x===void 0||x.call(n,M,m,g,v)}}},u={disabled:[]};s&&u.disabled.push(function(m){var g=o&&s.length>o-1,v=s.some(function(y){return Ue(y,m)});return!!(g&&!v)});var f={selected:s,onDayClick:c,modifiers:u};return d.jsx(js.Provider,{value:f,children:i})}function Rs(){var t=_.useContext(js);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Dx(t,n){var i=n||{},s=i.from,l=i.to;return s&&l?Ue(l,t)&&Ue(s,t)?void 0:Ue(l,t)?{from:l,to:void 0}:Ue(s,t)?void 0:es(s,t)?{from:t,to:l}:{from:s,to:t}:l?es(t,l)?{from:l,to:t}:{from:t,to:l}:s?vd(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var Is=_.createContext(void 0);function Ax(t){if(!gi(t.initialProps)){var n={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(Is.Provider,{value:n,children:t.children})}return d.jsx(jx,{initialProps:t.initialProps,children:t.children})}function jx(t){var n=t.initialProps,i=t.children,s=n.selected,l=s||{},o=l.from,c=l.to,u=n.min,f=n.max,m=function(x,C,b){var M,P;(M=n.onDayClick)===null||M===void 0||M.call(n,x,C,b);var S=Dx(x,s);(P=n.onSelect)===null||P===void 0||P.call(n,S,x,C,b)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(g.range_start=[o],c?(g.range_end=[c],Ue(o,c)||(g.range_middle=[{after:o,before:c}])):g.range_end=[o]):c&&(g.range_start=[c],g.range_end=[c]),u&&(o&&!c&&g.disabled.push({after:bo(o,u-1),before:We(o,u-1)}),o&&c&&g.disabled.push({after:o,before:We(o,u-1)}),!o&&c&&g.disabled.push({after:bo(c,u-1),before:We(c,u-1)})),f){if(o&&!c&&(g.disabled.push({before:We(o,-f+1)}),g.disabled.push({after:We(o,f-1)})),o&&c){var v=ft(c,o)+1,y=f-v;g.disabled.push({before:bo(o,y)}),g.disabled.push({after:We(c,y)})}!o&&c&&(g.disabled.push({before:We(c,-f+1)}),g.disabled.push({after:We(c,f-1)}))}return d.jsx(Is.Provider,{value:{selected:s,onDayClick:m,modifiers:g},children:i})}function Bs(){var t=_.useContext(Is);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Yi(t){return Array.isArray(t)?_d([],t,!0):t!==void 0?[t]:[]}function Rx(t){var n={};return Object.entries(t).forEach(function(i){var s=i[0],l=i[1];n[s]=Yi(l)}),n}var ot;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ot||(ot={}));var Ix=ot.Selected,Lt=ot.Disabled,Bx=ot.Hidden,Fx=ot.Today,Po=ot.RangeEnd,So=ot.RangeMiddle,Lo=ot.RangeStart,zx=ot.Outside;function Wx(t,n,i){var s,l=(s={},s[Ix]=Yi(t.selected),s[Lt]=Yi(t.disabled),s[Bx]=Yi(t.hidden),s[Fx]=[t.today],s[Po]=[],s[So]=[],s[Lo]=[],s[zx]=[],s);return t.fromDate&&l[Lt].push({before:t.fromDate}),t.toDate&&l[Lt].push({after:t.toDate}),pi(t)?l[Lt]=l[Lt].concat(n.modifiers[Lt]):gi(t)&&(l[Lt]=l[Lt].concat(i.modifiers[Lt]),l[Lo]=i.modifiers[Lo],l[So]=i.modifiers[So],l[Po]=i.modifiers[Po]),l}var Cd=_.createContext(void 0);function Zx(t){var n=Se(),i=Rs(),s=Bs(),l=Wx(n,i,s),o=Rx(n.modifiers),c=ee(ee({},l),o);return d.jsx(Cd.Provider,{value:c,children:t.children})}function Pd(){var t=_.useContext(Cd);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Hx(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Ux(t){return!!(t&&typeof t=="object"&&"from"in t)}function $x(t){return!!(t&&typeof t=="object"&&"after"in t)}function Gx(t){return!!(t&&typeof t=="object"&&"before"in t)}function Vx(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Yx(t,n){var i,s=n.from,l=n.to;if(s&&l){var o=ft(l,s)<0;o&&(i=[l,s],s=i[0],l=i[1]);var c=ft(t,s)>=0&&ft(l,t)>=0;return c}return l?Ue(l,t):s?Ue(s,t):!1}function qx(t){return ks(t)}function Kx(t){return Array.isArray(t)&&t.every(ks)}function Xx(t,n){return n.some(function(i){if(typeof i=="boolean")return i;if(qx(i))return Ue(t,i);if(Kx(i))return i.includes(t);if(Ux(i))return Yx(t,i);if(Vx(i))return i.dayOfWeek.includes(t.getDay());if(Hx(i)){var s=ft(i.before,t),l=ft(i.after,t),o=s>0,c=l<0,u=es(i.before,i.after);return u?c&&o:o||c}return $x(i)?ft(t,i.after)>0:Gx(i)?ft(i.before,t)>0:typeof i=="function"?i(t):!1})}function Fs(t,n,i){var s=Object.keys(n).reduce(function(o,c){var u=n[c];return Xx(t,u)&&o.push(c),o},[]),l={};return s.forEach(function(o){return l[o]=!0}),i&&!As(t,i)&&(l.outside=!0),l}function Jx(t,n){for(var i=$e(t[0]),s=Os(t[t.length-1]),l,o,c=i;c<=s;){var u=Fs(c,n),f=!u.disabled&&!u.hidden;if(!f){c=We(c,1);continue}if(u.selected)return c;u.today&&!o&&(o=c),l||(l=c),c=We(c,1)}return o||l}var Qx=365;function Sd(t,n){var i=n.moveBy,s=n.direction,l=n.context,o=n.modifiers,c=n.retry,u=c===void 0?{count:0,lastFocused:t}:c,f=l.weekStartsOn,m=l.fromDate,g=l.toDate,v=l.locale,y={day:We,week:Qo,month:rt,year:W_,startOfWeek:function(M){return l.ISOWeek?tn(M):gt(M,{locale:v,weekStartsOn:f})},endOfWeek:function(M){return l.ISOWeek?dd(M):Ds(M,{locale:v,weekStartsOn:f})}},x=y[i](t,s==="after"?1:-1);s==="before"&&m?x=Z_([m,x]):s==="after"&&g&&(x=H_([g,x]));var C=!0;if(o){var b=Fs(x,o);C=!b.disabled&&!b.hidden}return C?x:u.count>Qx?u.lastFocused:Sd(x,{moveBy:i,direction:s,context:l,modifiers:o,retry:ee(ee({},u),{count:u.count+1})})}var Ld=_.createContext(void 0);function ew(t){var n=vi(),i=Pd(),s=_.useState(),l=s[0],o=s[1],c=_.useState(),u=c[0],f=c[1],m=Jx(n.displayMonths,i),g=l??(u&&n.isDateDisplayed(u))?u:m,v=function(){f(l),o(void 0)},y=function(M){o(M)},x=Se(),C=function(M,P){if(l){var S=Sd(l,{moveBy:M,direction:P,context:x,modifiers:i});Ue(l,S)||(n.goToDate(S,l),y(S))}},b={focusedDay:l,focusTarget:g,blur:v,focus:y,focusDayAfter:function(){return C("day","after")},focusDayBefore:function(){return C("day","before")},focusWeekAfter:function(){return C("week","after")},focusWeekBefore:function(){return C("week","before")},focusMonthBefore:function(){return C("month","before")},focusMonthAfter:function(){return C("month","after")},focusYearBefore:function(){return C("year","before")},focusYearAfter:function(){return C("year","after")},focusStartOfWeek:function(){return C("startOfWeek","before")},focusEndOfWeek:function(){return C("endOfWeek","after")}};return d.jsx(Ld.Provider,{value:b,children:t.children})}function zs(){var t=_.useContext(Ld);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function tw(t,n){var i=Pd(),s=Fs(t,i,n);return s}var Ws=_.createContext(void 0);function nw(t){if(!Mr(t.initialProps)){var n={selected:void 0};return d.jsx(Ws.Provider,{value:n,children:t.children})}return d.jsx(iw,{initialProps:t.initialProps,children:t.children})}function iw(t){var n=t.initialProps,i=t.children,s=function(o,c,u){var f,m,g;if((f=n.onDayClick)===null||f===void 0||f.call(n,o,c,u),c.selected&&!n.required){(m=n.onSelect)===null||m===void 0||m.call(n,void 0,o,c,u);return}(g=n.onSelect)===null||g===void 0||g.call(n,o,o,c,u)},l={selected:n.selected,onDayClick:s};return d.jsx(Ws.Provider,{value:l,children:i})}function Md(){var t=_.useContext(Ws);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function rw(t,n){var i=Se(),s=Md(),l=Rs(),o=Bs(),c=zs(),u=c.focusDayAfter,f=c.focusDayBefore,m=c.focusWeekAfter,g=c.focusWeekBefore,v=c.blur,y=c.focus,x=c.focusMonthBefore,C=c.focusMonthAfter,b=c.focusYearBefore,M=c.focusYearAfter,P=c.focusStartOfWeek,S=c.focusEndOfWeek,T=function(B){var k,ae,z,X;Mr(i)?(k=s.onDayClick)===null||k===void 0||k.call(s,t,n,B):pi(i)?(ae=l.onDayClick)===null||ae===void 0||ae.call(l,t,n,B):gi(i)?(z=o.onDayClick)===null||z===void 0||z.call(o,t,n,B):(X=i.onDayClick)===null||X===void 0||X.call(i,t,n,B)},A=function(B){var k;y(t),(k=i.onDayFocus)===null||k===void 0||k.call(i,t,n,B)},D=function(B){var k;v(),(k=i.onDayBlur)===null||k===void 0||k.call(i,t,n,B)},I=function(B){var k;(k=i.onDayMouseEnter)===null||k===void 0||k.call(i,t,n,B)},j=function(B){var k;(k=i.onDayMouseLeave)===null||k===void 0||k.call(i,t,n,B)},F=function(B){var k;(k=i.onDayPointerEnter)===null||k===void 0||k.call(i,t,n,B)},Z=function(B){var k;(k=i.onDayPointerLeave)===null||k===void 0||k.call(i,t,n,B)},V=function(B){var k;(k=i.onDayTouchCancel)===null||k===void 0||k.call(i,t,n,B)},$=function(B){var k;(k=i.onDayTouchEnd)===null||k===void 0||k.call(i,t,n,B)},K=function(B){var k;(k=i.onDayTouchMove)===null||k===void 0||k.call(i,t,n,B)},H=function(B){var k;(k=i.onDayTouchStart)===null||k===void 0||k.call(i,t,n,B)},G=function(B){var k;(k=i.onDayKeyUp)===null||k===void 0||k.call(i,t,n,B)},oe=function(B){var k;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),i.dir==="rtl"?u():f();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),i.dir==="rtl"?f():u();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),m();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),g();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?b():x();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?M():C();break;case"Home":B.preventDefault(),B.stopPropagation(),P();break;case"End":B.preventDefault(),B.stopPropagation(),S();break}(k=i.onDayKeyDown)===null||k===void 0||k.call(i,t,n,B)},U={onClick:T,onFocus:A,onBlur:D,onKeyDown:oe,onKeyUp:G,onMouseEnter:I,onMouseLeave:j,onPointerEnter:F,onPointerLeave:Z,onTouchCancel:V,onTouchEnd:$,onTouchMove:K,onTouchStart:H};return U}function ow(){var t=Se(),n=Md(),i=Rs(),s=Bs(),l=Mr(t)?n.selected:pi(t)?i.selected:gi(t)?s.selected:void 0;return l}function sw(t){return Object.values(ot).includes(t)}function aw(t,n){var i=[t.classNames.day];return Object.keys(n).forEach(function(s){var l=t.modifiersClassNames[s];if(l)i.push(l);else if(sw(s)){var o=t.classNames["day_".concat(s)];o&&i.push(o)}}),i}function lw(t,n){var i=ee({},t.styles.day);return Object.keys(n).forEach(function(s){var l;i=ee(ee({},i),(l=t.modifiersStyles)===null||l===void 0?void 0:l[s])}),i}function cw(t,n,i){var s,l,o,c=Se(),u=zs(),f=tw(t,n),m=rw(t,f),g=ow(),v=!!(c.onDayClick||c.mode!=="default");_.useEffect(function(){var I;f.outside||u.focusedDay&&v&&Ue(u.focusedDay,t)&&((I=i.current)===null||I===void 0||I.focus())},[u.focusedDay,t,i,v,f.outside]);var y=aw(c,f).join(" "),x=lw(c,f),C=!!(f.outside&&!c.showOutsideDays||f.hidden),b=(o=(l=c.components)===null||l===void 0?void 0:l.DayContent)!==null&&o!==void 0?o:Ex,M=d.jsx(b,{date:t,displayMonth:n,activeModifiers:f}),P={style:x,className:y,children:M,role:"gridcell"},S=u.focusTarget&&Ue(u.focusTarget,t)&&!f.outside,T=u.focusedDay&&Ue(u.focusedDay,t),A=ee(ee(ee({},P),(s={disabled:f.disabled,role:"gridcell"},s["aria-selected"]=f.selected,s.tabIndex=T||S?0:-1,s)),m),D={isButton:v,isHidden:C,activeModifiers:f,selectedDays:g,buttonProps:A,divProps:P};return D}function uw(t){var n=_.useRef(null),i=cw(t.date,t.displayMonth,n);return i.isHidden?d.jsx("div",{role:"gridcell"}):i.isButton?d.jsx(ar,ee({name:"day",ref:n},i.buttonProps)):d.jsx("div",ee({},i.divProps))}function dw(t){var n=t.number,i=t.dates,s=Se(),l=s.onWeekNumberClick,o=s.styles,c=s.classNames,u=s.locale,f=s.labels.labelWeekNumber,m=s.formatters.formatWeekNumber,g=m(Number(n),{locale:u});if(!l)return d.jsx("span",{className:c.weeknumber,style:o.weeknumber,children:g});var v=f(Number(n),{locale:u}),y=function(x){l(n,i,x)};return d.jsx(ar,{name:"week-number","aria-label":v,className:c.weeknumber,style:o.weeknumber,onClick:y,children:g})}function hw(t){var n,i,s=Se(),l=s.styles,o=s.classNames,c=s.showWeekNumber,u=s.components,f=(n=u==null?void 0:u.Day)!==null&&n!==void 0?n:uw,m=(i=u==null?void 0:u.WeekNumber)!==null&&i!==void 0?i:dw,g;return c&&(g=d.jsx("td",{className:o.cell,style:l.cell,children:d.jsx(m,{number:t.weekNumber,dates:t.dates})})),d.jsxs("tr",{className:o.row,style:l.row,children:[g,t.dates.map(function(v){return d.jsx("td",{className:o.cell,style:l.cell,role:"presentation",children:d.jsx(f,{displayMonth:t.displayMonth,date:v})},Zy(v))})]})}function Fl(t,n,i){for(var s=i!=null&&i.ISOWeek?dd(n):Ds(n,i),l=i!=null&&i.ISOWeek?tn(t):gt(t,i),o=ft(s,l),c=[],u=0;u<=o;u++)c.push(We(l,u));var f=c.reduce(function(m,g){var v=i!=null&&i.ISOWeek?fd(g):pd(g,i),y=m.find(function(x){return x.weekNumber===v});return y?(y.dates.push(g),m):(m.push({weekNumber:v,dates:[g]}),m)},[]);return f}function fw(t,n){var i=Fl($e(t),Os(t),n);if(n!=null&&n.useFixedWeeks){var s=Uy(t,n);if(s<6){var l=i[i.length-1],o=l.dates[l.dates.length-1],c=Qo(o,6-s),u=Fl(Qo(o,1),c,n);i.push.apply(i,u)}}return i}function mw(t){var n,i,s,l=Se(),o=l.locale,c=l.classNames,u=l.styles,f=l.hideHead,m=l.fixedWeeks,g=l.components,v=l.weekStartsOn,y=l.firstWeekContainsDate,x=l.ISOWeek,C=fw(t.displayMonth,{useFixedWeeks:!!m,ISOWeek:x,locale:o,weekStartsOn:v,firstWeekContainsDate:y}),b=(n=g==null?void 0:g.Head)!==null&&n!==void 0?n:Tx,M=(i=g==null?void 0:g.Row)!==null&&i!==void 0?i:hw,P=(s=g==null?void 0:g.Footer)!==null&&s!==void 0?s:Lx;return d.jsxs("table",{id:t.id,className:c.table,style:u.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!f&&d.jsx(b,{}),d.jsx("tbody",{className:c.tbody,style:u.tbody,children:C.map(function(S){return d.jsx(M,{displayMonth:t.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),d.jsx(P,{displayMonth:t.displayMonth})]})}function pw(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gw=pw()?_.useLayoutEffect:_.useEffect,Mo=!1,vw=0;function zl(){return"react-day-picker-".concat(++vw)}function _w(t){var n,i=t??(Mo?zl():null),s=_.useState(i),l=s[0],o=s[1];return gw(function(){l===null&&o(zl())},[]),_.useEffect(function(){Mo===!1&&(Mo=!0)},[]),(n=t??l)!==null&&n!==void 0?n:void 0}function yw(t){var n,i,s=Se(),l=s.dir,o=s.classNames,c=s.styles,u=s.components,f=vi().displayMonths,m=_w(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),g=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,v=[o.month],y=c.month,x=t.displayIndex===0,C=t.displayIndex===f.length-1,b=!x&&!C;l==="rtl"&&(n=[x,C],C=n[0],x=n[1]),x&&(v.push(o.caption_start),y=ee(ee({},y),c.caption_start)),C&&(v.push(o.caption_end),y=ee(ee({},y),c.caption_end)),b&&(v.push(o.caption_between),y=ee(ee({},y),c.caption_between));var M=(i=u==null?void 0:u.Caption)!==null&&i!==void 0?i:Sx;return d.jsxs("div",{className:v.join(" "),style:y,children:[d.jsx(M,{id:m,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),d.jsx(mw,{id:g,"aria-labelledby":m,displayMonth:t.displayMonth})]},t.displayIndex)}function xw(t){var n=Se(),i=n.classNames,s=n.styles;return d.jsx("div",{className:i.months,style:s.months,children:t.children})}function ww(t){var n,i,s=t.initialProps,l=Se(),o=zs(),c=vi(),u=_.useState(!1),f=u[0],m=u[1];_.useEffect(function(){l.initialFocus&&o.focusTarget&&(f||(o.focus(o.focusTarget),m(!0)))},[l.initialFocus,f,o.focus,o.focusTarget,o]);var g=[l.classNames.root,l.className];l.numberOfMonths>1&&g.push(l.classNames.multiple_months),l.showWeekNumber&&g.push(l.classNames.with_weeknumber);var v=ee(ee({},l.styles.root),l.style),y=Object.keys(s).filter(function(C){return C.startsWith("data-")}).reduce(function(C,b){var M;return ee(ee({},C),(M={},M[b]=s[b],M))},{}),x=(i=(n=s.components)===null||n===void 0?void 0:n.Months)!==null&&i!==void 0?i:xw;return d.jsx("div",ee({className:g.join(" "),style:v,dir:l.dir,id:l.id,nonce:s.nonce,title:s.title,lang:s.lang},y,{children:d.jsx(x,{children:c.displayMonths.map(function(C,b){return d.jsx(yw,{displayIndex:b,displayMonth:C},b)})})}))}function bw(t){var n=t.children,i=Gy(t,["children"]);return d.jsx(dx,{initialProps:i,children:d.jsx(wx,{children:d.jsx(nw,{initialProps:i,children:d.jsx(kx,{initialProps:i,children:d.jsx(Ax,{initialProps:i,children:d.jsx(Zx,{children:d.jsx(ew,{children:n})})})})})})})}function Cw(t){return d.jsx(bw,ee({},t,{children:d.jsx(ww,{initialProps:t})}))}function ri({className:t,classNames:n,showOutsideDays:i=!0,...s}){return d.jsx(Cw,{showOutsideDays:i,className:J("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:J(Xi({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:J(Xi({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...n},components:{IconLeft:({...l})=>d.jsx(Cm,{className:"h-4 w-4"}),IconRight:({...l})=>d.jsx(Sm,{className:"h-4 w-4"})},...s})}ri.displayName="Calendar";var Zs="Popover",[Nd,jb]=_t(Zs,[xr]),_i=xr(),[Pw,$t]=Nd(Zs),Td=t=>{const{__scopePopover:n,children:i,open:s,defaultOpen:l,onOpenChange:o,modal:c=!1}=t,u=_i(n),f=_.useRef(null),[m,g]=_.useState(!1),[v=!1,y]=Pn({prop:s,defaultProp:l,onChange:o});return d.jsx(mu,{...u,children:d.jsx(Pw,{scope:n,contentId:Ft(),triggerRef:f,open:v,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(x=>!x),[y]),hasCustomAnchor:m,onCustomAnchorAdd:_.useCallback(()=>g(!0),[]),onCustomAnchorRemove:_.useCallback(()=>g(!1),[]),modal:c,children:i})})};Td.displayName=Zs;var Ed="PopoverAnchor",Sw=_.forwardRef((t,n)=>{const{__scopePopover:i,...s}=t,l=$t(Ed,i),o=_i(i),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=l;return _.useEffect(()=>(c(),()=>u()),[c,u]),d.jsx(Cs,{...o,...s,ref:n})});Sw.displayName=Ed;var kd="PopoverTrigger",Od=_.forwardRef((t,n)=>{const{__scopePopover:i,...s}=t,l=$t(kd,i),o=_i(i),c=ve(n,l.triggerRef),u=d.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Id(l.open),...s,ref:c,onClick:ie(t.onClick,l.onOpenToggle)});return l.hasCustomAnchor?u:d.jsx(Cs,{asChild:!0,...o,children:u})});Od.displayName=kd;var Hs="PopoverPortal",[Lw,Mw]=Nd(Hs,{forceMount:void 0}),Dd=t=>{const{__scopePopover:n,forceMount:i,children:s,container:l}=t,o=$t(Hs,n);return d.jsx(Lw,{scope:n,forceMount:i,children:d.jsx(st,{present:i||o.open,children:d.jsx(hr,{asChild:!0,container:l,children:s})})})};Dd.displayName=Hs;var Tn="PopoverContent",Ad=_.forwardRef((t,n)=>{const i=Mw(Tn,t.__scopePopover),{forceMount:s=i.forceMount,...l}=t,o=$t(Tn,t.__scopePopover);return d.jsx(st,{present:s||o.open,children:o.modal?d.jsx(Nw,{...l,ref:n}):d.jsx(Tw,{...l,ref:n})})});Ad.displayName=Tn;var Nw=_.forwardRef((t,n)=>{const i=$t(Tn,t.__scopePopover),s=_.useRef(null),l=ve(n,s),o=_.useRef(!1);return _.useEffect(()=>{const c=s.current;if(c)return ss(c)},[]),d.jsx(os,{as:ei,allowPinchZoom:!0,children:d.jsx(jd,{...t,ref:l,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,c=>{var u;c.preventDefault(),o.current||(u=i.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,m=u.button===2||f;o.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:ie(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Tw=_.forwardRef((t,n)=>{const i=$t(Tn,t.__scopePopover),s=_.useRef(!1),l=_.useRef(!1);return d.jsx(jd,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(s.current||(u=i.triggerRef.current)==null||u.focus(),o.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:o=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const c=o.target;((m=i.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&l.current&&o.preventDefault()}})}),jd=_.forwardRef((t,n)=>{const{__scopePopover:i,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,...v}=t,y=$t(Tn,i),x=_i(i);return rs(),d.jsx(dr,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:o,children:d.jsx(ur,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>y.onOpenChange(!1),children:d.jsx(pu,{"data-state":Id(y.open),role:"dialog",id:y.contentId,...x,...v,ref:n,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Rd="PopoverClose",Ew=_.forwardRef((t,n)=>{const{__scopePopover:i,...s}=t,l=$t(Rd,i);return d.jsx(ue.button,{type:"button",...s,ref:n,onClick:ie(t.onClick,()=>l.onOpenChange(!1))})});Ew.displayName=Rd;var kw="PopoverArrow",Ow=_.forwardRef((t,n)=>{const{__scopePopover:i,...s}=t,l=_i(i);return d.jsx(gu,{...l,...s,ref:n})});Ow.displayName=kw;function Id(t){return t?"open":"closed"}var Dw=Td,Aw=Od,jw=Dd,Bd=Ad;const qi=Dw,Ki=Aw,Qn=_.forwardRef(({className:t,align:n="center",sideOffset:i=4,...s},l)=>d.jsx(jw,{children:d.jsx(Bd,{ref:l,align:n,sideOffset:i,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Qn.displayName=Bd.displayName;var No="rovingFocusGroup.onEntryFocus",Rw={bubbles:!1,cancelable:!0},Nr="RovingFocusGroup",[ts,Fd,Iw]=Gc(Nr),[Bw,zd]=_t(Nr,[Iw]),[Fw,zw]=Bw(Nr),Wd=_.forwardRef((t,n)=>d.jsx(ts.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(ts.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Ww,{...t,ref:n})})}));Wd.displayName=Nr;var Ww=_.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:i,orientation:s,loop:l=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=t,y=_.useRef(null),x=ve(n,y),C=gr(o),[b=null,M]=Pn({prop:c,defaultProp:u,onChange:f}),[P,S]=_.useState(!1),T=Be(m),A=Fd(i),D=_.useRef(!1),[I,j]=_.useState(0);return _.useEffect(()=>{const F=y.current;if(F)return F.addEventListener(No,T),()=>F.removeEventListener(No,T)},[T]),d.jsx(Fw,{scope:i,orientation:s,dir:C,loop:l,currentTabStopId:b,onItemFocus:_.useCallback(F=>M(F),[M]),onItemShiftTab:_.useCallback(()=>S(!0),[]),onFocusableItemAdd:_.useCallback(()=>j(F=>F+1),[]),onFocusableItemRemove:_.useCallback(()=>j(F=>F-1),[]),children:d.jsx(ue.div,{tabIndex:P||I===0?-1:0,"data-orientation":s,...v,ref:x,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{D.current=!0}),onFocus:ie(t.onFocus,F=>{const Z=!D.current;if(F.target===F.currentTarget&&Z&&!P){const V=new CustomEvent(No,Rw);if(F.currentTarget.dispatchEvent(V),!V.defaultPrevented){const $=A().filter(U=>U.focusable),K=$.find(U=>U.active),H=$.find(U=>U.id===b),oe=[K,H,...$].filter(Boolean).map(U=>U.ref.current);Ud(oe,g)}}D.current=!1}),onBlur:ie(t.onBlur,()=>S(!1))})})}),Zd="RovingFocusGroupItem",Hd=_.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:i,focusable:s=!0,active:l=!1,tabStopId:o,...c}=t,u=Ft(),f=o||u,m=zw(Zd,i),g=m.currentTabStopId===f,v=Fd(i),{onFocusableItemAdd:y,onFocusableItemRemove:x}=m;return _.useEffect(()=>{if(s)return y(),()=>x()},[s,y,x]),d.jsx(ts.ItemSlot,{scope:i,id:f,focusable:s,active:l,children:d.jsx(ue.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:n,onMouseDown:ie(t.onMouseDown,C=>{s?m.onItemFocus(f):C.preventDefault()}),onFocus:ie(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:ie(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const b=Uw(C,m.orientation,m.dir);if(b!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let P=v().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")P.reverse();else if(b==="prev"||b==="next"){b==="prev"&&P.reverse();const S=P.indexOf(C.currentTarget);P=m.loop?$w(P,S+1):P.slice(S+1)}setTimeout(()=>Ud(P))}})})})});Hd.displayName=Zd;var Zw={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hw(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Uw(t,n,i){const s=Hw(t.key,i);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Zw[s]}function Ud(t,n=!1){const i=document.activeElement;for(const s of t)if(s===i||(s.focus({preventScroll:n}),document.activeElement!==i))return}function $w(t,n){return t.map((i,s)=>t[(n+s)%t.length])}var Gw=Wd,Vw=Hd,Us="Radio",[Yw,$d]=_t(Us),[qw,Kw]=Yw(Us),Gd=_.forwardRef((t,n)=>{const{__scopeRadio:i,name:s,checked:l=!1,required:o,disabled:c,value:u="on",onCheck:f,form:m,...g}=t,[v,y]=_.useState(null),x=ve(n,M=>y(M)),C=_.useRef(!1),b=v?m||!!v.closest("form"):!0;return d.jsxs(qw,{scope:i,checked:l,disabled:c,children:[d.jsx(ue.button,{type:"button",role:"radio","aria-checked":l,"data-state":qd(l),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:x,onClick:ie(t.onClick,M=>{l||f==null||f(),b&&(C.current=M.isPropagationStopped(),C.current||M.stopPropagation())})}),b&&d.jsx(Xw,{control:v,bubbles:!C.current,name:s,value:u,checked:l,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});Gd.displayName=Us;var Vd="RadioIndicator",Yd=_.forwardRef((t,n)=>{const{__scopeRadio:i,forceMount:s,...l}=t,o=Kw(Vd,i);return d.jsx(st,{present:s||o.checked,children:d.jsx(ue.span,{"data-state":qd(o.checked),"data-disabled":o.disabled?"":void 0,...l,ref:n})})});Yd.displayName=Vd;var Xw=t=>{const{control:n,checked:i,bubbles:s=!0,...l}=t,o=_.useRef(null),c=vu(i),u=ru(n);return _.useEffect(()=>{const f=o.current,m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==i&&v){const y=new Event("click",{bubbles:s});v.call(f,i),f.dispatchEvent(y)}},[c,i,s]),d.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:i,...l,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qd(t){return t?"checked":"unchecked"}var Jw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$s="RadioGroup",[Qw,Rb]=_t($s,[zd,$d]),Kd=zd(),Xd=$d(),[eb,tb]=Qw($s),Jd=_.forwardRef((t,n)=>{const{__scopeRadioGroup:i,name:s,defaultValue:l,value:o,required:c=!1,disabled:u=!1,orientation:f,dir:m,loop:g=!0,onValueChange:v,...y}=t,x=Kd(i),C=gr(m),[b,M]=Pn({prop:o,defaultProp:l,onChange:v});return d.jsx(eb,{scope:i,name:s,required:c,disabled:u,value:b,onValueChange:M,children:d.jsx(Gw,{asChild:!0,...x,orientation:f,dir:C,loop:g,children:d.jsx(ue.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:C,...y,ref:n})})})});Jd.displayName=$s;var Qd="RadioGroupItem",eh=_.forwardRef((t,n)=>{const{__scopeRadioGroup:i,disabled:s,...l}=t,o=tb(Qd,i),c=o.disabled||s,u=Kd(i),f=Xd(i),m=_.useRef(null),g=ve(n,m),v=o.value===l.value,y=_.useRef(!1);return _.useEffect(()=>{const x=b=>{Jw.includes(b.key)&&(y.current=!0)},C=()=>y.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",C)}},[]),d.jsx(Vw,{asChild:!0,...u,focusable:!c,active:v,children:d.jsx(Gd,{disabled:c,required:o.required,checked:v,...f,...l,name:o.name,ref:g,onCheck:()=>o.onValueChange(l.value),onKeyDown:ie(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:ie(l.onFocus,()=>{var x;y.current&&((x=m.current)==null||x.click())})})})});eh.displayName=Qd;var nb="RadioGroupIndicator",th=_.forwardRef((t,n)=>{const{__scopeRadioGroup:i,...s}=t,l=Xd(i);return d.jsx(Yd,{...l,...s,ref:n})});th.displayName=nb;var nh=Jd,ih=eh,ib=th;const rh=_.forwardRef(({className:t,...n},i)=>d.jsx(nh,{className:J("grid gap-2",t),...n,ref:i}));rh.displayName=nh.displayName;const Xn=_.forwardRef(({className:t,...n},i)=>d.jsx(ih,{ref:i,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:d.jsx(ib,{className:"flex items-center justify-center",children:d.jsx(Tm,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Xn.displayName=ih.displayName;function rb(){const{filterStatus:t,setFilterStatus:n,searchJobSites:i}=nn(),[s,l]=_.useState(""),[o,c]=_.useState(""),[u,f]=_.useState({}),m=()=>{n(t),i()};return d.jsxs(qi,{children:[d.jsx(Ki,{asChild:!0,children:d.jsxs(he,{variant:"outline",size:"sm",children:[d.jsx(ko,{className:"mr-2 h-4 w-4"}),"Filter"]})}),d.jsx(Qn,{className:"w-80",children:d.jsxs("div",{className:"grid gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium leading-none",children:"Filter Job Sites"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Filter job sites by status and other criteria"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsxs("div",{className:"grid gap-1",children:[d.jsx(xe,{children:"Status"}),d.jsxs(rh,{defaultValue:t,onValueChange:g=>n(g),children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xn,{value:"all",id:"all"}),d.jsx(xe,{htmlFor:"all",children:"All"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xn,{value:"active",id:"active"}),d.jsx(xe,{htmlFor:"active",children:"Active"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xn,{value:"inactive",id:"inactive"}),d.jsx(xe,{htmlFor:"inactive",children:"Inactive"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xn,{value:"draft",id:"draft"}),d.jsx(xe,{htmlFor:"draft",children:"Draft"})]})]})]}),d.jsxs("div",{className:"grid gap-1",children:[d.jsx(xe,{children:"Contact Name"}),d.jsx(Ie,{placeholder:"Filter by contact name",value:s,onChange:g=>l(g.target.value)})]}),d.jsxs("div",{className:"grid gap-1",children:[d.jsx(xe,{children:"Contact Phone"}),d.jsx(Ie,{placeholder:"Filter by contact phone",value:o,onChange:g=>c(g.target.value)})]}),d.jsxs("div",{className:"grid gap-1",children:[d.jsx(xe,{children:"Date Range"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs(qi,{children:[d.jsx(Ki,{asChild:!0,children:d.jsxs(he,{variant:"outline",className:J("w-full justify-start text-left font-normal",!u.startDate&&"text-muted-foreground"),children:[d.jsx(Eo,{className:"mr-2 h-4 w-4"}),u.startDate?vt(u.startDate,"PPP"):d.jsx("span",{children:"Start date"})]})}),d.jsx(Qn,{className:"w-auto p-0",align:"start",children:d.jsx(ri,{mode:"single",selected:u.startDate,onSelect:g=>f(v=>({...v,startDate:g})),initialFocus:!0})})]}),d.jsxs(qi,{children:[d.jsx(Ki,{asChild:!0,children:d.jsxs(he,{variant:"outline",className:J("w-full justify-start text-left font-normal",!u.endDate&&"text-muted-foreground"),children:[d.jsx(Eo,{className:"mr-2 h-4 w-4"}),u.endDate?vt(u.endDate,"PPP"):d.jsx("span",{children:"End date"})]})}),d.jsx(Qn,{className:"w-auto p-0",align:"start",children:d.jsx(ri,{mode:"single",selected:u.endDate,onSelect:g=>f(v=>({...v,endDate:g})),initialFocus:!0})})]})]})]}),d.jsx(he,{onClick:m,children:"Apply Filters"})]})]})})]})}function ob(t,n){return _.useReducer((i,s)=>n[i][s]??i,t)}var Gs="ScrollArea",[oh,Ib]=_t(Gs),[sb,Je]=oh(Gs),sh=_.forwardRef((t,n)=>{const{__scopeScrollArea:i,type:s="hover",dir:l,scrollHideDelay:o=600,...c}=t,[u,f]=_.useState(null),[m,g]=_.useState(null),[v,y]=_.useState(null),[x,C]=_.useState(null),[b,M]=_.useState(null),[P,S]=_.useState(0),[T,A]=_.useState(0),[D,I]=_.useState(!1),[j,F]=_.useState(!1),Z=ve(n,$=>f($)),V=gr(l);return d.jsx(sb,{scope:i,type:s,dir:V,scrollHideDelay:o,scrollArea:u,viewport:m,onViewportChange:g,content:v,onContentChange:y,scrollbarX:x,onScrollbarXChange:C,scrollbarXEnabled:D,onScrollbarXEnabledChange:I,scrollbarY:b,onScrollbarYChange:M,scrollbarYEnabled:j,onScrollbarYEnabledChange:F,onCornerWidthChange:S,onCornerHeightChange:A,children:d.jsx(ue.div,{dir:V,...c,ref:Z,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});sh.displayName=Gs;var ah="ScrollAreaViewport",lh=_.forwardRef((t,n)=>{const{__scopeScrollArea:i,children:s,nonce:l,...o}=t,c=Je(ah,i),u=_.useRef(null),f=ve(n,u,c.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),d.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});lh.displayName=ah;var xt="ScrollAreaScrollbar",Vs=_.forwardRef((t,n)=>{const{forceMount:i,...s}=t,l=Je(xt,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=l,u=t.orientation==="horizontal";return _.useEffect(()=>(u?o(!0):c(!0),()=>{u?o(!1):c(!1)}),[u,o,c]),l.type==="hover"?d.jsx(ab,{...s,ref:n,forceMount:i}):l.type==="scroll"?d.jsx(lb,{...s,ref:n,forceMount:i}):l.type==="auto"?d.jsx(ch,{...s,ref:n,forceMount:i}):l.type==="always"?d.jsx(Ys,{...s,ref:n}):null});Vs.displayName=xt;var ab=_.forwardRef((t,n)=>{const{forceMount:i,...s}=t,l=Je(xt,t.__scopeScrollArea),[o,c]=_.useState(!1);return _.useEffect(()=>{const u=l.scrollArea;let f=0;if(u){const m=()=>{window.clearTimeout(f),c(!0)},g=()=>{f=window.setTimeout(()=>c(!1),l.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",g)}}},[l.scrollArea,l.scrollHideDelay]),d.jsx(st,{present:i||o,children:d.jsx(ch,{"data-state":o?"visible":"hidden",...s,ref:n})})}),lb=_.forwardRef((t,n)=>{const{forceMount:i,...s}=t,l=Je(xt,t.__scopeScrollArea),o=t.orientation==="horizontal",c=Er(()=>f("SCROLL_END"),100),[u,f]=ob("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>f("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,l.scrollHideDelay,f]),_.useEffect(()=>{const m=l.viewport,g=o?"scrollLeft":"scrollTop";if(m){let v=m[g];const y=()=>{const x=m[g];v!==x&&(f("SCROLL"),c()),v=x};return m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[l.viewport,o,f,c]),d.jsx(st,{present:i||u!=="hidden",children:d.jsx(Ys,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:n,onPointerEnter:ie(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:ie(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),ch=_.forwardRef((t,n)=>{const i=Je(xt,t.__scopeScrollArea),{forceMount:s,...l}=t,[o,c]=_.useState(!1),u=t.orientation==="horizontal",f=Er(()=>{if(i.viewport){const m=i.viewport.offsetWidth<i.viewport.scrollWidth,g=i.viewport.offsetHeight<i.viewport.scrollHeight;c(u?m:g)}},10);return En(i.viewport,f),En(i.content,f),d.jsx(st,{present:s||o,children:d.jsx(Ys,{"data-state":o?"visible":"hidden",...l,ref:n})})}),Ys=_.forwardRef((t,n)=>{const{orientation:i="vertical",...s}=t,l=Je(xt,t.__scopeScrollArea),o=_.useRef(null),c=_.useRef(0),[u,f]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=mh(u.viewport,u.content),g={...s,sizes:u,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:y=>o.current=y,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:y=>c.current=y};function v(y,x){return mb(y,c.current,u,x)}return i==="horizontal"?d.jsx(cb,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&o.current){const y=l.viewport.scrollLeft,x=Wl(y,u,l.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:y=>{l.viewport&&(l.viewport.scrollLeft=y)},onDragScroll:y=>{l.viewport&&(l.viewport.scrollLeft=v(y,l.dir))}}):i==="vertical"?d.jsx(ub,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&o.current){const y=l.viewport.scrollTop,x=Wl(y,u);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:y=>{l.viewport&&(l.viewport.scrollTop=y)},onDragScroll:y=>{l.viewport&&(l.viewport.scrollTop=v(y))}}):null}),cb=_.forwardRef((t,n)=>{const{sizes:i,onSizesChange:s,...l}=t,o=Je(xt,t.__scopeScrollArea),[c,u]=_.useState(),f=_.useRef(null),m=ve(n,f,o.onScrollbarXChange);return _.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(dh,{"data-orientation":"horizontal",...l,ref:m,sizes:i,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tr(i)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,v)=>{if(o.viewport){const y=o.viewport.scrollLeft+g.deltaX;t.onWheelScroll(y),gh(y,v)&&g.preventDefault()}},onResize:()=>{f.current&&o.viewport&&c&&s({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:cr(c.paddingLeft),paddingEnd:cr(c.paddingRight)}})}})}),ub=_.forwardRef((t,n)=>{const{sizes:i,onSizesChange:s,...l}=t,o=Je(xt,t.__scopeScrollArea),[c,u]=_.useState(),f=_.useRef(null),m=ve(n,f,o.onScrollbarYChange);return _.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),d.jsx(dh,{"data-orientation":"vertical",...l,ref:m,sizes:i,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tr(i)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,v)=>{if(o.viewport){const y=o.viewport.scrollTop+g.deltaY;t.onWheelScroll(y),gh(y,v)&&g.preventDefault()}},onResize:()=>{f.current&&o.viewport&&c&&s({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:cr(c.paddingTop),paddingEnd:cr(c.paddingBottom)}})}})}),[db,uh]=oh(xt),dh=_.forwardRef((t,n)=>{const{__scopeScrollArea:i,sizes:s,hasThumb:l,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:g,onResize:v,...y}=t,x=Je(xt,i),[C,b]=_.useState(null),M=ve(n,Z=>b(Z)),P=_.useRef(null),S=_.useRef(""),T=x.viewport,A=s.content-s.viewport,D=Be(g),I=Be(f),j=Er(v,10);function F(Z){if(P.current){const V=Z.clientX-P.current.left,$=Z.clientY-P.current.top;m({x:V,y:$})}}return _.useEffect(()=>{const Z=V=>{const $=V.target;(C==null?void 0:C.contains($))&&D(V,A)};return document.addEventListener("wheel",Z,{passive:!1}),()=>document.removeEventListener("wheel",Z,{passive:!1})},[T,C,A,D]),_.useEffect(I,[s,I]),En(C,j),En(x.content,j),d.jsx(db,{scope:i,scrollbar:C,hasThumb:l,onThumbChange:Be(o),onThumbPointerUp:Be(c),onThumbPositionChange:I,onThumbPointerDown:Be(u),children:d.jsx(ue.div,{...y,ref:M,style:{position:"absolute",...y.style},onPointerDown:ie(t.onPointerDown,Z=>{Z.button===0&&(Z.target.setPointerCapture(Z.pointerId),P.current=C.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),F(Z))}),onPointerMove:ie(t.onPointerMove,F),onPointerUp:ie(t.onPointerUp,Z=>{const V=Z.target;V.hasPointerCapture(Z.pointerId)&&V.releasePointerCapture(Z.pointerId),document.body.style.webkitUserSelect=S.current,x.viewport&&(x.viewport.style.scrollBehavior=""),P.current=null})})})}),lr="ScrollAreaThumb",hh=_.forwardRef((t,n)=>{const{forceMount:i,...s}=t,l=uh(lr,t.__scopeScrollArea);return d.jsx(st,{present:i||l.hasThumb,children:d.jsx(hb,{ref:n,...s})})}),hb=_.forwardRef((t,n)=>{const{__scopeScrollArea:i,style:s,...l}=t,o=Je(lr,i),c=uh(lr,i),{onThumbPositionChange:u}=c,f=ve(n,v=>c.onThumbChange(v)),m=_.useRef(void 0),g=Er(()=>{m.current&&(m.current(),m.current=void 0)},100);return _.useEffect(()=>{const v=o.viewport;if(v){const y=()=>{if(g(),!m.current){const x=pb(v,u);m.current=x,u()}};return u(),v.addEventListener("scroll",y),()=>v.removeEventListener("scroll",y)}},[o.viewport,g,u]),d.jsx(ue.div,{"data-state":c.hasThumb?"visible":"hidden",...l,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ie(t.onPointerDownCapture,v=>{const x=v.target.getBoundingClientRect(),C=v.clientX-x.left,b=v.clientY-x.top;c.onThumbPointerDown({x:C,y:b})}),onPointerUp:ie(t.onPointerUp,c.onThumbPointerUp)})});hh.displayName=lr;var qs="ScrollAreaCorner",fh=_.forwardRef((t,n)=>{const i=Je(qs,t.__scopeScrollArea),s=!!(i.scrollbarX&&i.scrollbarY);return i.type!=="scroll"&&s?d.jsx(fb,{...t,ref:n}):null});fh.displayName=qs;var fb=_.forwardRef((t,n)=>{const{__scopeScrollArea:i,...s}=t,l=Je(qs,i),[o,c]=_.useState(0),[u,f]=_.useState(0),m=!!(o&&u);return En(l.scrollbarX,()=>{var v;const g=((v=l.scrollbarX)==null?void 0:v.offsetHeight)||0;l.onCornerHeightChange(g),f(g)}),En(l.scrollbarY,()=>{var v;const g=((v=l.scrollbarY)==null?void 0:v.offsetWidth)||0;l.onCornerWidthChange(g),c(g)}),m?d.jsx(ue.div,{...s,ref:n,style:{width:o,height:u,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function cr(t){return t?parseInt(t,10):0}function mh(t,n){const i=t/n;return isNaN(i)?0:i}function Tr(t){const n=mh(t.viewport,t.content),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-i)*n;return Math.max(s,18)}function mb(t,n,i,s="ltr"){const l=Tr(i),o=l/2,c=n||o,u=l-c,f=i.scrollbar.paddingStart+c,m=i.scrollbar.size-i.scrollbar.paddingEnd-u,g=i.content-i.viewport,v=s==="ltr"?[0,g]:[g*-1,0];return ph([f,m],v)(t)}function Wl(t,n,i="ltr"){const s=Tr(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,o=n.scrollbar.size-l,c=n.content-n.viewport,u=o-s,f=i==="ltr"?[0,c]:[c*-1,0],m=zo(t,f);return ph([0,c],[0,u])(m)}function ph(t,n){return i=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const s=(n[1]-n[0])/(t[1]-t[0]);return n[0]+s*(i-t[0])}}function gh(t,n){return t>0&&t<n}var pb=(t,n=()=>{})=>{let i={left:t.scrollLeft,top:t.scrollTop},s=0;return function l(){const o={left:t.scrollLeft,top:t.scrollTop},c=i.left!==o.left,u=i.top!==o.top;(c||u)&&n(),i=o,s=window.requestAnimationFrame(l)}(),()=>window.cancelAnimationFrame(s)};function Er(t,n){const i=Be(t),s=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),_.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(i,n)},[i,n])}function En(t,n){const i=Be(n);Fe(()=>{let s=0;if(t){const l=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(i)});return l.observe(t),()=>{window.cancelAnimationFrame(s),l.unobserve(t)}}},[t,i])}var vh=sh,gb=lh,vb=fh;const kr=_.forwardRef(({className:t,children:n,...i},s)=>d.jsxs(vh,{ref:s,className:J("relative overflow-hidden",t),...i,children:[d.jsx(gb,{className:"h-full w-full rounded-[inherit]",children:n}),d.jsx(_h,{}),d.jsx(vb,{})]}));kr.displayName=vh.displayName;const _h=_.forwardRef(({className:t,orientation:n="vertical",...i},s)=>d.jsx(Vs,{ref:s,orientation:n,className:J("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:d.jsx(hh,{className:"relative flex-1 rounded-full bg-border"})}));_h.displayName=Vs.displayName;var _b="Separator",Zl="horizontal",yb=["horizontal","vertical"],yh=_.forwardRef((t,n)=>{const{decorative:i,orientation:s=Zl,...l}=t,o=xb(s)?s:Zl,u=i?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return d.jsx(ue.div,{"data-orientation":o,...u,...l,ref:n})});yh.displayName=_b;function xb(t){return yb.includes(t)}var xh=yh;const wh=_.forwardRef(({className:t,orientation:n="horizontal",decorative:i=!0,...s},l)=>d.jsx(xh,{ref:l,decorative:i,orientation:n,className:J("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));wh.displayName=xh.displayName;function wb(){const{filterStatus:t,setFilterStatus:n,startDate:i,endDate:s,setDateRange:l,searchOrders:o,isFilterDialogOpen:c,setIsFilterDialogOpen:u,clearFilters:f}=oi(),m=_.useMemo(()=>{let y=0;return t!=="all"&&y++,i&&y++,s&&y++,y},[t,i,s]),g=()=>{o(),u(!1)},v=()=>{f(),o()};return d.jsx(d.Fragment,{children:d.jsx(mr,{open:c,onOpenChange:u,children:d.jsxs(di,{className:"h-screen w-screen gap-0 p-0",children:[d.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Filter orders by status and date range"})]}),d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>u(!1),children:d.jsx(si,{className:"h-4 w-4"})})]}),d.jsx(kr,{className:"max-h-full",children:d.jsx("div",{className:"space-y-6 p-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Status"}),d.jsxs(ed,{value:t,onValueChange:n,children:[d.jsx(Ss,{children:d.jsx(td,{placeholder:"Select status"})}),d.jsxs(Ls,{children:[d.jsx(Mt,{value:"all",children:"All Orders"}),d.jsx(Mt,{value:"draft",children:"Draft"}),d.jsx(Mt,{value:"pending",children:"Pending"}),d.jsx(Mt,{value:"shipping",children:"Shipping"}),d.jsx(Mt,{value:"shipped",children:"Shipped"}),d.jsx(Mt,{value:"cancelled",children:"Cancelled"})]})]})]}),d.jsx(wh,{}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{children:"Date Range"}),d.jsx("div",{className:J("flex items-center justify-center rounded-lg border",i&&s?"bg-[var(--main-color)]/20":"bg-transparent"),children:d.jsx(ri,{mode:"range",selected:{from:i?new Date(i):void 0,to:s?new Date(s):void 0},onSelect:y=>{var x,C;l(((x=y==null?void 0:y.from)==null?void 0:x.toISOString())||null,((C=y==null?void 0:y.to)==null?void 0:C.toISOString())||null)},classNames:{button:"hover:invert"},numberOfMonths:2,defaultMonth:new Date})})]})]})})}),d.jsx(pr,{className:"border-t p-4",children:d.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[d.jsx(he,{variant:"ghost",onClick:v,disabled:m===0,children:"Clear Filters"}),d.jsx(he,{onClick:g,children:"Apply Filters"})]})})]})})})}function bb(){const{jobSites:t,fetchJobSites:n,searchJobSites:i,setSearchTerm:s,isLoading:l,setCurrentJobSite:o}=nn(),{isJobSiteDialogOpen:c,setIsJobSiteDialogOpen:u,updateNewOrderForm:f}=oi(),{profile:m}=$l(),[g,v]=_.useState(""),[y,x]=_.useState(!1);_.useEffect(()=>{c&&n()},[c,n]),_.useEffect(()=>{const S=setTimeout(()=>{s(g),i()},300);return()=>clearTimeout(S)},[g,s,i]);const C=t.filter(S=>S.isActive),b=()=>{o(null),x(!0)},M=S=>{S._id&&(f({jobSiteId:String(S._id),jobSiteName:S.name}),u(!1))},P=(m==null?void 0:m.type)==="company";return d.jsxs(d.Fragment,{children:[d.jsx(mr,{open:c,onOpenChange:u,children:d.jsxs(di,{className:"flex h-full max-w-full flex-col gap-0 border-none p-0",children:[d.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:Nt.selectionDialog.title}),d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>u(!1),children:d.jsx(si,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"p-4",children:d.jsx(Ie,{placeholder:Nt.selectionDialog.searchPlaceholder,value:g,onChange:S=>v(S.target.value)})}),d.jsx(kr,{className:"flex-grow overflow-y-auto p-4 h-[calc(100vh-200px)]",children:l?d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(is,{size:40})}):C.map(S=>{var T;return d.jsx(he,{variant:"outline",className:"mb-2 w-full justify-start",onClick:()=>M(S),children:d.jsxs("div",{className:"flex w-full items-center justify-between",children:[d.jsxs("span",{children:[S.name," ",S.address.streetAddress," ",S.address.city,", ",S.address.region," ",S.address.postalCode," "," ",(T=S.deliveryInstructions)!=null&&T.accessInstructions?`(${S.deliveryInstructions.accessInstructions})`:""]}),P&&S.profileId&&d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Customer ID: ",S.profileId]})]})},S._id)})}),d.jsxs(pr,{className:"px-6 py-4",children:[d.jsx(he,{variant:"outline",onClick:()=>u(!1),children:Nt.actions.close}),d.jsxs(he,{onClick:b,children:[d.jsx(Ji,{className:"mr-2 h-4 w-4"}),Nt.actions.add]})]})]})}),y&&d.jsxs("div",{className:"fixed inset-0 z-50",children:[d.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm"}),d.jsx("div",{className:"relative z-50"})]})]})}function Cb(){const{newOrderForm:t,updateNewOrderForm:n,orderItemsInput:i,setOrderItemsInput:s,isLoading:l,error:o,isItemsDialogOpen:c,setIsItemsDialogOpen:u,generateOrderItems:f}=oi(),m=async()=>{if(i.trim())try{const v=(await f({items:t.items,prompt:i})).map(y=>({name:y.name,quantity:y.quantity,unitOfMeasure:y.unit}));n({items:v}),s(""),u(!1)}catch(g){console.error("Error generating items:",g)}};return d.jsx(Ms,{open:c,onOpenChange:u,children:d.jsxs(Pr,{children:[d.jsx(Sr,{children:d.jsx(Lr,{children:"Add Items"})}),d.jsxs("div",{className:"grid gap-4",children:[d.jsx(Ln,{placeholder:"Describe the items you need...",value:i,onChange:g=>s(g.target.value),className:J("min-h-[100px] resize-none",o&&"border-destructive")}),o&&d.jsx("p",{className:"text-sm text-destructive",children:o})]}),d.jsxs(Ns,{children:[d.jsx(he,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),d.jsxs(he,{onClick:m,disabled:l,children:[l&&d.jsx(cm,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Items"]})]})]})})}function Pb(){const{isOrderDialogOpen:t,setIsOrderDialogOpen:n,newOrderForm:i,updateNewOrderForm:s,resetNewOrderForm:l,createOrder:o,setIsItemsDialogOpen:c,setIsJobSiteDialogOpen:u}=oi(),{profile:f}=$l(),m=async x=>{if(x.preventDefault(),!!i.jobSiteId)try{await o({jobSiteId:i.jobSiteId,items:i.items,notes:i.notes,additionalNotes:i.additionalNotes}),n(!1),l()}catch(C){console.error("Failed to create order:",C)}},g=()=>{n(!1),l()},v=()=>{u(!0)},y=(f==null?void 0:f.type)==="company";return d.jsx(Ms,{open:t,onOpenChange:n,children:d.jsxs(Pr,{className:"h-screen w-screen",children:[d.jsx(Sr,{children:d.jsx(Lr,{children:"Create New Order"})}),d.jsx(kr,{className:"flex h-full flex-col",children:d.jsxs("form",{onSubmit:m,className:"space-y-6 p-6",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{children:"Job Site"}),d.jsx("div",{className:"flex space-x-2",children:d.jsxs(he,{type:"button",variant:"outline",className:J("w-full justify-start text-left font-normal",!i.jobSiteId&&"text-muted-foreground"),onClick:v,children:[d.jsx(om,{className:"mr-2 h-4 w-4"}),i.jobSiteName||"Select a job site"]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{children:"Requested Delivery Date"}),d.jsxs(qi,{children:[d.jsx(Ki,{asChild:!0,children:d.jsxs(he,{variant:"outline",className:J("w-full justify-start text-left font-normal",!i.requestedDeliveryDate&&"text-muted-foreground"),children:[d.jsx(Eo,{className:"mr-2 h-4 w-4"}),i.requestedDeliveryDate?vt(new Date(i.requestedDeliveryDate),"PPP"):d.jsx("span",{children:"Pick a date"})]})}),d.jsx(Qn,{className:"w-auto p-0",align:"start",children:d.jsx(ri,{mode:"single",selected:i.requestedDeliveryDate?new Date(i.requestedDeliveryDate):void 0,onSelect:x=>s({requestedDeliveryDate:(x==null?void 0:x.toISOString())||""}),initialFocus:!0})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(xe,{children:"Items"}),d.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:()=>c(!0),children:[d.jsx(Ji,{className:"mr-2 h-4 w-4"}),"Add Items"]})]}),d.jsx("div",{className:"rounded-md border",children:i.items.length===0?d.jsx("div",{className:"flex h-[100px] items-center justify-center text-sm text-muted-foreground",children:"No items added yet"}):d.jsx("div",{className:"divide-y",children:i.items.map((x,C)=>d.jsxs("div",{className:"flex items-center justify-between p-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:x.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.quantity," ",x.unitOfMeasure]})]}),d.jsx(he,{type:"button",variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{const b=[...i.items];b.splice(C,1),s({items:b})},children:"Remove"})]},C))})})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"notes",children:"Notes"}),d.jsx(Ln,{id:"notes",value:i.notes,onChange:x=>s({notes:x.target.value}),placeholder:"Add any additional notes here..."})]}),y&&d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"additionalNotes",children:"Additional Notes"}),d.jsx(Ln,{id:"additionalNotes",value:i.additionalNotes||"",onChange:x=>s({additionalNotes:x.target.value}),placeholder:"Add any additional notes for the admin..."})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx(he,{type:"button",variant:"outline",onClick:g,children:"Cancel"}),d.jsx(he,{type:"submit",children:"Submit Order"})]})]})}),d.jsx(Cb,{}),d.jsx(bb,{})]})})}function Sb(){const{setIsFilterDialogOpen:t,setIsOrderDialogOpen:n}=oi(),{setCurrentJobSite:i,setIsJobSiteDialogOpen:s,setIsFilterPopoverOpen:l}=nn(),{currentRoute:o,headerTitle:c}=um(),f=(()=>{switch(o){case"/orders":return{title:c,left:d.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{type:"spring",stiffness:300,damping:30},children:[d.jsxs(he,{variant:"ghost",size:"icon",onClick:()=>t(!0),className:"relative hover:bg-accent/50",children:[d.jsx(ko,{className:"h-5 w-5"}),d.jsx(Oe.div,{layoutId:"buttonHighlight",className:"absolute inset-0 z-0 rounded-md bg-accent/10",transition:{type:"spring",bounce:.2}})]}),d.jsx(wb,{})]}),right:d.jsxs(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{type:"spring",stiffness:300,damping:30},children:[d.jsxs(he,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"relative hover:bg-accent/50",children:[d.jsx(Ji,{className:"h-5 w-5"}),d.jsx(Oe.div,{layoutId:"addButtonHighlight",className:"absolute inset-0 z-0 rounded-md bg-accent/10",transition:{type:"spring",bounce:.2}})]}),d.jsx(Pb,{})]})};case"/job-sites":return{title:c,left:d.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{type:"spring",stiffness:300,damping:30},children:[d.jsxs(he,{variant:"ghost",size:"icon",onClick:()=>l(!0),className:"relative hover:bg-accent/50",children:[d.jsx(ko,{className:"h-5 w-5"}),d.jsx(Oe.div,{layoutId:"buttonHighlight",className:"absolute inset-0 z-0 rounded-md bg-accent/10",transition:{type:"spring",bounce:.2}})]}),d.jsx(rb,{})]}),right:d.jsxs(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{type:"spring",stiffness:300,damping:30},children:[d.jsxs(he,{variant:"ghost",size:"icon",onClick:()=>{i(null),s(!0)},className:"relative hover:bg-accent/50",children:[d.jsx(Ji,{className:"h-5 w-5"}),d.jsx(Oe.div,{layoutId:"addButtonHighlight",className:"absolute inset-0 z-0 rounded-md bg-accent/10",transition:{type:"spring",bounce:.2}})]}),d.jsx(I_,{})]})};default:return null}})();return f?d.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:f.left}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Oe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-lg font-semibold text-[var(--main-color)]",children:f.title},f.title)}),d.jsx("div",{className:"flex items-center gap-2",children:f.right})]}):null}function Bb({children:t}){const{isAuthenticated:n}=sm();return n?d.jsx(To,{mode:"wait",children:d.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"no-scrollbar flex min-h-screen flex-col",children:[d.jsx(Sb,{}),d.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:t}),d.jsx(Vm,{})]},"authenticated")}):d.jsx(To,{mode:"wait",children:d.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex min-h-screen items-center justify-center bg-background",children:t},"unauthenticated")})}const Lb=dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fb({className:t,variant:n,...i}){return d.jsx("div",{className:J(Lb({variant:n}),t),...i})}export{Ss as $,vl as A,Fb as B,mr as C,kb as D,Ao as E,jo as F,Io as G,Bo as H,Ro as I,I_ as J,$c as K,Bb as L,Yl as M,Fo as N,Pb as O,Ji as P,Ms as Q,Pr as R,kr as S,Sr as T,Lr as U,mg as V,pg as W,si as X,wh as Y,ko as Z,ed as _,di as a,td as a0,Ls as a1,Mt as a2,ri as a3,Gc as a4,_t as a5,xr as a6,zd as a7,Cs as a8,st as a9,Ui as aA,A_ as aB,Jo as aC,Fe as aD,ld as aE,ss as aa,ie as ab,rs as ac,dr as ad,ur as ae,Gw as af,pu as ag,Vw as ah,Be as ai,gu as aj,os as ak,hr as al,gr as am,mu as an,Pn as ao,Ft as ap,Sm as aq,xm as ar,Tm as as,jm as at,__ as au,To as av,g_ as aw,Ll as ax,Dm as ay,zm as az,pr as b,qo as c,u_ as d,d_ as e,Ko as f,h_ as g,f_ as h,Eo as i,Nt as j,vt as k,Um as l,De as m,Os as n,An as o,ii as p,mi as q,hd as r,sr as s,Ce as t,Ml as u,Ab as v,Db as w,qi as x,Ki as y,Qn as z};
